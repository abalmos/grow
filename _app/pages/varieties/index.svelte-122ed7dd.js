import{S as he,i as de,s as pe,e as I,t as B,k as j,c as V,a as E,g as A,d as c,n as C,b as g,f as S,H as p,h as R,R as _e,w as ee,x as H,u as L,Z as O,j as Z,D as te,m as F,E as le,o as G,_ as se,v as J,$ as me,r as re,T as ve,a0 as ge,I as ae}from"../../chunks/vendor-b3a12ac3.js";import{g as ne}from"../../chunks/navigation-51f4a605.js";import{V as ke}from"../../chunks/Variety-ab1a983c.js";import{P as be}from"../../chunks/PollenIcon-b9e2ffc2.js";import{C as $e}from"../../chunks/CornIcon-26531608.js";import{H as we}from"../../chunks/Header-5712565a.js";import"../../chunks/singletons-12a22614.js";const{Map:ye}=ge;function oe(u,e,l){const t=u.slice();return t[5]=e[l][0],t[6]=e[l][1],t}function ie(u,e,l){const t=u.slice();return t[9]=e[l],t}function Ee(u){let e,l;return{c(){e=I("span"),l=B("Unknown"),this.h()},l(t){e=V(t,"SPAN",{class:!0});var r=E(e);l=A(r,"Unknown"),r.forEach(c),this.h()},h(){g(e,"class","text-red-300")},m(t,r){S(t,e,r),p(e,l)},p:ae,d(t){t&&c(e)}}}function Ie(u){let e=u[9].gduToTassel+"",l;return{c(){l=B(e)},l(t){l=A(t,e)},m(t,r){S(t,l,r)},p(t,r){r&2&&e!==(e=t[9].gduToTassel+"")&&R(l,e)},d(t){t&&c(l)}}}function Ve(u){let e,l;return{c(){e=I("span"),l=B("Unknown"),this.h()},l(t){e=V(t,"SPAN",{class:!0});var r=E(e);l=A(r,"Unknown"),r.forEach(c),this.h()},h(){g(e,"class","text-red-300")},m(t,r){S(t,e,r),p(e,l)},p:ae,d(t){t&&c(e)}}}function Te(u){let e=u[9].gduToBlack+"",l;return{c(){l=B(e)},l(t){l=A(t,e)},m(t,r){S(t,l,r)},p(t,r){r&2&&e!==(e=t[9].gduToBlack+"")&&R(l,e)},d(t){t&&c(l)}}}function ce(u,e){let l,t,r=e[9].product+"",v,h,o,_,d,k,s,a,$,P,N;_=new be({props:{class:"w-4 h-4 mr-2"}});function D(y,f){return y[9].gduToTassel?Ie:Ee}let U=D(e),T=U(e);s=new $e({props:{class:"w-4 h-4 ml-2 mr-2"}});function z(y,f){return y[9].gduToBlack?Te:Ve}let M=z(e),w=M(e);function m(){return e[4](e[9])}return{key:u,first:null,c(){l=I("div"),t=I("div"),v=B(r),h=j(),o=I("div"),Z(_.$$.fragment),d=j(),T.c(),k=j(),Z(s.$$.fragment),a=j(),w.c(),this.h()},l(y){l=V(y,"DIV",{class:!0});var f=E(l);t=V(f,"DIV",{class:!0});var n=E(t);v=A(n,r),n.forEach(c),h=C(f),o=V(f,"DIV",{class:!0});var i=E(o);F(_.$$.fragment,i),d=C(i),T.l(i),k=C(i),F(s.$$.fragment,i),a=C(i),w.l(i),i.forEach(c),f.forEach(c),this.h()},h(){g(t,"class","flex-grow text-lg"),g(o,"class","flex flex-row mt-2"),g(l,"class","flex-col items-center cursor-pointer text-gray-700 hover:text-blue-400 hover:bg-blue-100 rounded-sm m-2 py-1"),this.first=l},m(y,f){S(y,l,f),p(l,t),p(t,v),p(l,h),p(l,o),G(_,o,null),p(o,d),T.m(o,null),p(o,k),G(s,o,null),p(o,a),w.m(o,null),$=!0,P||(N=O(l,"click",m),P=!0)},p(y,f){e=y,(!$||f&2)&&r!==(r=e[9].product+"")&&R(v,r),U===(U=D(e))&&T?T.p(e,f):(T.d(1),T=U(e),T&&(T.c(),T.m(o,k))),M===(M=z(e))&&w?w.p(e,f):(w.d(1),w=M(e),w&&(w.c(),w.m(o,null)))},i(y){$||(H(_.$$.fragment,y),H(s.$$.fragment,y),$=!0)},o(y){L(_.$$.fragment,y),L(s.$$.fragment,y),$=!1},d(y){y&&c(l),J(_),T.d(),J(s),w.d(),P=!1,N()}}}function ue(u){let e,l=u[5]+"",t,r,v,h=[],o=new ye,_,d=u[6];const k=s=>s[9].brand+s[9].product;for(let s=0;s<d.length;s+=1){let a=ie(u,d,s),$=k(a);o.set($,h[s]=ce($,a))}return{c(){e=I("h2"),t=B(l),r=j(),v=I("div");for(let s=0;s<h.length;s+=1)h[s].c();this.h()},l(s){e=V(s,"H2",{class:!0});var a=E(e);t=A(a,l),a.forEach(c),r=C(s),v=V(s,"DIV",{class:!0});var $=E(v);for(let P=0;P<h.length;P+=1)h[P].l($);$.forEach(c),this.h()},h(){g(e,"class","uppercase text-xs font-extralight tracking-wide pt-6"),g(v,"class","divide-y divide-gray-100")},m(s,a){S(s,e,a),p(e,t),S(s,r,a),S(s,v,a);for(let $=0;$<h.length;$+=1)h[$].m(v,null);_=!0},p(s,a){(!_||a&2)&&l!==(l=s[5]+"")&&R(t,l),a&2&&(d=s[6],re(),h=_e(h,a,k,1,s,d,o,v,ve,ce,null,ie),ee())},i(s){if(!_){for(let a=0;a<d.length;a+=1)H(h[a]);_=!0}},o(s){for(let a=0;a<h.length;a+=1)L(h[a]);_=!1},d(s){s&&c(e),s&&c(r),s&&c(v);for(let a=0;a<h.length;a+=1)h[a].d()}}}function fe(u){let e,l,t,r,v,h,o,_;return{c(){e=I("button"),l=I("p"),t=B("create "),r=I("span"),v=B(u[0]),h=B(" ..."),this.h()},l(d){e=V(d,"BUTTON",{class:!0});var k=E(e);l=V(k,"P",{class:!0});var s=E(l);t=A(s,"create "),r=V(s,"SPAN",{class:!0});var a=E(r);v=A(a,u[0]),h=A(a," ..."),a.forEach(c),s.forEach(c),k.forEach(c),this.h()},h(){g(r,"class","normal-case text-normal font-normal"),g(l,"class","font-light tracking-wide"),g(e,"class","mt-4")},m(d,k){S(d,e,k),p(e,l),p(l,t),p(l,r),p(r,v),p(r,h),o||(_=O(e,"click",u[2]),o=!0)},p(d,k){k&1&&R(v,d[0])},d(d){d&&c(e),o=!1,_()}}}function Pe(u){let e,l,t,r,v,h,o,_,d,k,s,a,$,P,N,D,U,T,z,M;e=new we({props:{title:"Varieties"}});let w=Array.from(u[1].entries()),m=[];for(let n=0;n<w.length;n+=1)m[n]=ue(oe(u,w,n));const y=n=>L(m[n],1,1,()=>{m[n]=null});let f=u[0].length>0&&fe(u);return{c(){Z(e.$$.fragment),l=j(),t=I("div"),r=I("span"),v=B("Search variety"),h=j(),o=I("label"),_=I("span"),d=te("svg"),k=te("path"),s=j(),a=I("input"),$=j(),P=I("div"),N=I("div"),D=I("div");for(let n=0;n<m.length;n+=1)m[n].c();U=j(),f&&f.c(),this.h()},l(n){F(e.$$.fragment,n),l=C(n),t=V(n,"DIV",{class:!0});var i=E(t);r=V(i,"SPAN",{class:!0});var b=E(r);v=A(b,"Search variety"),b.forEach(c),h=C(i),o=V(i,"LABEL",{class:!0});var x=E(o);_=V(x,"SPAN",{});var Q=E(_);d=le(Q,"svg",{class:!0,xmlns:!0,viewBox:!0});var W=E(d);k=le(W,"path",{d:!0}),E(k).forEach(c),W.forEach(c),Q.forEach(c),s=C(x),a=V(x,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),x.forEach(c),i.forEach(c),$=C(n),P=V(n,"DIV",{class:!0});var X=E(P);N=V(X,"DIV",{class:!0});var Y=E(N);D=V(Y,"DIV",{class:!0});var q=E(D);for(let K=0;K<m.length;K+=1)m[K].l(q);U=C(q),f&&f.l(q),q.forEach(c),Y.forEach(c),X.forEach(c),this.h()},h(){g(r,"class","text-sm pt-2 pb-1"),g(k,"d","M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"),g(d,"class","fill-current text-gray-500 w-6 h-6"),g(d,"xmlns","http://www.w3.org/2000/svg"),g(d,"viewBox","0 0 24 24"),g(a,"id","search"),g(a,"type","text"),g(a,"placeholder","DKC63-..."),g(a,"class","input input-bordered w-full"),g(o,"class","input-group"),g(t,"class","form-control mx-2"),g(D,"class","text-sm px-2"),g(N,"class","bg-white px-3 py-2 mb-4"),g(P,"class","w-full")},m(n,i){G(e,n,i),S(n,l,i),S(n,t,i),p(t,r),p(r,v),p(t,h),p(t,o),p(o,_),p(_,d),p(d,k),p(o,s),p(o,a),se(a,u[0]),S(n,$,i),S(n,P,i),p(P,N),p(N,D);for(let b=0;b<m.length;b+=1)m[b].m(D,null);p(D,U),f&&f.m(D,null),T=!0,z||(M=O(a,"input",u[3]),z=!0)},p(n,[i]){if(i&1&&a.value!==n[0]&&se(a,n[0]),i&2){w=Array.from(n[1].entries());let b;for(b=0;b<w.length;b+=1){const x=oe(n,w,b);m[b]?(m[b].p(x,i),H(m[b],1)):(m[b]=ue(x),m[b].c(),H(m[b],1),m[b].m(D,U))}for(re(),b=w.length;b<m.length;b+=1)y(b);ee()}n[0].length>0?f?f.p(n,i):(f=fe(n),f.c(),f.m(D,null)):f&&(f.d(1),f=null)},i(n){if(!T){H(e.$$.fragment,n);for(let i=0;i<w.length;i+=1)H(m[i]);T=!0}},o(n){L(e.$$.fragment,n),m=m.filter(Boolean);for(let i=0;i<m.length;i+=1)L(m[i]);T=!1},d(n){J(e,n),n&&c(l),n&&c(t),n&&c($),n&&c(P),me(m,n),f&&f.d(),z=!1,M()}}}function De(u,e,l){let t="",r=new Map;function v(){ne(`varieties/new/edit?product=${encodeURIComponent(t)}`)}function h(){t=this.value,l(0,t)}const o=_=>ne(`varieties/${_.id}/edit`,{replaceState:!1});return u.$$.update=()=>{u.$$.dirty&1&&ke.searchByProduct(t).then(_=>{const d=_.reduce((k,s)=>k.set(s.brand,[...k.get(s.brand)||[],s]),new Map);l(1,r=d)})},[t,r,v,h,o]}class Me extends he{constructor(e){super();de(this,e,De,Pe,pe,{})}}export{Me as default};
