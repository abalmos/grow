import{a4 as Pt,a5 as Ct,S as lt,i as rt,s as nt,D as Ge,E as Re,a as f,d as i,b as o,f as k,H as r,I as Ae,a6 as yt,a7 as Mt,e as u,j as Ee,k as w,t as p,c as v,m as Ie,n as E,g as h,o as Ve,Z as zt,h as P,r as Ft,u as Z,w as Gt,x as K,v as ke,a8 as jt,O as Rt}from"./vendor-b3a12ac3.js";import{g as At}from"./navigation-51f4a605.js";import{W as Bt}from"./Weather-186ca2b9.js";import{L as St,G as Tt}from"./GeoJson-374c29c6.js";import{C as Ut}from"./CornIcon-26531608.js";function it(l){if(!l)return[];const e=l.maxTemp,s=l.minTemp;return e.map((t,a)=>{let c=s[a];return!c||c===-999||t===-999?0:(c=Math.max(c,50),t=Math.min(Math.max(t,50),86),(t+c)/2-50)})}function oa(l){const e=new Map;return l.forEach((s,t)=>{e.set(t,it(s))}),e}function Wt(){return new Worker("/_app/assets/ACIS.76679cb0.js",{type:"module"})}const Lt=new Wt;function Yt(l,e){return Pt(new Map,s=>{Lt.postMessage({coord:l,years:e});const t=Ct(()=>Bt.getAll(l)).subscribe(s);return()=>{t.unsubscribe()}})}function xt(l){let e,s;return{c(){e=Ge("svg"),s=Ge("path"),this.h()},l(t){e=Re(t,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=f(e);s=Re(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),f(s).forEach(i),a.forEach(i),this.h()},h(){o(s,"fill-rule","evenodd"),o(s,"d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z"),o(s,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class",l[0])},m(t,a){k(t,e,a),r(e,s)},p(t,[a]){a&1&&o(e,"class",t[0])},i:Ae,o:Ae,d(t){t&&i(e)}}}function Ot(l,e,s){let{class:t="h-5 w-5 inline"}=e;return l.$$set=a=>{"class"in a&&s(0,t=a.class)},[t]}class Ht extends lt{constructor(e){super();rt(this,e,Ot,xt,nt,{class:0})}}function Jt(l){let e,s;return{c(){e=Ge("svg"),s=Ge("path"),this.h()},l(t){e=Re(t,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=f(e);s=Re(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),f(s).forEach(i),a.forEach(i),this.h()},h(){o(s,"fill-rule","evenodd"),o(s,"d","M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z"),o(s,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class",l[0])},m(t,a){k(t,e,a),r(e,s)},p(t,[a]){a&1&&o(e,"class",t[0])},i:Ae,o:Ae,d(t){t&&i(e)}}}function qt(l,e,s){let{class:t="h-5 w-5 inline"}=e;return l.$$set=a=>{"class"in a&&s(0,t=a.class)},[t]}class Nt extends lt{constructor(e){super();rt(this,e,qt,Jt,nt,{class:0})}}function Qt(l){let e,s;return e=new Tt({props:{geojson:l[0].geojson,zoomTo:!0}}),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,a){Ve(e,t,a),s=!0},p(t,a){const c={};a&1&&(c.geojson=t[0].geojson),e.$set(c)},i(t){s||(K(e.$$.fragment,t),s=!0)},o(t){Z(e.$$.fragment,t),s=!1},d(t){ke(e,t)}}}function Zt(l){let e=Math.floor(l[3]-l[2])+"",s,t;return{c(){s=p(e),t=p(" behind")},l(a){s=h(a,e),t=h(a," behind")},m(a,c){k(a,s,c),k(a,t,c)},p(a,c){c&12&&e!==(e=Math.floor(a[3]-a[2])+"")&&P(s,e)},d(a){a&&i(s),a&&i(t)}}}function Kt(l){let e=Math.floor(l[2]-l[3])+"",s,t;return{c(){s=p(e),t=p(" ahead")},l(a){s=h(a,e),t=h(a," ahead")},m(a,c){k(a,s,c),k(a,t,c)},p(a,c){c&12&&e!==(e=Math.floor(a[2]-a[3])+"")&&P(s,e)},d(a){a&&i(s),a&&i(t)}}}function Xt(l){let e,s,t=(l[5]-l[4]).toFixed(1)+"",a,c,b;return e=new Nt({}),{c(){Ee(e.$$.fragment),s=w(),a=p(t),c=p(" in.")},l(n){Ie(e.$$.fragment,n),s=E(n),a=h(n,t),c=h(n," in.")},m(n,m){Ve(e,n,m),k(n,s,m),k(n,a,m),k(n,c,m),b=!0},p(n,m){(!b||m&48)&&t!==(t=(n[5]-n[4]).toFixed(1)+"")&&P(a,t)},i(n){b||(K(e.$$.fragment,n),b=!0)},o(n){Z(e.$$.fragment,n),b=!1},d(n){ke(e,n),n&&i(s),n&&i(a),n&&i(c)}}}function ea(l){let e,s,t=(l[4]-l[5]).toFixed(1)+"",a,c,b;return e=new Ht({}),{c(){Ee(e.$$.fragment),s=w(),a=p(t),c=p(" in.")},l(n){Ie(e.$$.fragment,n),s=E(n),a=h(n,t),c=h(n," in.")},m(n,m){Ve(e,n,m),k(n,s,m),k(n,a,m),k(n,c,m),b=!0},p(n,m){(!b||m&48)&&t!==(t=(n[4]-n[5]).toFixed(1)+"")&&P(a,t)},i(n){b||(K(e.$$.fragment,n),b=!0)},o(n){Z(e.$$.fragment,n),b=!1},d(n){ke(e,n),n&&i(s),n&&i(a),n&&i(c)}}}function ta(l){var ut,vt;let e,s,t,a,c,b,n,m,I,z,G,U=(l[0].name||"")+"",Y,X,y,R,g,$=Math.round(l[0].area)+"",D,x,Be,ee,te,Se,Te,ae,_e=((ut=l[1])==null?void 0:ut.product)+"",ye,Ue,F,se,A,le,We,Le,re,pe=(l[0].datePlanted?yt(l[0].datePlanted,"MMM do"):"")+"",Me,Ye,ne,he=(l[0].datePlanted?`${Mt(new Date,l[0].datePlanted)} days ago`:"")+"",je,xe,ie,B,oe,Oe,He,O,Pe,H,Je,ge=((vt=l[1])==null?void 0:vt.gduToBlack)+"",Ce,qe,J,Ne,ce,S,de,Qe,Ze,q,$e=l[4].toFixed(1)+"",ze,Ke,Xe,N,M,j,V,et,ot;t=new St({props:{class:"h-56",zoomControl:!1,dragable:!1,zoomable:!1,$$slots:{default:[Qt]},$$scope:{ctx:l}}}),R=new Ut({props:{class:"w-5 h-5 fill-current"}});function ct(d,_){return d[2]>d[3]?Kt:Zt}let Fe=ct(l),C=Fe(l);const dt=[ea,Xt],W=[];function ft(d,_){return d[4]>d[5]?0:1}return M=ft(l),j=W[M]=dt[M](l),{c(){e=u("div"),s=u("figure"),Ee(t.$$.fragment),a=w(),c=u("progress"),n=w(),m=u("div"),I=u("div"),z=u("div"),G=u("h1"),Y=p(U),X=w(),y=u("div"),Ee(R.$$.fragment),g=w(),D=p($),x=p(" ac."),Be=w(),ee=u("div"),te=u("div"),Se=p("R5"),Te=w(),ae=u("div"),ye=p(_e),Ue=w(),F=u("div"),se=u("div"),A=u("div"),le=u("div"),We=p("Planted"),Le=w(),re=u("div"),Me=p(pe),Ye=w(),ne=u("div"),je=p(he),xe=w(),ie=u("div"),B=u("div"),oe=u("div"),Oe=p("GDU"),He=w(),O=u("div"),Pe=p(l[2]),H=u("span"),Je=p("/"),Ce=p(ge),qe=w(),J=u("div"),C.c(),Ne=w(),ce=u("div"),S=u("div"),de=u("div"),Qe=p("Rain"),Ze=w(),q=u("div"),ze=p($e),Ke=p(" in."),Xe=w(),N=u("div"),j.c(),this.h()},l(d){e=v(d,"DIV",{class:!0});var _=f(e);s=v(_,"FIGURE",{});var be=f(s);Ie(t.$$.fragment,be),be.forEach(i),a=E(_),c=v(_,"PROGRESS",{class:!0,max:!0}),f(c).forEach(i),n=E(_),m=v(_,"DIV",{class:!0});var L=f(m);I=v(L,"DIV",{class:!0});var T=f(I);z=v(T,"DIV",{class:!0});var Q=f(z);G=v(Q,"H1",{class:!0});var De=f(G);Y=h(De,U),De.forEach(i),X=E(Q),y=v(Q,"DIV",{class:!0});var we=f(y);Ie(R.$$.fragment,we),g=E(we),D=h(we,$),x=h(we," ac."),we.forEach(i),Q.forEach(i),Be=E(T),ee=v(T,"DIV",{class:!0});var mt=f(ee);te=v(mt,"DIV",{class:!0});var _t=f(te);Se=h(_t,"R5"),_t.forEach(i),mt.forEach(i),Te=E(T),ae=v(T,"DIV",{class:!0});var pt=f(ae);ye=h(pt,_e),pt.forEach(i),T.forEach(i),Ue=E(L),F=v(L,"DIV",{class:!0});var fe=f(F);se=v(fe,"DIV",{class:!0});var ht=f(se);A=v(ht,"DIV",{});var ue=f(A);le=v(ue,"DIV",{class:!0});var gt=f(le);We=h(gt,"Planted"),gt.forEach(i),Le=E(ue),re=v(ue,"DIV",{class:!0});var $t=f(re);Me=h($t,pe),$t.forEach(i),Ye=E(ue),ne=v(ue,"DIV",{class:!0});var bt=f(ne);je=h(bt,he),bt.forEach(i),ue.forEach(i),ht.forEach(i),xe=E(fe),ie=v(fe,"DIV",{class:!0});var Dt=f(ie);B=v(Dt,"DIV",{});var ve=f(B);oe=v(ve,"DIV",{class:!0});var wt=f(oe);Oe=h(wt,"GDU"),wt.forEach(i),He=E(ve),O=v(ve,"DIV",{class:!0});var tt=f(O);Pe=h(tt,l[2]),H=v(tt,"SPAN",{class:!0});var at=f(H);Je=h(at,"/"),Ce=h(at,ge),at.forEach(i),tt.forEach(i),qe=E(ve),J=v(ve,"DIV",{class:!0});var Et=f(J);C.l(Et),Et.forEach(i),ve.forEach(i),Dt.forEach(i),Ne=E(fe),ce=v(fe,"DIV",{class:!0});var It=f(ce);S=v(It,"DIV",{});var me=f(S);de=v(me,"DIV",{class:!0});var Vt=f(de);Qe=h(Vt,"Rain"),Vt.forEach(i),Ze=E(me),q=v(me,"DIV",{class:!0});var st=f(q);ze=h(st,$e),Ke=h(st," in."),st.forEach(i),Xe=E(me),N=v(me,"DIV",{class:!0});var kt=f(N);j.l(kt),kt.forEach(i),me.forEach(i),It.forEach(i),fe.forEach(i),L.forEach(i),_.forEach(i),this.h()},h(){var d;o(c,"class","progress progress-secondary rounded-none"),c.value=l[2],o(c,"max",b=(d=l[1])==null?void 0:d.gduToBlack),o(G,"class","card-title text-2xl pb-0 mb-0"),o(y,"class","flex flex-row text-xs text-primary items-center"),o(z,"class","flex-1"),o(te,"class","badge badge-primary badge-lg font-bold h-8"),o(ee,"class","flex-1 text-center font-bold"),o(ae,"class","text-right flex-1 text-"),o(I,"class","flex"),o(le,"class","stat-title"),o(re,"class","stat-value text-xl font-semibold"),o(ne,"class","stat-desc"),o(se,"class","stat justify-items-center svelte-d8i88f"),o(oe,"class","stat-title"),o(H,"class","text-xs text-gray-400"),o(O,"class","stat-value text-xl font-semibold"),o(J,"class","stat-desc"),o(ie,"class","stat justify-items-center svelte-d8i88f"),o(de,"class","stat-title"),o(q,"class","stat-value text-xl font-semibold"),o(N,"class","stat-desc"),o(ce,"class","stat justify-items-center svelte-d8i88f"),o(F,"class","stats"),o(m,"class","card-body p-4 pb-0"),o(e,"class","card rounded-none")},m(d,_){k(d,e,_),r(e,s),Ve(t,s,null),r(e,a),r(e,c),r(e,n),r(e,m),r(m,I),r(I,z),r(z,G),r(G,Y),r(z,X),r(z,y),Ve(R,y,null),r(y,g),r(y,D),r(y,x),r(I,Be),r(I,ee),r(ee,te),r(te,Se),r(I,Te),r(I,ae),r(ae,ye),r(m,Ue),r(m,F),r(F,se),r(se,A),r(A,le),r(le,We),r(A,Le),r(A,re),r(re,Me),r(A,Ye),r(A,ne),r(ne,je),r(F,xe),r(F,ie),r(ie,B),r(B,oe),r(oe,Oe),r(B,He),r(B,O),r(O,Pe),r(O,H),r(H,Je),r(H,Ce),r(B,qe),r(B,J),C.m(J,null),r(F,Ne),r(F,ce),r(ce,S),r(S,de),r(de,Qe),r(S,Ze),r(S,q),r(q,ze),r(q,Ke),r(S,Xe),r(S,N),W[M].m(N,null),V=!0,et||(ot=zt(s,"click",l[8]),et=!0)},p(d,[_]){var T,Q,De;const be={};_&16385&&(be.$$scope={dirty:_,ctx:d}),t.$set(be),(!V||_&4)&&(c.value=d[2]),(!V||_&2&&b!==(b=(T=d[1])==null?void 0:T.gduToBlack))&&o(c,"max",b),(!V||_&1)&&U!==(U=(d[0].name||"")+"")&&P(Y,U),(!V||_&1)&&$!==($=Math.round(d[0].area)+"")&&P(D,$),(!V||_&2)&&_e!==(_e=((Q=d[1])==null?void 0:Q.product)+"")&&P(ye,_e),(!V||_&1)&&pe!==(pe=(d[0].datePlanted?yt(d[0].datePlanted,"MMM do"):"")+"")&&P(Me,pe),(!V||_&1)&&he!==(he=(d[0].datePlanted?`${Mt(new Date,d[0].datePlanted)} days ago`:"")+"")&&P(je,he),(!V||_&4)&&P(Pe,d[2]),(!V||_&2)&&ge!==(ge=((De=d[1])==null?void 0:De.gduToBlack)+"")&&P(Ce,ge),Fe===(Fe=ct(d))&&C?C.p(d,_):(C.d(1),C=Fe(d),C&&(C.c(),C.m(J,null))),(!V||_&16)&&$e!==($e=d[4].toFixed(1)+"")&&P(ze,$e);let L=M;M=ft(d),M===L?W[M].p(d,_):(Ft(),Z(W[L],1,1,()=>{W[L]=null}),Gt(),j=W[M],j?j.p(d,_):(j=W[M]=dt[M](d),j.c()),K(j,1),j.m(N,null))},i(d){V||(K(t.$$.fragment,d),K(R.$$.fragment,d),K(j),V=!0)},o(d){Z(t.$$.fragment,d),Z(R.$$.fragment,d),Z(j),V=!1},d(d){d&&i(e),ke(t),ke(R),C.d(),W[M].d(),et=!1,ot()}}}function aa(l,e,s){let t,{field:a}=e,c;const b=new Date("09/15/2021"),n=b.getFullYear(),m=jt(b),I=jt(a.datePlanted||b),z=Array.from(new Array(6),(g,$)=>n-$),G=Yt(a.center,z);Rt(l,G,g=>s(7,t=g));let U=0,Y=0,X=0,y=0;const R=()=>At(`/fields/${encodeURIComponent(a.id)}`);return l.$$set=g=>{"field"in g&&s(0,a=g.field)},l.$$.update=()=>{if(l.$$.dirty&1&&a.getVariety().then(g=>s(1,c=g)),l.$$.dirty&128){const g=t.get(n);s(2,U=it(g).slice(I,m+1).reduce(($,D)=>$+D,0))}if(l.$$.dirty&128){const g=[...t.values()].map($=>it($).slice(I,m+1).reduce((D,x)=>D+x,0));s(3,Y=g.reduce(($,D)=>$+D,0)/g.length)}if(l.$$.dirty&128){let g=t.get(n);g&&s(4,X=g.precipitation.slice(I,m+1).filter($=>$!==-999).reduce(($,D)=>$+D,0))}if(l.$$.dirty&128){const g=[...t.values()].map($=>$.precipitation.slice(I,m+1).filter(D=>D!==-999).reduce((D,x)=>D+x,0));s(5,y=g.reduce(($,D)=>$+D,0)/g.length)}},[a,c,U,Y,X,y,G,t,R]}class ca extends lt{constructor(e){super();rt(this,e,aa,ta,nt,{field:0})}}export{ca as F,oa as c,Yt as w};
