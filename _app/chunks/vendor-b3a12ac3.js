function He(){}function Cn(t,e){for(const n in e)t[n]=e[n];return t}function Gy(t){return t&&typeof t=="object"&&typeof t.then=="function"}function zf(t){return t()}function Wf(){return Object.create(null)}function ta(t){t.forEach(zf)}function jf(t){return typeof t=="function"}function Rs(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Hy(t){return Object.keys(t).length===0}function zy(t,...e){if(t==null)return He;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function XG(t,e,n){t.$$.on_destroy.push(zy(e,n))}function ZG(t,e,n,r){if(t){const a=Yf(t,e,n,r);return t[0](a)}}function Yf(t,e,n,r){return t[1]&&r?Cn(n.ctx.slice(),t[1](r(e))):n.ctx}function QG(t,e,n,r){if(t[2]&&r){const a=t[2](r(n));if(e.dirty===void 0)return a;if(typeof a=="object"){const i=[],o=Math.max(e.dirty.length,a.length);for(let s=0;s<o;s+=1)i[s]=e.dirty[s]|a[s];return i}return e.dirty|a}return e.dirty}function JG(t,e,n,r,a,i){if(a){const o=Yf(e,n,r,i);t.p(o,a)}}function tH(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function qf(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function xi(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function eH(t){return t==null?"":t}function nH(t){return t&&jf(t.destroy)?t.destroy:He}let wi=!1;function Wy(){wi=!0}function jy(){wi=!1}function Yy(t,e,n,r){for(;t<e;){const a=t+(e-t>>1);n(a)<=r?t=a+1:e=a}return t}function qy(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const u=[];for(let l=0;l<e.length;l++){const c=e[l];c.claim_order!==void 0&&u.push(c)}e=u}const n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let a=0;for(let u=0;u<e.length;u++){const l=e[u].claim_order,c=(a>0&&e[n[a]].claim_order<=l?a+1:Yy(1,a,f=>e[n[f]].claim_order,l))-1;r[u]=n[c]+1;const h=c+1;n[h]=u,a=Math.max(h,a)}const i=[],o=[];let s=e.length-1;for(let u=n[a]+1;u!=0;u=r[u-1]){for(i.push(e[u-1]);s>=u;s--)o.push(e[s]);s--}for(;s>=0;s--)o.push(e[s]);i.reverse(),o.sort((u,l)=>u.claim_order-l.claim_order);for(let u=0,l=0;u<o.length;u++){for(;l<i.length&&o[u].claim_order>=i[l].claim_order;)l++;const c=l<i.length?i[l]:null;t.insertBefore(o[u],c)}}function Ky(t,e){if(wi){for(qy(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function Xy(t,e,n){wi&&!n?Ky(t,e):(e.parentNode!==t||e.nextSibling!=n)&&t.insertBefore(e,n||null)}function Is(t){t.parentNode.removeChild(t)}function rH(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Kf(t){return document.createElement(t)}function Zy(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ns(t){return document.createTextNode(t)}function aH(){return Ns(" ")}function iH(){return Ns("")}function oH(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Qy(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Xf(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:Qy(t,r,e[r])}function sH(t){return t===""?null:+t}function Zf(t){return Array.from(t.childNodes)}function Jy(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function Qf(t,e,n,r,a=!1){Jy(t);const i=(()=>{for(let o=t.claim_info.last_index;o<t.length;o++){const s=t[o];if(e(s)){const u=n(s);return u===void 0?t.splice(o,1):t[o]=u,a||(t.claim_info.last_index=o),s}}for(let o=t.claim_info.last_index-1;o>=0;o--){const s=t[o];if(e(s)){const u=n(s);return u===void 0?t.splice(o,1):t[o]=u,a?u===void 0&&t.claim_info.last_index--:t.claim_info.last_index=o,s}}return r()})();return i.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,i}function Jf(t,e,n,r){return Qf(t,a=>a.nodeName===e,a=>{const i=[];for(let o=0;o<a.attributes.length;o++){const s=a.attributes[o];n[s.name]||i.push(s.name)}i.forEach(o=>a.removeAttribute(o))},()=>r(e))}function t0(t,e,n){return Jf(t,e,n,Kf)}function uH(t,e,n){return Jf(t,e,n,Zy)}function e0(t,e){return Qf(t,n=>n.nodeType===3,n=>{const r=""+e;if(n.data.startsWith(r)){if(n.data.length!==r.length)return n.splitText(r.length)}else n.data=r},()=>Ns(e),!0)}function lH(t){return e0(t," ")}function cH(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function fH(t,e){t.value=e==null?"":e}function hH(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function dH(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function pH(t,e,n){t.classList[n?"add":"remove"](e)}function n0(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}let ea;function ze(t){ea=t}function An(){if(!ea)throw new Error("Function called outside component initialization");return ea}function r0(t){An().$$.on_mount.push(t)}function vH(t){An().$$.after_update.push(t)}function gH(t){An().$$.on_destroy.push(t)}function a0(){const t=An();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const a=n0(e,n);r.slice().forEach(i=>{i.call(t,a)})}}}function mH(t,e){An().$$.context.set(t,e)}function yH(t){return An().$$.context.get(t)}function Bs(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const na=[],ra=[],Oi=[],Us=[],i0=Promise.resolve();let Fs=!1;function o0(){Fs||(Fs=!0,i0.then(Gs))}function Vs(t){Oi.push(t)}function th(t){Us.push(t)}const $s=new Set;let Ti=0;function Gs(){const t=ea;do{for(;Ti<na.length;){const e=na[Ti];Ti++,ze(e),s0(e.$$)}for(ze(null),na.length=0,Ti=0;ra.length;)ra.pop()();for(let e=0;e<Oi.length;e+=1){const n=Oi[e];$s.has(n)||($s.add(n),n())}Oi.length=0}while(na.length);for(;Us.length;)Us.pop()();Fs=!1,$s.clear(),ze(t)}function s0(t){if(t.fragment!==null){t.update(),ta(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Vs)}}const Si=new Set;let Pn;function u0(){Pn={r:0,c:[],p:Pn}}function l0(){Pn.r||ta(Pn.c),Pn=Pn.p}function Ei(t,e){t&&t.i&&(Si.delete(t),t.i(e))}function Hs(t,e,n,r){if(t&&t.o){if(Si.has(t))return;Si.add(t),Pn.c.push(()=>{Si.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function _H(t,e){const n=e.token={};function r(a,i,o,s){if(e.token!==n)return;e.resolved=s;let u=e.ctx;o!==void 0&&(u=u.slice(),u[o]=s);const l=a&&(e.current=a)(u);let c=!1;e.block&&(e.blocks?e.blocks.forEach((h,f)=>{f!==i&&h&&(u0(),Hs(h,1,1,()=>{e.blocks[f]===h&&(e.blocks[f]=null)}),l0())}):e.block.d(1),l.c(),Ei(l,1),l.m(e.mount(),e.anchor),c=!0),e.block=l,e.blocks&&(e.blocks[i]=l),c&&Gs()}if(Gy(t)){const a=An();if(t.then(i=>{ze(a),r(e.then,1,e.value,i),ze(null)},i=>{if(ze(a),r(e.catch,2,e.error,i),ze(null),!e.hasCatch)throw i}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function bH(t,e,n){const r=e.slice(),{resolved:a}=t;t.current===t.then&&(r[t.value]=a),t.current===t.catch&&(r[t.error]=a),t.block.p(r,n)}const xH=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function wH(t,e){Hs(t,1,1,()=>{e.delete(t.key)})}function OH(t,e,n,r,a,i,o,s,u,l,c,h){let f=t.length,p=i.length,d=f;const m={};for(;d--;)m[t[d].key]=d;const v=[],_=new Map,g=new Map;for(d=p;d--;){const w=h(a,i,d),M=n(w);let T=o.get(M);T?r&&T.p(w,e):(T=l(M,w),T.c()),_.set(M,v[d]=T),M in m&&g.set(M,Math.abs(d-m[M]))}const y=new Set,O=new Set;function x(w){Ei(w,1),w.m(s,c),o.set(w.key,w),c=w.first,p--}for(;f&&p;){const w=v[p-1],M=t[f-1],T=w.key,S=M.key;w===M?(c=w.first,f--,p--):_.has(S)?!o.has(T)||y.has(T)?x(w):O.has(S)?f--:g.get(T)>g.get(S)?(O.add(T),x(w)):(y.add(S),f--):(u(M,o),f--)}for(;f--;){const w=t[f];_.has(w.key)||u(w,o)}for(;p;)x(v[p-1]);return v}function eh(t,e){const n={},r={},a={$$scope:1};let i=t.length;for(;i--;){const o=t[i],s=e[i];if(s){for(const u in o)u in s||(r[u]=1);for(const u in s)a[u]||(n[u]=s[u],a[u]=1);t[i]=s}else for(const u in o)a[u]=1}for(const o in r)o in n||(n[o]=void 0);return n}function c0(t){return typeof t=="object"&&t!==null?t:{}}function nh(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function f0(t){t&&t.c()}function h0(t,e){t&&t.l(e)}function rh(t,e,n,r){const{fragment:a,on_mount:i,on_destroy:o,after_update:s}=t.$$;a&&a.m(e,n),r||Vs(()=>{const u=i.map(zf).filter(jf);o?o.push(...u):ta(u),t.$$.on_mount=[]}),s.forEach(Vs)}function ah(t,e){const n=t.$$;n.fragment!==null&&(ta(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function d0(t,e){t.$$.dirty[0]===-1&&(na.push(t),o0(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ih(t,e,n,r,a,i,o,s=[-1]){const u=ea;ze(t);const l=t.$$={fragment:null,ctx:null,props:i,update:He,not_equal:a,bound:Wf(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Wf(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};o&&o(l.root);let c=!1;if(l.ctx=n?n(t,e.props||{},(h,f,...p)=>{const d=p.length?p[0]:f;return l.ctx&&a(l.ctx[h],l.ctx[h]=d)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](d),c&&d0(t,h)),f}):[],l.update(),c=!0,ta(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){Wy();const h=Zf(e.target);l.fragment&&l.fragment.l(h),h.forEach(Is)}else l.fragment&&l.fragment.c();e.intro&&Ei(t.$$.fragment),rh(t,e.target,e.anchor,e.customElement),jy(),Gs()}ze(u)}class oh{$destroy(){ah(this,1),this.$destroy=He}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}$set(e){this.$$set&&!Hy(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const cr=[];function TH(t,e){return{subscribe:p0(t,e).subscribe}}function p0(t,e=He){let n;const r=new Set;function a(s){if(Rs(t,s)&&(t=s,n)){const u=!cr.length;for(const l of r)l[1](),cr.push(l,t);if(u){for(let l=0;l<cr.length;l+=2)cr[l][0](cr[l+1]);cr.length=0}}}function i(s){a(s(t))}function o(s,u=He){const l=[s,u];return r.add(l),r.size===1&&(n=e(a)||He),s(t),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:a,update:i,subscribe:o}}let v0="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",SH=(t=21)=>{let e="",n=t;for(;n--;)e+=v0[Math.random()*64|0];return e};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pt=function(){return pt=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pt.apply(this,arguments)};function zs(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Et=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,Nt=Object.keys,Kt=Array.isArray;typeof Promise!="undefined"&&!Et.Promise&&(Et.Promise=Promise);function re(t,e){return typeof e!="object"||Nt(e).forEach(function(n){t[n]=e[n]}),t}var aa=Object.getPrototypeOf,g0={}.hasOwnProperty;function ye(t,e){return g0.call(t,e)}function fr(t,e){typeof e=="function"&&(e=e(aa(t))),(typeof Reflect=="undefined"?Nt:Reflect.ownKeys)(e).forEach(function(n){We(t,n,e[n])})}var sh=Object.defineProperty;function We(t,e,n,r){sh(t,e,re(n&&ye(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function hr(t){return{from:function(e){return t.prototype=Object.create(e.prototype),We(t.prototype,"constructor",t),{extend:fr.bind(null,t.prototype)}}}}var m0=Object.getOwnPropertyDescriptor;function Ws(t,e){var n=m0(t,e),r;return n||(r=aa(t))&&Ws(r,e)}var y0=[].slice;function Mi(t,e,n){return y0.call(t,e,n)}function uh(t,e){return e(t)}function ia(t){if(!t)throw new Error("Assertion Failed")}function lh(t){Et.setImmediate?setImmediate(t):setTimeout(t,0)}function ch(t,e){return t.reduce(function(n,r,a){var i=e(r,a);return i&&(n[i[0]]=i[1]),n},{})}function _0(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}function je(t,e){if(ye(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,a=e.length;r<a;++r){var i=je(t,e[r]);n.push(i)}return n}var o=e.indexOf(".");if(o!==-1){var s=t[e.substr(0,o)];return s===void 0?void 0:je(s,e.substr(o+1))}}function Te(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){ia(typeof n!="string"&&"length"in n);for(var r=0,a=e.length;r<a;++r)Te(t,e[r],n[r])}else{var i=e.indexOf(".");if(i!==-1){var o=e.substr(0,i),s=e.substr(i+1);if(s==="")n===void 0?Kt(t)&&!isNaN(parseInt(o))?t.splice(o,1):delete t[o]:t[o]=n;else{var u=t[o];u||(u=t[o]={}),Te(u,s,n)}}else n===void 0?Kt(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function b0(t,e){typeof e=="string"?Te(t,e,void 0):"length"in e&&[].map.call(e,function(n){Te(t,n,void 0)})}function fh(t){var e={};for(var n in t)ye(t,n)&&(e[n]=t[n]);return e}var x0=[].concat;function hh(t){return x0.apply([],t)}var dh="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(hh([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return Et[t]}),w0=dh.map(function(t){return Et[t]});ch(dh,function(t){return[t,!0]});var hn=null;function oa(t){hn=typeof WeakMap!="undefined"&&new WeakMap;var e=js(t);return hn=null,e}function js(t){if(!t||typeof t!="object")return t;var e=hn&&hn.get(t);if(e)return e;if(Kt(t)){e=[],hn&&hn.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(js(t[n]))}else if(w0.indexOf(t.constructor)>=0)e=t;else{var a=aa(t);e=a===Object.prototype?{}:Object.create(a),hn&&hn.set(t,e);for(var i in t)ye(t,i)&&(e[i]=js(t[i]))}return e}var O0={}.toString;function Ys(t){return O0.call(t).slice(8,-1)}var qs=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",T0=typeof qs=="symbol"?function(t){var e;return t!=null&&(e=t[qs])&&e.apply(t)}:function(){return null},dr={};function Ye(t){var e,n,r,a;if(arguments.length===1){if(Kt(t))return t.slice();if(this===dr&&typeof t=="string")return[t];if(a=T0(t)){for(n=[];r=a.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var Ks=typeof Symbol!="undefined"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Pe=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ph(t,e){Pe=t,vh=e}var vh=function(){return!0},S0=!new Error("").stack;function Dn(){if(S0)try{throw Dn.arguments,new Error}catch(t){return t}return new Error}function Xs(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(vh).map(function(r){return`
`+r}).join("")):""}var E0=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],gh=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Zs=E0.concat(gh),M0={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function pr(t,e){this._e=Dn(),this.name=t,this.message=e}hr(pr).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Xs(this._e,2))}},toString:function(){return this.name+": "+this.message}});function mh(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,r,a){return a.indexOf(n)===r}).join(`
`)}function Ci(t,e,n,r){this._e=Dn(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=mh(t,e)}hr(Ci).from(pr);function sa(t,e){this._e=Dn(),this.name="BulkError",this.failures=Object.keys(e).map(function(n){return e[n]}),this.failuresByPos=e,this.message=mh(t,e)}hr(sa).from(pr);var C0=Zs.reduce(function(t,e){return t[e]=e+"Error",t},{}),A0=pr,it=Zs.reduce(function(t,e){var n=e+"Error";function r(a,i){this._e=Dn(),this.name=n,a?typeof a=="string"?(this.message=""+a+(i?`
 `+i:""),this.inner=i||null):typeof a=="object"&&(this.message=a.name+" "+a.message,this.inner=a):(this.message=M0[e]||n,this.inner=null)}return hr(r).from(A0),t[e]=r,t},{});it.Syntax=SyntaxError;it.Type=TypeError;it.Range=RangeError;var yh=gh.reduce(function(t,e){return t[e+"Error"]=it[e],t},{});function P0(t,e){if(!t||t instanceof pr||t instanceof TypeError||t instanceof SyntaxError||!t.name||!yh[t.name])return t;var n=new yh[t.name](e||t.message,t);return"stack"in t&&We(n,"stack",{get:function(){return this.inner.stack}}),n}var Ai=Zs.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=it[e]),t},{});Ai.ModifyError=Ci;Ai.DexieError=pr;Ai.BulkError=sa;function wt(){}function ua(t){return t}function D0(t,e){return t==null||t===ua?e:function(n){return e(t(n))}}function Ln(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function L0(t,e){return t===wt?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ln(r,this.onsuccess):r),a&&(this.onerror=this.onerror?Ln(a,this.onerror):a),i!==void 0?i:n}}function k0(t,e){return t===wt?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ln(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Ln(r,this.onerror):r)}}function R0(t,e){return t===wt?e:function(n){var r=t.apply(this,arguments);re(n,r);var a=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?Ln(a,this.onsuccess):a),i&&(this.onerror=this.onerror?Ln(i,this.onerror):i),r===void 0?o===void 0?void 0:o:re(r,o)}}function I0(t,e){return t===wt?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function Qs(t,e){return t===wt?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,a=arguments.length,i=new Array(a);a--;)i[a]=arguments[a];return n.then(function(){return e.apply(r,i)})}return e.apply(this,arguments)}}var la={},N0=100,B0=20,_h=100,Js=typeof Promise=="undefined"?[]:function(){var t=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[t,aa(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,aa(e),t]}(),tu=Js[0],Pi=Js[1],eu=Js[2],bh=Pi&&Pi.then,Di=tu&&tu.constructor,nu=!!eu,ru=!1,U0=eu?function(){eu.then(Ii)}:Et.setImmediate?setImmediate.bind(null,Ii):Et.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){Ii(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(Ii,0)},ca=function(t,e){fa.push([t,e]),Li&&(U0(),Li=!1)},au=!0,Li=!0,kn=[],ki=[],iu=null,ou=ua,vr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ph,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{Ph(t[0],t[1])}catch{}})}},nt=vr,fa=[],Rn=0,Ri=[];function X(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=wt,this._lib=!1;var e=this._PSD=nt;if(Pe&&(this._stackHolder=Dn(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==la)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&uu(this,this._value);return}this._state=null,this._value=null,++e.ref,wh(this,t)}var su={get:function(){var t=nt,e=Ui;function n(r,a){var i=this,o=!t.global&&(t!==nt||e!==Ui),s=o&&!qe(),u=new X(function(l,c){lu(i,new xh(Vi(r,t,o,s),Vi(a,t,o,s),l,c,t))});return Pe&&Sh(u,this),u}return n.prototype=la,n},set:function(t){We(this,"then",t&&t.prototype===la?su:{get:function(){return t},set:su.set})}};fr(X.prototype,{then:su,_then:function(t,e){lu(this,new xh(null,null,t,e,nt))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,function(r){return r instanceof e?n(r):Ni(r)}):this.then(null,function(r){return r&&r.name===e?n(r):Ni(r)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),Ni(e)})},stack:{get:function(){if(this._stack)return this._stack;try{ru=!0;var t=Th(this,[],B0),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{ru=!1}}},timeout:function(t,e){var n=this;return t<1/0?new X(function(r,a){var i=setTimeout(function(){return a(new it.Timeout(e))},t);n.then(r,a).finally(clearTimeout.bind(null,i))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&We(X.prototype,Symbol.toStringTag,"Dexie.Promise");vr.env=Eh();function xh(t,e,n,r,a){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=a}fr(X,{all:function(){var t=Ye.apply(null,arguments).map(Fi);return new X(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach(function(a,i){return X.resolve(a).then(function(o){t[i]=o,--r||e(t)},n)})})},resolve:function(t){if(t instanceof X)return t;if(t&&typeof t.then=="function")return new X(function(n,r){t.then(n,r)});var e=new X(la,!0,t);return Sh(e,iu),e},reject:Ni,race:function(){var t=Ye.apply(null,arguments).map(Fi);return new X(function(e,n){t.map(function(r){return X.resolve(r).then(e,n)})})},PSD:{get:function(){return nt},set:function(t){return nt=t}},totalEchoes:{get:function(){return Ui}},newPSD:dn,usePSD:mr,scheduler:{get:function(){return ca},set:function(t){ca=t}},rejectionMapper:{get:function(){return ou},set:function(t){ou=t}},follow:function(t,e){return new X(function(n,r){return dn(function(a,i){var o=nt;o.unhandleds=[],o.onunhandled=i,o.finalize=Ln(function(){var s=this;V0(function(){s.unhandleds.length===0?a():i(s.unhandleds[0])})},o.finalize),t()},e,n,r)})}});Di&&(Di.allSettled&&We(X,"allSettled",function(){var t=Ye.apply(null,arguments).map(Fi);return new X(function(e){t.length===0&&e([]);var n=t.length,r=new Array(n);t.forEach(function(a,i){return X.resolve(a).then(function(o){return r[i]={status:"fulfilled",value:o}},function(o){return r[i]={status:"rejected",reason:o}}).then(function(){return--n||e(r)})})})}),Di.any&&typeof AggregateError!="undefined"&&We(X,"any",function(){var t=Ye.apply(null,arguments).map(Fi);return new X(function(e,n){t.length===0&&n(new AggregateError([]));var r=t.length,a=new Array(r);t.forEach(function(i,o){return X.resolve(i).then(function(s){return e(s)},function(s){a[o]=s,--r||n(new AggregateError(a))})})})}));function wh(t,e){try{e(function(n){if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&ha();n&&typeof n.then=="function"?wh(t,function(a,i){n instanceof X?n._then(a,i):n.then(a,i)}):(t._state=!0,t._value=n,Oh(t)),r&&da()}},uu.bind(null,t))}catch(n){uu(t,n)}}function uu(t,e){if(ki.push(e),t._state===null){var n=t._lib&&ha();e=ou(e),t._state=!1,t._value=e,Pe&&e!==null&&typeof e=="object"&&!e._promise&&_0(function(){var r=Ws(e,"stack");e._promise=t,We(e,"stack",{get:function(){return ru?r&&(r.get?r.get.apply(e):r.value):t.stack}})}),$0(t),Oh(t),n&&da()}}function Oh(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)lu(t,e[n]);var a=t._PSD;--a.ref||a.finalize(),Rn===0&&(++Rn,ca(function(){--Rn==0&&cu()},[]))}function lu(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Rn,ca(F0,[n,t,e])}function F0(t,e,n){try{iu=e;var r,a=e._value;e._state?r=t(a):(ki.length&&(ki=[]),r=t(a),ki.indexOf(a)===-1&&G0(e)),n.resolve(r)}catch(i){n.reject(i)}finally{iu=null,--Rn==0&&cu(),--n.psd.ref||n.psd.finalize()}}function Th(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var a=t._value,i,o;a!=null?(i=a.name||"Error",o=a.message||a,r=Xs(a,0)):(i=a,o=""),e.push(i+(o?": "+o:"")+r)}return Pe&&(r=Xs(t._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),t._prev&&Th(t._prev,e,n)),e}function Sh(t,e){var n=e?e._numPrev+1:0;n<N0&&(t._prev=e,t._numPrev=n)}function Ii(){ha()&&da()}function ha(){var t=au;return au=!1,Li=!1,t}function da(){var t,e,n;do for(;fa.length>0;)for(t=fa,fa=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(fa.length>0);au=!0,Li=!0}function cu(){var t=kn;kn=[],t.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=Ri.slice(0),n=e.length;n;)e[--n]()}function V0(t){function e(){t(),Ri.splice(Ri.indexOf(e),1)}Ri.push(e),++Rn,ca(function(){--Rn==0&&cu()},[])}function $0(t){kn.some(function(e){return e._value===t._value})||kn.push(t)}function G0(t){for(var e=kn.length;e;)if(kn[--e]._value===t._value){kn.splice(e,1);return}}function Ni(t){return new X(la,!1,t)}function At(t,e){var n=nt;return function(){var r=ha(),a=nt;try{return pn(n,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{pn(a,!1),r&&da()}}}var Xt={awaits:0,echoes:0,id:0},H0=0,Bi=[],fu=0,Ui=0,z0=0;function dn(t,e,n,r){var a=nt,i=Object.create(a);i.parent=a,i.ref=0,i.global=!1,i.id=++z0;var o=vr.env;i.env=nu?{Promise:X,PromiseProp:{value:X,configurable:!0,writable:!0},all:X.all,race:X.race,allSettled:X.allSettled,any:X.any,resolve:X.resolve,reject:X.reject,nthen:Ch(o.nthen,i),gthen:Ch(o.gthen,i)}:{},e&&re(i,e),++a.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=mr(i,t,n,r);return i.ref===0&&i.finalize(),s}function gr(){return Xt.id||(Xt.id=++H0),++Xt.awaits,Xt.echoes+=_h,Xt.id}function qe(){return Xt.awaits?(--Xt.awaits==0&&(Xt.id=0),Xt.echoes=Xt.awaits*_h,!0):!1}(""+bh).indexOf("[native code]")===-1&&(gr=qe=wt);function Fi(t){return Xt.echoes&&t&&t.constructor===Di?(gr(),t.then(function(e){return qe(),e},function(e){return qe(),Vt(e)})):t}function W0(t){++Ui,(!Xt.echoes||--Xt.echoes==0)&&(Xt.echoes=Xt.id=0),Bi.push(nt),pn(t,!0)}function j0(){var t=Bi[Bi.length-1];Bi.pop(),pn(t,!1)}function pn(t,e){var n=nt;if((e?Xt.echoes&&(!fu++||t!==nt):fu&&(!--fu||t!==nt))&&Mh(e?W0.bind(null,t):j0),t!==nt&&(nt=t,n===vr&&(vr.env=Eh()),nu)){var r=vr.env.Promise,a=t.env;Pi.then=a.nthen,r.prototype.then=a.gthen,(n.global||t.global)&&(Object.defineProperty(Et,"Promise",a.PromiseProp),r.all=a.all,r.race=a.race,r.resolve=a.resolve,r.reject=a.reject,a.allSettled&&(r.allSettled=a.allSettled),a.any&&(r.any=a.any))}}function Eh(){var t=Et.Promise;return nu?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Et,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Pi.then,gthen:t.prototype.then}:{}}function mr(t,e,n,r,a){var i=nt;try{return pn(t,!0),e(n,r,a)}finally{pn(i,!1)}}function Mh(t){bh.call(tu,t)}function Vi(t,e,n,r){return typeof t!="function"?t:function(){var a=nt;n&&gr(),pn(e,!0);try{return t.apply(this,arguments)}finally{pn(a,!1),r&&Mh(qe)}}}function Ch(t,e){return function(n,r){return t.call(this,Vi(n,e),Vi(r,e))}}var Ah="unhandledrejection";function Ph(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,a={promise:e,reason:t};if(Et.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(Ah,!0,!0),re(r,a)):Et.CustomEvent&&(r=new CustomEvent(Ah,{detail:a}),re(r,a)),r&&Et.dispatchEvent&&(dispatchEvent(r),!Et.PromiseRejectionEvent&&Et.onunhandledrejection))try{Et.onunhandledrejection(r)}catch{}Pe&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch{}}var Vt=X.reject;function Dh(t,e,n,r){if(!t.idbdb||!t._state.openComplete&&!nt.letThrough&&!t._vip){if(t._state.openComplete)return Vt(new it.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Vt(new it.DatabaseClosed);t.open().catch(wt)}return t._state.dbReadyPromise.then(function(){return Dh(t,e,n,r)})}else{var a=t._createTransaction(e,n,t._dbSchema);try{a.create()}catch(i){return Vt(i)}return a._promise(e,function(i,o){return dn(function(){return nt.trans=a,r(i,o,a)})}).then(function(i){return a._completion.then(function(){return i})})}}var Lh="3.2.0",In=String.fromCharCode(65535),hu=-1/0,Ke="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",kh="String expected.",pa=[],$i=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Y0=$i,q0=$i,Rh=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},Gi="__dbnames",du="readonly",pu="readwrite";function Nn(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var Ih={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Hi(t){return typeof t=="string"&&!/\./.test(t)?function(e){return e[t]===void 0&&t in e&&(e=oa(e),delete e[t]),e}:function(e){return e}}var K0=function(){function t(){}return t.prototype._trans=function(e,n,r){var a=this._tx||nt.trans,i=this.name;function o(u,l,c){if(!c.schema[i])throw new it.NotFound("Table "+i+" not part of transaction");return n(c.idbtrans,c)}var s=ha();try{return a&&a.db===this.db?a===nt.trans?a._promise(e,o,r):dn(function(){return a._promise(e,o,r)},{trans:a,transless:nt.transless||nt}):Dh(this.db,e,[this.name],o)}finally{s&&da()}},t.prototype.get=function(e,n){var r=this;return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",function(a){return r.core.get({trans:a,key:e}).then(function(i){return r.hook.reading.fire(i)})}).then(n)},t.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Kt(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var n=Nt(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(c){return c.compound&&n.every(function(h){return c.keyPath.indexOf(h)>=0})&&c.keyPath.every(function(h){return n.indexOf(h)>=0})})[0];if(r&&this.db._maxKey!==In)return this.where(r.name).equals(r.keyPath.map(function(c){return e[c]}));!r&&Pe&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var a=this.schema.idxByName,i=this.db._deps.indexedDB;function o(c,h){try{return i.cmp(c,h)===0}catch{return!1}}var s=n.reduce(function(c,h){var f=c[0],p=c[1],d=a[h],m=e[h];return[f||d,f||!d?Nn(p,d&&d.multi?function(v){var _=je(v,h);return Kt(_)&&_.some(function(g){return o(m,g)})}:function(v){return o(m,je(v,h))}):p]},[null,null]),u=s[0],l=s[1];return u?this.where(u.name).equals(e[u.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")},t.prototype.filter=function(e){return this.toCollection().and(e)},t.prototype.count=function(e){return this.toCollection().count(e)},t.prototype.offset=function(e){return this.toCollection().offset(e)},t.prototype.limit=function(e){return this.toCollection().limit(e)},t.prototype.each=function(e){return this.toCollection().each(e)},t.prototype.toArray=function(e){return this.toCollection().toArray(e)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,Kt(e)?"["+e.join("+")+"]":e))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(e){this.schema.mappedClass=e;var n=function(r){if(!r)return r;var a=Object.create(e.prototype);for(var i in r)if(ye(r,i))try{a[i]=r[i]}catch{}return a};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},t.prototype.defineClass=function(){function e(n){re(this,n)}return this.mapToClass(e)},t.prototype.add=function(e,n){var r=this,a=this.schema.primKey,i=a.auto,o=a.keyPath,s=e;return o&&i&&(s=Hi(o)(e)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"add",keys:n!=null?[n]:null,values:[s]})}).then(function(u){return u.numFailures?X.reject(u.failures[0]):u.lastResult}).then(function(u){if(o)try{Te(e,o,u)}catch{}return u})},t.prototype.update=function(e,n){if(typeof e=="object"&&!Kt(e)){var r=je(e,this.schema.primKey.keyPath);if(r===void 0)return Vt(new it.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Nt(n).forEach(function(a){Te(e,a,n[a])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)},t.prototype.put=function(e,n){var r=this,a=this.schema.primKey,i=a.auto,o=a.keyPath,s=e;return o&&i&&(s=Hi(o)(e)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"put",values:[s],keys:n!=null?[n]:null})}).then(function(u){return u.numFailures?X.reject(u.failures[0]):u.lastResult}).then(function(u){if(o)try{Te(e,o,u)}catch{}return u})},t.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?X.reject(r.failures[0]):void 0})},t.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:Ih})}).then(function(n){return n.numFailures?X.reject(n.failures[0]):void 0})},t.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:e,trans:r}).then(function(a){return a.map(function(i){return n.hook.reading.fire(i)})})})},t.prototype.bulkAdd=function(e,n,r){var a=this,i=Array.isArray(n)?n:void 0;r=r||(i?void 0:n);var o=r?r.allKeys:void 0;return this._trans("readwrite",function(s){var u=a.schema.primKey,l=u.auto,c=u.keyPath;if(c&&i)throw new it.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new it.InvalidArgument("Arguments objects and keys must have the same length");var h=e.length,f=c&&l?e.map(Hi(c)):e;return a.core.mutate({trans:s,type:"add",keys:i,values:f,wantResults:o}).then(function(p){var d=p.numFailures,m=p.results,v=p.lastResult,_=p.failures,g=o?m:v;if(d===0)return g;throw new sa(a.name+".bulkAdd(): "+d+" of "+h+" operations failed",_)})})},t.prototype.bulkPut=function(e,n,r){var a=this,i=Array.isArray(n)?n:void 0;r=r||(i?void 0:n);var o=r?r.allKeys:void 0;return this._trans("readwrite",function(s){var u=a.schema.primKey,l=u.auto,c=u.keyPath;if(c&&i)throw new it.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new it.InvalidArgument("Arguments objects and keys must have the same length");var h=e.length,f=c&&l?e.map(Hi(c)):e;return a.core.mutate({trans:s,type:"put",keys:i,values:f,wantResults:o}).then(function(p){var d=p.numFailures,m=p.results,v=p.lastResult,_=p.failures,g=o?m:v;if(d===0)return g;throw new sa(a.name+".bulkPut(): "+d+" of "+h+" operations failed",_)})})},t.prototype.bulkDelete=function(e){var n=this,r=e.length;return this._trans("readwrite",function(a){return n.core.mutate({trans:a,type:"delete",keys:e})}).then(function(a){var i=a.numFailures,o=a.lastResult,s=a.failures;if(i===0)return o;throw new sa(n.name+".bulkDelete(): "+i+" of "+r+" operations failed",s)})},t}();function va(t){var e={},n=function(s,u){if(u){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return e[s].subscribe.apply(null,c),t}else if(typeof s=="string")return e[s]};n.addEventType=i;for(var r=1,a=arguments.length;r<a;++r)i(arguments[r]);return n;function i(s,u,l){if(typeof s=="object")return o(s);u||(u=I0),l||(l=wt);var c={subscribers:[],fire:l,subscribe:function(h){c.subscribers.indexOf(h)===-1&&(c.subscribers.push(h),c.fire=u(c.fire,h))},unsubscribe:function(h){c.subscribers=c.subscribers.filter(function(f){return f!==h}),c.fire=c.subscribers.reduce(u,l)}};return e[s]=n[s]=c,c}function o(s){Nt(s).forEach(function(u){var l=s[u];if(Kt(l))i(u,s[u][0],s[u][1]);else if(l==="asap")var c=i(u,ua,function(){for(var f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];c.subscribers.forEach(function(d){lh(function(){d.apply(null,p)})})});else throw new it.InvalidArgument("Invalid event config")})}}function ga(t,e){return hr(e).from({prototype:t}),e}function X0(t){return ga(K0.prototype,function(n,r,a){this.db=t,this._tx=a,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:va(null,{creating:[L0,wt],reading:[D0,ua],updating:[R0,wt],deleting:[k0,wt]})})}function yr(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function vu(t,e){t.filter=Nn(t.filter,e)}function gu(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return Nn(r(),e())}:e,t.justLimit=n&&!r}function Z0(t,e){t.isMatch=Nn(t.isMatch,e)}function zi(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new it.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Nh(t,e,n){var r=zi(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function Wi(t,e,n,r){var a=t.replayFilter?Nn(t.filter,t.replayFilter()):t.filter;if(t.or){var i={},o=function(s,u,l){if(!a||a(u,l,function(f){return u.stop(f)},function(f){return u.fail(f)})){var c=u.primaryKey,h=""+c;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(c)),ye(i,h)||(i[h]=!0,e(s,u,l))}};return Promise.all([t.or._iterate(o,n),Bh(Nh(t,r,n),t.algorithm,o,!t.keysOnly&&t.valueMapper)])}else return Bh(Nh(t,r,n),Nn(t.algorithm,a),e,!t.keysOnly&&t.valueMapper)}function Bh(t,e,n,r){var a=r?function(o,s,u){return n(r(o),s,u)}:n,i=At(a);return t.then(function(o){if(o)return o.start(function(){var s=function(){return o.continue()};(!e||e(o,function(u){return s=u},function(u){o.stop(u),s=wt},function(u){o.fail(u),s=wt}))&&i(o.value,o,function(u){return s=u}),s()})})}function ae(t,e){try{var n=Uh(t),r=Uh(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return J0(Fh(t),Fh(e));case"Array":return Q0(t,e)}}catch{}return NaN}function Q0(t,e){for(var n=t.length,r=e.length,a=n<r?n:r,i=0;i<a;++i){var o=ae(t[i],e[i]);if(o!==0)return o}return n===r?0:n<r?-1:1}function J0(t,e){for(var n=t.length,r=e.length,a=n<r?n:r,i=0;i<a;++i)if(t[i]!==e[i])return t[i]<e[i]?-1:1;return n===r?0:n<r?-1:1}function Uh(t){var e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";var n=Ys(t);return n==="ArrayBuffer"?"binary":n}function Fh(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var t_=function(){function t(){}return t.prototype._read=function(e,n){var r=this._ctx;return r.error?r.table._trans(null,Vt.bind(null,r.error)):r.table._trans("readonly",e).then(n)},t.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,Vt.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},t.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=Nn(n.algorithm,e)},t.prototype._iterate=function(e,n){return Wi(this._ctx,e,n,this._ctx.table.core)},t.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&re(r,e),n._ctx=r,n},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(e){var n=this._ctx;return this._read(function(r){return Wi(n,e,r,n.table.core)})},t.prototype.count=function(e){var n=this;return this._read(function(r){var a=n._ctx,i=a.table.core;if(yr(a,!0))return i.count({trans:r,query:{index:zi(a,i.schema),range:a.range}}).then(function(s){return Math.min(s,a.limit)});var o=0;return Wi(a,function(){return++o,!1},r,i).then(function(){return o})}).then(e)},t.prototype.sortBy=function(e,n){var r=e.split(".").reverse(),a=r[0],i=r.length-1;function o(l,c){return c?o(l[r[c]],c-1):l[a]}var s=this._ctx.dir==="next"?1:-1;function u(l,c){var h=o(l,i),f=o(c,i);return h<f?-s:h>f?s:0}return this.toArray(function(l){return l.sort(u)}).then(n)},t.prototype.toArray=function(e){var n=this;return this._read(function(r){var a=n._ctx;if(a.dir==="next"&&yr(a,!0)&&a.limit>0){var i=a.valueMapper,o=zi(a,a.table.core.schema);return a.table.core.query({trans:r,limit:a.limit,values:!0,query:{index:o,range:a.range}}).then(function(u){var l=u.result;return i?l.map(i):l})}else{var s=[];return Wi(a,function(u){return s.push(u)},r,a.table.core).then(function(){return s})}},e)},t.prototype.offset=function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,yr(n)?gu(n,function(){var r=e;return function(a,i){return r===0?!0:r===1?(--r,!1):(i(function(){a.advance(r),r=0}),!1)}}):gu(n,function(){var r=e;return function(){return--r<0}}),this)},t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),gu(this._ctx,function(){var n=e;return function(r,a,i){return--n<=0&&a(i),n>=0}},!0),this},t.prototype.until=function(e,n){return vu(this._ctx,function(r,a,i){return e(r.value)?(a(i),n):!0}),this},t.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},t.prototype.last=function(e){return this.reverse().first(e)},t.prototype.filter=function(e){return vu(this._ctx,function(n){return e(n.value)}),Z0(this._ctx,e),this},t.prototype.and=function(e){return this.filter(e)},t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,a){e(a.key,a)})},t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},t.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,a){e(a.primaryKey,a)})},t.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(a,i){r.push(i.key)}).then(function(){return r}).then(e)},t.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&yr(n,!0)&&n.limit>0)return this._read(function(a){var i=zi(n,n.table.core.schema);return n.table.core.query({trans:a,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(function(a){var i=a.result;return i}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(a,i){r.push(i.primaryKey)}).then(function(){return r}).then(e)},t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},t.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},t.prototype.distinct=function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return vu(this._ctx,function(a){var i=a.primaryKey.toString(),o=ye(r,i);return r[i]=!0,!o}),this},t.prototype.modify=function(e){var n=this,r=this._ctx;return this._write(function(a){var i;if(typeof e=="function")i=e;else{var o=Nt(e),s=o.length;i=function(_){for(var g=!1,y=0;y<s;++y){var O=o[y],x=e[O];je(_,O)!==x&&(Te(_,O,x),g=!0)}return g}}var u=r.table.core,l=u.schema.primaryKey,c=l.outbound,h=l.extractKey,f=n.db._options.modifyChunkSize||200,p=[],d=0,m=[],v=function(_,g){var y=g.failures,O=g.numFailures;d+=_-O;for(var x=0,w=Nt(y);x<w.length;x++){var M=w[x];p.push(y[M])}};return n.clone().primaryKeys().then(function(_){var g=function(y){var O=Math.min(f,_.length-y);return u.getMany({trans:a,keys:_.slice(y,y+O),cache:"immutable"}).then(function(x){for(var w=[],M=[],T=c?[]:null,S=[],C=0;C<O;++C){var E=x[C],R={value:oa(E),primKey:_[y+C]};i.call(R,R.value,R)!==!1&&(R.value==null?S.push(_[y+C]):!c&&ae(h(E),h(R.value))!==0?(S.push(_[y+C]),w.push(R.value)):(M.push(R.value),c&&T.push(_[y+C])))}var L=yr(r)&&r.limit===1/0&&(typeof e!="function"||e===mu)&&{index:r.index,range:r.range};return Promise.resolve(w.length>0&&u.mutate({trans:a,type:"add",values:w}).then(function(N){for(var A in N.failures)S.splice(parseInt(A),1);v(w.length,N)})).then(function(){return(M.length>0||L&&typeof e=="object")&&u.mutate({trans:a,type:"put",keys:T,values:M,criteria:L,changeSpec:typeof e!="function"&&e}).then(function(N){return v(M.length,N)})}).then(function(){return(S.length>0||L&&e===mu)&&u.mutate({trans:a,type:"delete",keys:S,criteria:L}).then(function(N){return v(S.length,N)})}).then(function(){return _.length>y+O&&g(y+f)})})};return g(0).then(function(){if(p.length>0)throw new Ci("Error modifying one or more objects",p,d,m);return _.length})})})},t.prototype.delete=function(){var e=this._ctx,n=e.range;return yr(e)&&(e.isPrimKey&&!q0||n.type===3)?this._write(function(r){var a=e.table.core.schema.primaryKey,i=n;return e.table.core.count({trans:r,query:{index:a,range:i}}).then(function(o){return e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(function(s){var u=s.failures;s.lastResult,s.results;var l=s.numFailures;if(l)throw new Ci("Could not delete some values",Object.keys(u).map(function(c){return u[c]}),o-l);return o-l})})}):this.modify(mu)},t}(),mu=function(t,e){return e.value=null};function e_(t){return ga(t_.prototype,function(n,r){this.db=t;var a=Ih,i=null;if(r)try{a=r()}catch(l){i=l}var o=n._ctx,s=o.table,u=s.hook.reading.fire;this._ctx={table:s,index:o.index,isPrimKey:!o.index||s.schema.primKey.keyPath&&o.index===s.schema.primKey.name,range:a,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:o.or,valueMapper:u!==ua?u:null}})}function n_(t,e){return t<e?-1:t===e?0:1}function r_(t,e){return t>e?-1:t===e?0:1}function le(t,e,n){var r=t instanceof $h?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function _r(t){return new t.Collection(t,function(){return Vh("")}).limit(0)}function a_(t){return t==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function i_(t){return t==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function o_(t,e,n,r,a,i){for(var o=Math.min(t.length,r.length),s=-1,u=0;u<o;++u){var l=e[u];if(l!==r[u])return a(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):a(t[u],r[u])<0?t.substr(0,u)+r[u]+n.substr(u+1):s>=0?t.substr(0,s)+e[s]+n.substr(s+1):null;a(t[u],l)<0&&(s=u)}return o<r.length&&i==="next"?t+n.substr(t.length):o<t.length&&i==="prev"?t.substr(0,n.length):s<0?null:t.substr(0,s)+r[s]+n.substr(s+1)}function ji(t,e,n,r){var a,i,o,s,u,l,c,h=n.length;if(!n.every(function(m){return typeof m=="string"}))return le(t,kh);function f(m){a=a_(m),i=i_(m),o=m==="next"?n_:r_;var v=n.map(function(_){return{lower:i(_),upper:a(_)}}).sort(function(_,g){return o(_.lower,g.lower)});s=v.map(function(_){return _.upper}),u=v.map(function(_){return _.lower}),l=m,c=m==="next"?"":r}f("next");var p=new t.Collection(t,function(){return vn(s[0],u[h-1]+r)});p._ondirectionchange=function(m){f(m)};var d=0;return p._addAlgorithm(function(m,v,_){var g=m.key;if(typeof g!="string")return!1;var y=i(g);if(e(y,u,d))return!0;for(var O=null,x=d;x<h;++x){var w=o_(g,y,s[x],u[x],o,l);w===null&&O===null?d=x+1:(O===null||o(O,w)>0)&&(O=w)}return v(O!==null?function(){m.continue(O+c)}:_),!1}),p}function vn(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function Vh(t){return{type:1,lower:t,upper:t}}var $h=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(e,n,r,a){r=r!==!1,a=a===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||a)&&!(r&&a)?_r(this):new this.Collection(this,function(){return vn(e,n,!r,!a)})}catch{return le(this,Ke)}},t.prototype.equals=function(e){return e==null?le(this,Ke):new this.Collection(this,function(){return Vh(e)})},t.prototype.above=function(e){return e==null?le(this,Ke):new this.Collection(this,function(){return vn(e,void 0,!0)})},t.prototype.aboveOrEqual=function(e){return e==null?le(this,Ke):new this.Collection(this,function(){return vn(e,void 0,!1)})},t.prototype.below=function(e){return e==null?le(this,Ke):new this.Collection(this,function(){return vn(void 0,e,!1,!0)})},t.prototype.belowOrEqual=function(e){return e==null?le(this,Ke):new this.Collection(this,function(){return vn(void 0,e)})},t.prototype.startsWith=function(e){return typeof e!="string"?le(this,kh):this.between(e,e+In,!0,!0)},t.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):ji(this,function(n,r){return n.indexOf(r[0])===0},[e],In)},t.prototype.equalsIgnoreCase=function(e){return ji(this,function(n,r){return n===r[0]},[e],"")},t.prototype.anyOfIgnoreCase=function(){var e=Ye.apply(dr,arguments);return e.length===0?_r(this):ji(this,function(n,r){return r.indexOf(n)!==-1},e,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var e=Ye.apply(dr,arguments);return e.length===0?_r(this):ji(this,function(n,r){return r.some(function(a){return n.indexOf(a)===0})},e,In)},t.prototype.anyOf=function(){var e=this,n=Ye.apply(dr,arguments),r=this._cmp;try{n.sort(r)}catch{return le(this,Ke)}if(n.length===0)return _r(this);var a=new this.Collection(this,function(){return vn(n[0],n[n.length-1])});a._ondirectionchange=function(o){r=o==="next"?e._ascending:e._descending,n.sort(r)};var i=0;return a._addAlgorithm(function(o,s,u){for(var l=o.key;r(l,n[i])>0;)if(++i,i===n.length)return s(u),!1;return r(l,n[i])===0?!0:(s(function(){o.continue(n[i])}),!1)}),a},t.prototype.notEqual=function(e){return this.inAnyRange([[hu,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var e=Ye.apply(dr,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return le(this,Ke)}var n=e.reduce(function(r,a){return r?r.concat([[r[r.length-1][1],a]]):[[hu,a]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(e,n){var r=this,a=this._cmp,i=this._ascending,o=this._descending,s=this._min,u=this._max;if(e.length===0)return _r(this);if(!e.every(function(x){return x[0]!==void 0&&x[1]!==void 0&&i(x[0],x[1])<=0}))return le(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",it.InvalidArgument);var l=!n||n.includeLowers!==!1,c=n&&n.includeUppers===!0;function h(x,w){for(var M=0,T=x.length;M<T;++M){var S=x[M];if(a(w[0],S[1])<0&&a(w[1],S[0])>0){S[0]=s(S[0],w[0]),S[1]=u(S[1],w[1]);break}}return M===T&&x.push(w),x}var f=i;function p(x,w){return f(x[0],w[0])}var d;try{d=e.reduce(h,[]),d.sort(p)}catch{return le(this,Ke)}var m=0,v=c?function(x){return i(x,d[m][1])>0}:function(x){return i(x,d[m][1])>=0},_=l?function(x){return o(x,d[m][0])>0}:function(x){return o(x,d[m][0])>=0};function g(x){return!v(x)&&!_(x)}var y=v,O=new this.Collection(this,function(){return vn(d[0][0],d[d.length-1][1],!l,!c)});return O._ondirectionchange=function(x){x==="next"?(y=v,f=i):(y=_,f=o),d.sort(p)},O._addAlgorithm(function(x,w,M){for(var T=x.key;y(T);)if(++m,m===d.length)return w(M),!1;return g(T)?!0:(r._cmp(T,d[m][1])===0||r._cmp(T,d[m][0])===0||w(function(){f===i?x.continue(d[m][0]):x.continue(d[m][1])}),!1)}),O},t.prototype.startsWithAnyOf=function(){var e=Ye.apply(dr,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?_r(this):this.inAnyRange(e.map(function(n){return[n,n+In]})):le(this,"startsWithAnyOf() only works with strings")},t}();function s_(t){return ga($h.prototype,function(n,r,a){this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:a};var i=t._deps.indexedDB;if(!i)throw new it.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(o,s){return i.cmp(s,o)},this._max=function(o,s){return i.cmp(o,s)>0?o:s},this._min=function(o,s){return i.cmp(o,s)<0?o:s},this._IDBKeyRange=t._deps.IDBKeyRange})}function De(t){return At(function(e){return ma(e),t(e.target.error),!1})}function ma(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var ya="storagemutated",gn="x-storagemutated-1",mn=va(null,ya),u_=function(){function t(){}return t.prototype._lock=function(){return ia(!nt.global),++this._reculock,this._reculock===1&&!nt.global&&(nt.lockOwnerFor=this),this},t.prototype._unlock=function(){if(ia(!nt.global),--this._reculock==0)for(nt.global||(nt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{mr(e[1],e[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&nt.lockOwnerFor!==this},t.prototype.create=function(e){var n=this;if(!this.mode)return this;var r=this.db.idbdb,a=this.db._state.dbOpenError;if(ia(!this.idbtrans),!e&&!r)switch(a&&a.name){case"DatabaseClosedError":throw new it.DatabaseClosed(a);case"MissingAPIError":throw new it.MissingAPI(a.message,a);default:throw new it.OpenFailed(a)}if(!this.active)throw new it.TransactionInactive;return ia(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=At(function(i){ma(i),n._reject(e.error)}),e.onabort=At(function(i){ma(i),n.active&&n._reject(new it.Abort(e.error)),n.active=!1,n.on("abort").fire(i)}),e.oncomplete=At(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&mn.storagemutated.fire(e.mutatedParts)}),this},t.prototype._promise=function(e,n,r){var a=this;if(e==="readwrite"&&this.mode!=="readwrite")return Vt(new it.ReadOnly("Transaction is readonly"));if(!this.active)return Vt(new it.TransactionInactive);if(this._locked())return new X(function(o,s){a._blockedFuncs.push([function(){a._promise(e,n,r).then(o,s)},nt])});if(r)return dn(function(){var o=new X(function(s,u){a._lock();var l=n(s,u,a);l&&l.then&&l.then(s,u)});return o.finally(function(){return a._unlock()}),o._lib=!0,o});var i=new X(function(o,s){var u=n(o,s,a);u&&u.then&&u.then(o,s)});return i._lib=!0,i},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(e){var n=this._root(),r=X.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var a=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(a.get(-1/0).onsuccess=o)})()}var i=n._waitingFor;return new X(function(o,s){r.then(function(u){return n._waitingQueue.push(At(o.bind(null,u)))},function(u){return n._waitingQueue.push(At(s.bind(null,u)))}).finally(function(){n._waitingFor===i&&(n._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new it.Abort))},t.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(ye(n,e))return n[e];var r=this.schema[e];if(!r)throw new it.NotFound("Table "+e+" not part of transaction");var a=new this.db.Table(e,r,this);return a.core=this.db.core.table(e),n[e]=a,a},t}();function l_(t){return ga(u_.prototype,function(n,r,a,i,o){var s=this;this.db=t,this.mode=n,this.storeNames=r,this.schema=a,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=va(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new X(function(u,l){s._resolve=u,s._reject=l}),this._completion.then(function(){s.active=!1,s.on.complete.fire()},function(u){var l=s.active;return s.active=!1,s.on.error.fire(u),s.parent?s.parent._reject(u):l&&s.idbtrans&&s.idbtrans.abort(),Vt(u)})})}function yu(t,e,n,r,a,i,o){return{name:t,keyPath:e,unique:n,multi:r,auto:a,compound:i,src:(n&&!o?"&":"")+(r?"*":"")+(a?"++":"")+Gh(e)}}function Gh(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Hh(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:ch(n,function(r){return[r.name,r]})}}function c_(t){return t.length===1?t[0]:t}var _a=function(t){try{return t.only([[]]),_a=function(){return[[]]},[[]]}catch{return _a=function(){return In},In}};function _u(t){return t==null?function(){}:typeof t=="string"?f_(t):function(e){return je(e,t)}}function f_(t){var e=t.split(".");return e.length===1?function(n){return n[t]}:function(n){return je(n,t)}}function zh(t){return[].slice.call(t)}var h_=0;function ba(t){return t==null?":id":typeof t=="string"?t:"["+t.join("+")+"]"}function d_(t,e,n){function r(h,f){var p=zh(h.objectStoreNames);return{schema:{name:h.name,tables:p.map(function(d){return f.objectStore(d)}).map(function(d){var m=d.keyPath,v=d.autoIncrement,_=Kt(m),g=m==null,y={},O={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:g,compound:_,keyPath:m,autoIncrement:v,unique:!0,extractKey:_u(m)},indexes:zh(d.indexNames).map(function(x){return d.index(x)}).map(function(x){var w=x.name,M=x.unique,T=x.multiEntry,S=x.keyPath,C=Kt(S),E={name:w,compound:C,keyPath:S,unique:M,multiEntry:T,extractKey:_u(S)};return y[ba(S)]=E,E}),getIndexByKeyPath:function(x){return y[ba(x)]}};return y[":id"]=O.primaryKey,m!=null&&(y[ba(m)]=O.primaryKey),O})},hasGetAll:p.length>0&&"getAll"in f.objectStore(p[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function a(h){if(h.type===3)return null;if(h.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var f=h.lower,p=h.upper,d=h.lowerOpen,m=h.upperOpen,v=f===void 0?p===void 0?null:e.upperBound(p,!!m):p===void 0?e.lowerBound(f,!!d):e.bound(f,p,!!d,!!m);return v}function i(h){var f=h.name;function p(v){var _=v.trans,g=v.type,y=v.keys,O=v.values,x=v.range;return new Promise(function(w,M){w=At(w);var T=_.objectStore(f),S=T.keyPath==null,C=g==="put"||g==="add";if(!C&&g!=="delete"&&g!=="deleteRange")throw new Error("Invalid operation type: "+g);var E=(y||O||{length:1}).length;if(y&&O&&y.length!==O.length)throw new Error("Given keys array must have same length as given values array.");if(E===0)return w({numFailures:0,failures:{},results:[],lastResult:void 0});var R,L=[],N=[],A=0,k=function(K){++A,ma(K)};if(g==="deleteRange"){if(x.type===4)return w({numFailures:A,failures:N,results:[],lastResult:void 0});x.type===3?L.push(R=T.clear()):L.push(R=T.delete(a(x)))}else{var I=C?S?[O,y]:[O,null]:[y,null],B=I[0],D=I[1];if(C)for(var V=0;V<E;++V)L.push(R=D&&D[V]!==void 0?T[g](B[V],D[V]):T[g](B[V])),R.onerror=k;else for(var V=0;V<E;++V)L.push(R=T[g](B[V])),R.onerror=k}var G=function(K){var st=K.target.result;L.forEach(function(tt,Y){return tt.error!=null&&(N[Y]=tt.error)}),w({numFailures:A,failures:N,results:g==="delete"?y:L.map(function(tt){return tt.result}),lastResult:st})};R.onerror=function(K){k(K),G(K)},R.onsuccess=G})}function d(v){var _=v.trans,g=v.values,y=v.query,O=v.reverse,x=v.unique;return new Promise(function(w,M){w=At(w);var T=y.index,S=y.range,C=_.objectStore(f),E=T.isPrimaryKey?C:C.index(T.name),R=O?x?"prevunique":"prev":x?"nextunique":"next",L=g||!("openKeyCursor"in E)?E.openCursor(a(S),R):E.openKeyCursor(a(S),R);L.onerror=De(M),L.onsuccess=At(function(N){var A=L.result;if(!A){w(null);return}A.___id=++h_,A.done=!1;var k=A.continue.bind(A),I=A.continuePrimaryKey;I&&(I=I.bind(A));var B=A.advance.bind(A),D=function(){throw new Error("Cursor not started")},V=function(){throw new Error("Cursor not stopped")};A.trans=_,A.stop=A.continue=A.continuePrimaryKey=A.advance=D,A.fail=At(M),A.next=function(){var G=this,K=1;return this.start(function(){return K--?G.continue():G.stop()}).then(function(){return G})},A.start=function(G){var K=new Promise(function(tt,Y){tt=At(tt),L.onerror=De(Y),A.fail=Y,A.stop=function(Q){A.stop=A.continue=A.continuePrimaryKey=A.advance=V,tt(Q)}}),st=function(){if(L.result)try{G()}catch(tt){A.fail(tt)}else A.done=!0,A.start=function(){throw new Error("Cursor behind last entry")},A.stop()};return L.onsuccess=At(function(tt){L.onsuccess=st,st()}),A.continue=k,A.continuePrimaryKey=I,A.advance=B,st(),K},w(A)},M)})}function m(v){return function(_){return new Promise(function(g,y){g=At(g);var O=_.trans,x=_.values,w=_.limit,M=_.query,T=w===1/0?void 0:w,S=M.index,C=M.range,E=O.objectStore(f),R=S.isPrimaryKey?E:E.index(S.name),L=a(C);if(w===0)return g({result:[]});if(v){var N=x?R.getAll(L,T):R.getAllKeys(L,T);N.onsuccess=function(B){return g({result:B.target.result})},N.onerror=De(y)}else{var A=0,k=x||!("openKeyCursor"in R)?R.openCursor(L):R.openKeyCursor(L),I=[];k.onsuccess=function(B){var D=k.result;if(!D)return g({result:I});if(I.push(x?D.value:D.primaryKey),++A===w)return g({result:I});D.continue()},k.onerror=De(y)}})}}return{name:f,schema:h,mutate:p,getMany:function(v){var _=v.trans,g=v.keys;return new Promise(function(y,O){y=At(y);for(var x=_.objectStore(f),w=g.length,M=new Array(w),T=0,S=0,C,E=function(A){var k=A.target;(M[k._pos]=k.result)!=null,++S===T&&y(M)},R=De(O),L=0;L<w;++L){var N=g[L];N!=null&&(C=x.get(g[L]),C._pos=L,C.onsuccess=E,C.onerror=R,++T)}T===0&&y(M)})},get:function(v){var _=v.trans,g=v.key;return new Promise(function(y,O){y=At(y);var x=_.objectStore(f),w=x.get(g);w.onsuccess=function(M){return y(M.target.result)},w.onerror=De(O)})},query:m(u),openCursor:d,count:function(v){var _=v.query,g=v.trans,y=_.index,O=_.range;return new Promise(function(x,w){var M=g.objectStore(f),T=y.isPrimaryKey?M:M.index(y.name),S=a(O),C=S?T.count(S):T.count();C.onsuccess=At(function(E){return x(E.target.result)}),C.onerror=De(w)})}}}var o=r(t,n),s=o.schema,u=o.hasGetAll,l=s.tables.map(function(h){return i(h)}),c={};return l.forEach(function(h){return c[h.name]=h}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(h){var f=c[h];if(!f)throw new Error("Table '"+h+"' not found");return c[h]},MIN_KEY:-1/0,MAX_KEY:_a(e),schema:s}}function p_(t,e){return e.reduce(function(n,r){var a=r.create;return pt(pt({},n),a(n))},t)}function v_(t,e,n,r){var a=n.IDBKeyRange;n.indexedDB;var i=p_(d_(e,a,r),t.dbcore);return{dbcore:i}}function bu(t,e){var n=t._novip,r=e.db,a=v_(n._middlewares,r,n._deps,e);n.core=a.dbcore,n.tables.forEach(function(i){var o=i.name;n.core.schema.tables.some(function(s){return s.name===o})&&(i.core=n.core.table(o),n[o]instanceof n.Table&&(n[o].core=i.core))})}function Yi(t,e,n,r){var a=t._novip;n.forEach(function(i){var o=r[i];e.forEach(function(s){var u=Ws(s,i);(!u||"value"in u&&u.value===void 0)&&(s===a.Transaction.prototype||s instanceof a.Transaction?We(s,i,{get:function(){return this.table(i)},set:function(l){sh(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):s[i]=new a.Table(i,o))})})}function xu(t,e){var n=t._novip;e.forEach(function(r){for(var a in r)r[a]instanceof n.Table&&delete r[a]})}function g_(t,e){return t._cfg.version-e._cfg.version}function m_(t,e,n,r){var a=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,a);i.create(n),i._completion.catch(r);var o=i._reject.bind(i),s=nt.transless||nt;dn(function(){nt.trans=i,nt.transless=s,e===0?(Nt(a).forEach(function(u){wu(n,u,a[u].primKey,a[u].indexes)}),bu(t,n),X.follow(function(){return t.on.populate.fire(i)}).catch(o)):y_(t,e,i,n).catch(o)})}function y_(t,e,n,r){var a=t._novip,i=[],o=a._versions,s=a._dbSchema=Tu(a,a.idbdb,r),u=!1,l=o.filter(function(h){return h._cfg.version>=e});l.forEach(function(h){i.push(function(){var f=s,p=h._cfg.dbschema;Su(a,f,r),Su(a,p,r),s=a._dbSchema=p;var d=Wh(f,p);d.add.forEach(function(O){wu(r,O[0],O[1].primKey,O[1].indexes)}),d.change.forEach(function(O){if(O.recreate)throw new it.Upgrade("Not yet support for changing primary key");var x=r.objectStore(O.name);O.add.forEach(function(w){return Ou(x,w)}),O.change.forEach(function(w){x.deleteIndex(w.name),Ou(x,w)}),O.del.forEach(function(w){return x.deleteIndex(w)})});var m=h._cfg.contentUpgrade;if(m&&h._cfg.version>e){bu(a,r),n._memoizedTables={},u=!0;var v=fh(p);d.del.forEach(function(O){v[O]=f[O]}),xu(a,[a.Transaction.prototype]),Yi(a,[a.Transaction.prototype],Nt(v),v),n.schema=v;var _=Ks(m);_&&gr();var g,y=X.follow(function(){if(g=m(n),g&&_){var O=qe.bind(null,null);g.then(O,O)}});return g&&typeof g.then=="function"?X.resolve(g):y.then(function(){return g})}}),i.push(function(f){if(!u||!Y0){var p=h._cfg.dbschema;b_(p,f)}xu(a,[a.Transaction.prototype]),Yi(a,[a.Transaction.prototype],a._storeNames,a._dbSchema),n.schema=a._dbSchema})});function c(){return i.length?X.resolve(i.shift()(n.idbtrans)).then(c):X.resolve()}return c().then(function(){__(s,r)})}function Wh(t,e){var n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){var a=t[r],i=e[r];if(!a)n.add.push([r,i]);else{var o={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||a.primKey.auto!==i.primKey.auto&&!$i)o.recreate=!0,n.change.push(o);else{var s=a.idxByName,u=i.idxByName,l=void 0;for(l in s)u[l]||o.del.push(l);for(l in u){var c=s[l],h=u[l];c?c.src!==h.src&&o.change.push(h):o.add.push(h)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}}return n}function wu(t,e,n,r){var a=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(i){return Ou(a,i)}),a}function __(t,e){Nt(t).forEach(function(n){e.db.objectStoreNames.contains(n)||wu(e,n,t[n].primKey,t[n].indexes)})}function b_(t,e){[].slice.call(e.db.objectStoreNames).forEach(function(n){return t[n]==null&&e.db.deleteObjectStore(n)})}function Ou(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Tu(t,e,n){var r={},a=Mi(e.objectStoreNames,0);return a.forEach(function(i){for(var o=n.objectStore(i),s=o.keyPath,u=yu(Gh(s),s||"",!1,!1,!!o.autoIncrement,s&&typeof s!="string",!0),l=[],c=0;c<o.indexNames.length;++c){var h=o.index(o.indexNames[c]);s=h.keyPath;var f=yu(h.name,s,!!h.unique,!!h.multiEntry,!1,s&&typeof s!="string",!1);l.push(f)}r[i]=Hh(i,u,l)}),r}function x_(t,e,n){var r=t._novip;r.verno=e.version/10;var a=r._dbSchema=Tu(r,e,n);r._storeNames=Mi(e.objectStoreNames,0),Yi(r,[r._allTables],Nt(a),a)}function w_(t,e){var n=Tu(t,t.idbdb,e),r=Wh(n,t._dbSchema);return!(r.add.length||r.change.some(function(a){return a.add.length||a.change.length}))}function Su(t,e,n){for(var r=t._novip,a=n.db.objectStoreNames,i=0;i<a.length;++i){var o=a[i],s=n.objectStore(o);r._hasGetAll="getAll"in s;for(var u=0;u<s.indexNames.length;++u){var l=s.indexNames[u],c=s.index(l).keyPath,h=typeof c=="string"?c:"["+Mi(c).join("+")+"]";if(e[o]){var f=e[o].idxByName[h];f&&(f.name=l,delete e[o].idxByName[h],e[o].idxByName[l]=f)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Et.WorkerGlobalScope&&Et instanceof Et.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function O_(t){return t.split(",").map(function(e,n){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),a=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return yu(r,a||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Kt(a),n===0)})}var T_=function(){function t(){}return t.prototype._parseStoresSpec=function(e,n){Nt(e).forEach(function(r){if(e[r]!==null){var a=O_(e[r]),i=a.shift();if(i.multi)throw new it.Schema("Primary key cannot be multi-valued");a.forEach(function(o){if(o.auto)throw new it.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new it.Schema("Index must have a name and cannot be an empty string")}),n[r]=Hh(r,i,a)}})},t.prototype.stores=function(e){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?re(this._cfg.storesSource,e):e;var r=n._versions,a={},i={};return r.forEach(function(o){re(a,o._cfg.storesSource),i=o._cfg.dbschema={},o._parseStoresSpec(a,i)}),n._dbSchema=i,xu(n,[n._allTables,n,n.Transaction.prototype]),Yi(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Nt(i),i),n._storeNames=Nt(i),this},t.prototype.upgrade=function(e){return this._cfg.contentUpgrade=Qs(this._cfg.contentUpgrade||wt,e),this},t}();function S_(t){return ga(T_.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Eu(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Kh(Gi,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Mu(t){return t&&typeof t.databases=="function"}function E_(t){var e=t.indexedDB,n=t.IDBKeyRange;return Mu(e)?Promise.resolve(e.databases()).then(function(r){return r.map(function(a){return a.name}).filter(function(a){return a!==Gi})}):Eu(e,n).toCollection().primaryKeys()}function M_(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!Mu(n)&&e!==Gi&&Eu(n,r).put({name:e}).catch(wt)}function C_(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!Mu(n)&&e!==Gi&&Eu(n,r).delete(e).catch(wt)}function Cu(t){return dn(function(){return nt.letThrough=!0,t()})}function A_(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function P_(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?Vt(e.dbOpenError):t});Pe&&(e.openCanceller._stackHolder=Dn()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function a(){if(e.openCanceller!==r)throw new it.DatabaseClosed("db.open() was cancelled")}var i=e.dbReadyResolve,o=null,s=!1;return X.race([r,(typeof navigator=="undefined"?X.resolve():A_()).then(function(){return new X(function(u,l){if(a(),!n)throw new it.MissingAPI;var c=t.name,h=e.autoSchema?n.open(c):n.open(c,Math.round(t.verno*10));if(!h)throw new it.MissingAPI;h.onerror=De(l),h.onblocked=At(t._fireOnBlocked),h.onupgradeneeded=At(function(f){if(o=h.transaction,e.autoSchema&&!t._options.allowEmptyDB){h.onerror=ma,o.abort(),h.result.close();var p=n.deleteDatabase(c);p.onsuccess=p.onerror=At(function(){l(new it.NoSuchDatabase("Database "+c+" doesnt exist"))})}else{o.onerror=De(l);var d=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;s=d<1,t._novip.idbdb=h.result,m_(t,d/10,o,l)}},l),h.onsuccess=At(function(){o=null;var f=t._novip.idbdb=h.result,p=Mi(f.objectStoreNames);if(p.length>0)try{var d=f.transaction(c_(p),"readonly");e.autoSchema?x_(t,f,d):(Su(t,t._dbSchema,d),w_(t,d)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),bu(t,d)}catch{}pa.push(t),f.onversionchange=At(function(m){e.vcFired=!0,t.on("versionchange").fire(m)}),f.onclose=At(function(m){t.on("close").fire(m)}),s&&M_(t._deps,c),u()},l)})})]).then(function(){return a(),e.onReadyBeingFired=[],X.resolve(Cu(function(){return t.on.ready.fire(t.vip)})).then(function u(){if(e.onReadyBeingFired.length>0){var l=e.onReadyBeingFired.reduce(Qs,wt);return e.onReadyBeingFired=[],X.resolve(Cu(function(){return l(t.vip)})).then(u)}})}).finally(function(){e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(function(){return t}).catch(function(u){e.dbOpenError=u;try{o&&o.abort()}catch{}return r===e.openCanceller&&t._close(),Vt(u)}).finally(function(){e.openComplete=!0,i()})}function Au(t){var e=function(o){return t.next(o)},n=function(o){return t.throw(o)},r=i(e),a=i(n);function i(o){return function(s){var u=o(s),l=u.value;return u.done?l:!l||typeof l.then!="function"?Kt(l)?Promise.all(l).then(r,a):r(l):l.then(r,a)}}return i(e)()}function D_(t,e,n){var r=arguments.length;if(r<2)throw new it.InvalidArgument("Too few arguments");for(var a=new Array(r-1);--r;)a[r-1]=arguments[r];n=a.pop();var i=hh(a);return[t,i,n]}function L_(t,e,n,r,a){return X.resolve().then(function(){var i=nt.transless||nt,o=t._createTransaction(e,n,t._dbSchema,r),s={trans:o,transless:i};r?o.idbtrans=r.idbtrans:o.create();var u=Ks(a);u&&gr();var l,c=X.follow(function(){if(l=a.call(o,o),l)if(u){var h=qe.bind(null,null);l.then(h,h)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=Au(l))},s);return(l&&typeof l.then=="function"?X.resolve(l).then(function(h){return o.active?h:Vt(new it.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):c.then(function(){return l})).then(function(h){return r&&o._resolve(),o._completion.then(function(){return h})}).catch(function(h){return o._reject(h),Vt(h)})})}function qi(t,e,n){for(var r=Kt(t)?t.slice():[t],a=0;a<n;++a)r.push(e);return r}function k_(t){return pt(pt({},t),{table:function(e){var n=t.table(e),r=n.schema,a={},i=[];function o(m,v,_){var g=ba(m),y=a[g]=a[g]||[],O=m==null?0:typeof m=="string"?1:m.length,x=v>0,w=pt(pt({},_),{isVirtual:x,keyTail:v,keyLength:O,extractKey:_u(m),unique:!x&&_.unique});if(y.push(w),w.isPrimaryKey||i.push(w),O>1){var M=O===2?m[0]:m.slice(0,O-1);o(M,v+1,_)}return y.sort(function(T,S){return T.keyTail-S.keyTail}),w}var s=o(r.primaryKey.keyPath,0,r.primaryKey);a[":id"]=[s];for(var u=0,l=r.indexes;u<l.length;u++){var c=l[u];o(c.keyPath,0,c)}function h(m){var v=a[ba(m)];return v&&v[0]}function f(m,v){return{type:m.type===1?2:m.type,lower:qi(m.lower,m.lowerOpen?t.MAX_KEY:t.MIN_KEY,v),lowerOpen:!0,upper:qi(m.upper,m.upperOpen?t.MIN_KEY:t.MAX_KEY,v),upperOpen:!0}}function p(m){var v=m.query.index;return v.isVirtual?pt(pt({},m),{query:{index:v,range:f(m.query.range,v.keyTail)}}):m}var d=pt(pt({},n),{schema:pt(pt({},r),{primaryKey:s,indexes:i,getIndexByKeyPath:h}),count:function(m){return n.count(p(m))},query:function(m){return n.query(p(m))},openCursor:function(m){var v=m.query.index,_=v.keyTail,g=v.isVirtual,y=v.keyLength;if(!g)return n.openCursor(m);function O(x){function w(T){T!=null?x.continue(qi(T,m.reverse?t.MAX_KEY:t.MIN_KEY,_)):m.unique?x.continue(x.key.slice(0,y).concat(m.reverse?t.MIN_KEY:t.MAX_KEY,_)):x.continue()}var M=Object.create(x,{continue:{value:w},continuePrimaryKey:{value:function(T,S){x.continuePrimaryKey(qi(T,t.MAX_KEY,_),S)}},primaryKey:{get:function(){return x.primaryKey}},key:{get:function(){var T=x.key;return y===1?T[0]:T.slice(0,y)}},value:{get:function(){return x.value}}});return M}return n.openCursor(p(m)).then(function(x){return x&&O(x)})}});return d}})}var R_={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:k_};function Pu(t,e,n,r){return n=n||{},r=r||"",Nt(t).forEach(function(a){if(!ye(e,a))n[r+a]=void 0;else{var i=t[a],o=e[a];if(typeof i=="object"&&typeof o=="object"&&i&&o){var s=Ys(i),u=Ys(o);s!==u?n[r+a]=e[a]:s==="Object"?Pu(i,o,n,r+a+"."):i!==o&&(n[r+a]=e[a])}else i!==o&&(n[r+a]=e[a])}}),Nt(e).forEach(function(a){ye(t,a)||(n[r+a]=e[a])}),n}function I_(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var N_={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return pt(pt({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,a=pt(pt({},n),{mutate:function(i){var o=nt.trans,s=o.table(e).hook,u=s.deleting,l=s.creating,c=s.updating;switch(i.type){case"add":if(l.fire===wt)break;return o._promise("readwrite",function(){return h(i)},!0);case"put":if(l.fire===wt&&c.fire===wt)break;return o._promise("readwrite",function(){return h(i)},!0);case"delete":if(u.fire===wt)break;return o._promise("readwrite",function(){return h(i)},!0);case"deleteRange":if(u.fire===wt)break;return o._promise("readwrite",function(){return f(i)},!0)}return n.mutate(i);function h(d){var m=nt.trans,v=d.keys||I_(r,d);if(!v)throw new Error("Keys missing");return d=d.type==="add"||d.type==="put"?pt(pt({},d),{keys:v}):pt({},d),d.type!=="delete"&&(d.values=zs([],d.values,!0)),d.keys&&(d.keys=zs([],d.keys,!0)),B_(n,d,v).then(function(_){var g=v.map(function(y,O){var x=_[O],w={onerror:null,onsuccess:null};if(d.type==="delete")u.fire.call(w,y,x,m);else if(d.type==="add"||x===void 0){var M=l.fire.call(w,y,d.values[O],m);y==null&&M!=null&&(y=M,d.keys[O]=y,r.outbound||Te(d.values[O],r.keyPath,y))}else{var T=Pu(x,d.values[O]),S=c.fire.call(w,T,y,x,m);if(S){var C=d.values[O];Object.keys(S).forEach(function(E){ye(C,E)?C[E]=S[E]:Te(C,E,S[E])})}}return w});return n.mutate(d).then(function(y){for(var O=y.failures,x=y.results,w=y.numFailures,M=y.lastResult,T=0;T<v.length;++T){var S=x?x[T]:v[T],C=g[T];S==null?C.onerror&&C.onerror(O[T]):C.onsuccess&&C.onsuccess(d.type==="put"&&_[T]?d.values[T]:S)}return{failures:O,results:x,numFailures:w,lastResult:M}}).catch(function(y){return g.forEach(function(O){return O.onerror&&O.onerror(y)}),Promise.reject(y)})})}function f(d){return p(d.trans,d.range,1e4)}function p(d,m,v){return n.query({trans:d,values:!1,query:{index:r,range:m},limit:v}).then(function(_){var g=_.result;return h({type:"delete",keys:g,trans:d}).then(function(y){return y.numFailures>0?Promise.reject(y.failures[0]):g.length<v?{failures:[],numFailures:0,lastResult:void 0}:p(d,pt(pt({},m),{lower:g[g.length-1],lowerOpen:!0}),v)})})}}});return a}})}};function B_(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}function jh(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var r=[],a=0,i=0;a<e.keys.length&&i<t.length;++a)ae(e.keys[a],t[i])===0&&(r.push(n?oa(e.values[a]):e.values[a]),++i);return r.length===t.length?r:null}catch{return null}}var U_={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return pt(pt({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var a=jh(r.keys,r.trans._cache,r.cache==="clone");return a?X.resolve(a):n.getMany(r).then(function(i){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?oa(i):i},i})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},Du;function Lu(t){return!("from"in t)}var Xe=function(t,e){if(this)re(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{var n=new Xe;return t&&"d"in t&&re(n,t),n}};fr(Xe.prototype,(Du={add:function(t){return Ki(this,t),this},addKey:function(t){return xa(this,t,t),this},addKeys:function(t){var e=this;return t.forEach(function(n){return xa(e,n,n)}),this}},Du[qs]=function(){return ku(this)},Du));function xa(t,e,n){var r=ae(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(Lu(t))return re(t,{from:e,to:n,d:1});var a=t.l,i=t.r;if(ae(n,t.from)<0)return a?xa(a,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Yh(t);if(ae(e,t.to)>0)return i?xa(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Yh(t);ae(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),ae(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var o=!t.r;a&&!t.l&&Ki(t,a),i&&o&&Ki(t,i)}}function Ki(t,e){function n(r,a){var i=a.from,o=a.to,s=a.l,u=a.r;xa(r,i,o),s&&n(r,s),u&&n(r,u)}Lu(e)||n(t,e)}function F_(t,e){var n=ku(e),r=n.next();if(r.done)return!1;for(var a=r.value,i=ku(t),o=i.next(a.from),s=o.value;!r.done&&!o.done;){if(ae(s.from,a.to)<=0&&ae(s.to,a.from)>=0)return!0;ae(a.from,s.from)<0?a=(r=n.next(s.from)).value:s=(o=i.next(a.from)).value}return!1}function ku(t){var e=Lu(t)?null:{s:0,n:t};return{next:function(n){for(var r=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&ae(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||ae(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Yh(t){var e,n,r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),a=r>1?"r":r<-1?"l":"";if(a){var i=a==="r"?"l":"r",o=pt({},t),s=t[a];t.from=s.from,t.to=s.to,t[a]=s[a],o[a]=s[i],t[i]=o,o.d=qh(o)}t.d=qh(t)}function qh(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}var V_={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new Xe(t.MIN_KEY,t.MAX_KEY);return pt(pt({},t),{table:function(r){var a=t.table(r),i=a.schema,o=i.primaryKey,s=o.extractKey,u=o.outbound,l=pt(pt({},a),{mutate:function(f){var p=f.trans,d=p.mutatedParts||(p.mutatedParts={}),m=function(M){var T="idb://"+e+"/"+r+"/"+M;return d[T]||(d[T]=new Xe)},v=m(""),_=m(":dels"),g=f.type,y=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[],O=y[0],x=y[1],w=f.trans._cache;return a.mutate(f).then(function(M){if(Kt(O)){g!=="delete"&&(O=M.results),v.addKeys(O);var T=jh(O,w);!T&&g!=="add"&&_.addKeys(O),(T||x)&&$_(m,i,T,x)}else if(O){var S={from:O.lower,to:O.upper};_.add(S),v.add(S)}else v.add(n),_.add(n),i.indexes.forEach(function(C){return m(C.name).add(n)});return M})}}),c=function(f){var p,d,m=f.query,v=m.index,_=m.range;return[v,new Xe((p=_.lower)!==null&&p!==void 0?p:t.MIN_KEY,(d=_.upper)!==null&&d!==void 0?d:t.MAX_KEY)]},h={get:function(f){return[o,new Xe(f.key)]},getMany:function(f){return[o,new Xe().addKeys(f.keys)]},count:c,query:c,openCursor:c};return Nt(h).forEach(function(f){l[f]=function(p){var d=nt.subscr;if(d){var m=function(w){var M="idb://"+e+"/"+r+"/"+w;return d[M]||(d[M]=new Xe)},v=m(""),_=m(":dels"),g=h[f](p),y=g[0],O=g[1];if(m(y.name||"").add(O),!y.isPrimaryKey)if(f==="count")_.add(n);else{var x=f==="query"&&u&&p.values&&a.query(pt(pt({},p),{values:!1}));return a[f].apply(this,arguments).then(function(w){if(f==="query"){if(u&&p.values)return x.then(function(C){var E=C.result;return v.addKeys(E),w});var M=p.values?w.result.map(s):w.result;p.values?v.addKeys(M):_.addKeys(M)}else if(f==="openCursor"){var T=w,S=p.values;return T&&Object.create(T,{key:{get:function(){return _.addKey(T.primaryKey),T.key}},primaryKey:{get:function(){var C=T.primaryKey;return _.addKey(C),C}},value:{get:function(){return S&&v.addKey(T.primaryKey),T.value}}})}return w})}}return a[f].apply(this,arguments)}}),l}})}};function $_(t,e,n,r){function a(i){var o=t(i.name||"");function s(l){return l!=null?i.extractKey(l):null}var u=function(l){return i.multiEntry&&Kt(l)?l.forEach(function(c){return o.addKey(c)}):o.addKey(l)};(n||r).forEach(function(l,c){var h=n&&s(n[c]),f=r&&s(r[c]);ae(h,f)!==0&&(h!=null&&u(h),f!=null&&u(f))})}e.indexes.forEach(a)}var Kh=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var a=t.dependencies;this._options=n=pt({addons:t.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var i=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:wt,dbReadyPromise:null,cancelOpen:wt,openCanceller:null,autoSchema:!0};o.dbReadyPromise=new X(function(s){o.dbReadyResolve=s}),o.openCanceller=new X(function(s,u){o.cancelOpen=u}),this._state=o,this.name=e,this.on=va(this,"populate","blocked","versionchange","close",{ready:[Qs,wt]}),this.on.ready.subscribe=uh(this.on.ready.subscribe,function(s){return function(u,l){t.vip(function(){var c=r._state;if(c.openComplete)c.dbOpenError||X.resolve().then(u),l&&s(u);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(u),l&&s(u);else{s(u);var h=r;l||s(function f(){h.on.ready.unsubscribe(u),h.on.ready.unsubscribe(f)})}})}}),this.Collection=e_(this),this.Table=X0(this),this.Transaction=l_(this),this.Version=S_(this),this.WhereClause=s_(this),this.on("versionchange",function(s){s.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(s){!s.newVersion||s.newVersion<s.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+s.oldVersion/10)}),this._maxKey=_a(n.IDBKeyRange),this._createTransaction=function(s,u,l,c){return new r.Transaction(s,u,l,r._options.chromeTransactionDurability,c)},this._fireOnBlocked=function(s){r.on("blocked").fire(s),pa.filter(function(u){return u.name===r.name&&u!==r&&!u._state.vcFired}).map(function(u){return u.on("versionchange").fire(s)})},this.use(R_),this.use(N_),this.use(V_),this.use(U_),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(function(s){return s(r)})}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new it.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new it.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,r=n.filter(function(a){return a._cfg.version===e})[0];return r||(r=new this.Version(e),n.push(r),n.sort(g_),r.stores({}),this._state.autoSchema=!1,r)},t.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||nt.letThrough||this._vip)?e():new X(function(r,a){if(n._state.openComplete)return a(new it.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){a(new it.DatabaseClosed);return}n.open().catch(wt)}n._state.dbReadyPromise.then(r,a)}).then(e)},t.prototype.use=function(e){var n=e.stack,r=e.create,a=e.level,i=e.name;i&&this.unuse({stack:n,name:i});var o=this._middlewares[n]||(this._middlewares[n]=[]);return o.push({stack:n,create:r,level:a==null?10:a,name:i}),o.sort(function(s,u){return s.level-u.level}),this},t.prototype.unuse=function(e){var n=e.stack,r=e.name,a=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(i){return a?i.create!==a:r?i.name!==r:!1})),this},t.prototype.open=function(){return P_(this)},t.prototype._close=function(){var e=this._state,n=pa.indexOf(this);if(n>=0&&pa.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new X(function(r){e.dbReadyResolve=r}),e.openCanceller=new X(function(r,a){e.cancelOpen=a})},t.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new it.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)},t.prototype.delete=function(){var e=this,n=arguments.length>0,r=this._state;return new X(function(a,i){var o=function(){e.close();var s=e._deps.indexedDB.deleteDatabase(e.name);s.onsuccess=At(function(){C_(e._deps,e.name),a()}),s.onerror=De(i),s.onblocked=e._fireOnBlocked};if(n)throw new it.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(o):o()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var e=this;return Nt(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var e=D_.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,n,r){var a=this,i=nt.trans;(!i||i.db!==this||e.indexOf("!")!==-1)&&(i=null);var o=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var s,u;try{if(u=n.map(function(c){var h=c instanceof a.Table?c.name:c;if(typeof h!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return h}),e=="r"||e===du)s=du;else if(e=="rw"||e==pu)s=pu;else throw new it.InvalidArgument("Invalid transaction mode: "+e);if(i){if(i.mode===du&&s===pu)if(o)i=null;else throw new it.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i&&u.forEach(function(c){if(i&&i.storeNames.indexOf(c)===-1)if(o)i=null;else throw new it.SubTransaction("Table "+c+" not included in parent transaction.")}),o&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,function(h,f){f(c)}):Vt(c)}var l=L_.bind(null,this,s,u,i,r);return i?i._promise(s,l,"lock"):nt.trans?mr(nt.transless,function(){return a._whenReady(l)}):this._whenReady(l)},t.prototype.table=function(e){if(!ye(this._allTables,e))throw new it.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},t}(),G_=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",H_=function(){function t(e){this._subscribe=e}return t.prototype.subscribe=function(e,n,r){return this._subscribe(!e||typeof e=="function"?{next:e,error:n,complete:r}:e)},t.prototype[G_]=function(){return this},t}();function Xh(t,e){return Nt(e).forEach(function(n){var r=t[n]||(t[n]=new Xe);Ki(r,e[n])}),t}function z_(t){return new H_(function(e){var n=Ks(t);function r(p){n&&gr();var d=function(){return dn(t,{subscr:p,trans:null})},m=nt.trans?mr(nt.transless,d):d();return n&&m.then(qe,qe),m}var a=!1,i={},o={},s={get closed(){return a},unsubscribe:function(){a=!0,mn.storagemutated.unsubscribe(h)}};e.start&&e.start(s);var u=!1,l=!1;function c(){return Nt(o).some(function(p){return i[p]&&F_(i[p],o[p])})}var h=function(p){Xh(i,p),c()&&f()},f=function(){if(!(u||a)){i={};var p={},d=r(p);l||(mn(ya,h),l=!0),u=!0,Promise.resolve(d).then(function(m){u=!1,!a&&(c()?f():(i={},o=p,e.next&&e.next(m)))},function(m){u=!1,e.error&&e.error(m),s.unsubscribe()})}};return f(),s})}var Ru;try{Ru={indexedDB:Et.indexedDB||Et.mozIndexedDB||Et.webkitIndexedDB||Et.msIndexedDB,IDBKeyRange:Et.IDBKeyRange||Et.webkitIDBKeyRange}}catch{Ru={indexedDB:null,IDBKeyRange:null}}var Bn=Kh;fr(Bn,pt(pt({},Ai),{delete:function(t){var e=new Bn(t,{addons:[]});return e.delete()},exists:function(t){return new Bn(t,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return E_(Bn.dependencies).then(t)}catch{return Vt(new it.MissingAPI)}},defineClass:function(){function t(e){re(this,e)}return t},ignoreTransaction:function(t){return nt.trans?mr(nt.transless,t):t()},vip:Cu,async:function(t){return function(){try{var e=Au(t.apply(this,arguments));return!e||typeof e.then!="function"?X.resolve(e):e}catch(n){return Vt(n)}}},spawn:function(t,e,n){try{var r=Au(t.apply(n,e||[]));return!r||typeof r.then!="function"?X.resolve(r):r}catch(a){return Vt(a)}},currentTransaction:{get:function(){return nt.trans||null}},waitFor:function(t,e){var n=X.resolve(typeof t=="function"?Bn.ignoreTransaction(t):t).timeout(e||6e4);return nt.trans?nt.trans.waitFor(n):n},Promise:X,debug:{get:function(){return Pe},set:function(t){ph(t,t==="dexie"?function(){return!0}:Rh)}},derive:hr,extend:re,props:fr,override:uh,Events:va,on:mn,liveQuery:z_,extendObservabilitySet:Xh,getByKeyPath:je,setByKeyPath:Te,delByKeyPath:b0,shallowClone:fh,deepClone:oa,getObjectDiff:Pu,cmp:ae,asap:lh,minKey:hu,addons:[],connections:pa,errnames:C0,dependencies:Ru,semVer:Lh,version:Lh.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,n*2)})}));Bn.maxKey=_a(Bn.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(mn(ya,function(t){if(!Ze){var e;$i?(e=document.createEvent("CustomEvent"),e.initCustomEvent(gn,!0,!0,t)):e=new CustomEvent(gn,{detail:t}),Ze=!0,dispatchEvent(e),Ze=!1}}),addEventListener(gn,function(t){var e=t.detail;Ze||Xi(e)}));function Xi(t){var e=Ze;try{Ze=!0,mn.storagemutated.fire(t)}finally{Ze=e}}var Ze=!1;if(typeof BroadcastChannel!="undefined"){var Zh=new BroadcastChannel(gn);mn(ya,function(t){Ze||Zh.postMessage(t)}),Zh.onmessage=function(t){t.data&&Xi(t.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){mn(ya,function(t){try{Ze||(typeof localStorage!="undefined"&&localStorage.setItem(gn,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&zs([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(e){return e.postMessage({type:gn,changedParts:t})}))}catch{}}),addEventListener("storage",function(t){if(t.key===gn){var e=JSON.parse(t.newValue);e&&Xi(e.changedParts)}});var Qh=self.document&&navigator.serviceWorker;Qh&&Qh.addEventListener("message",W_)}function W_(t){var e=t.data;e&&e.type===gn&&Xi(e.changedParts)}X.rejectionMapper=P0;ph(Pe,Rh);function ce(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function kt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Zt(t){kt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function EH(t,e){kt(2,arguments);var n=Zt(t),r=ce(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function j_(t,e){kt(2,arguments);var n=Zt(t).getTime(),r=ce(e);return new Date(n+r)}function Iu(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Jh(t){kt(1,arguments);var e=Zt(t);return e.setHours(0,0,0,0),e}var Y_=864e5;function td(t,e){kt(2,arguments);var n=Jh(t),r=Jh(e),a=n.getTime()-Iu(n),i=r.getTime()-Iu(r);return Math.round((a-i)/Y_)}function q_(t){return kt(1,arguments),t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function K_(t){if(kt(1,arguments),!q_(t)&&typeof t!="number")return!1;var e=Zt(t);return!isNaN(Number(e))}function ed(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function MH(t,e){kt(2,arguments);var n=Zt(t),r=Zt(e),a=ed(n,r),i=Math.abs(td(n,r));n.setDate(n.getDate()-a*i);var o=Number(ed(n,r)===-a),s=a*(i-o);return s===0?0:s}function X_(t){kt(1,arguments);var e=Zt(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}var Z_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Q_=function(t,e,n){var r,a=Z_[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},J_=Q_;function Nu(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var tb={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eb={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nb={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rb={date:Nu({formats:tb,defaultWidth:"full"}),time:Nu({formats:eb,defaultWidth:"full"}),dateTime:Nu({formats:nb,defaultWidth:"full"})},ab=rb,ib={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ob=function(t,e,n,r){return ib[t]},sb=ob;function wa(t){return function(e,n){var r=n||{},a=r.context?String(r.context):"standalone",i;if(a==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=r.width?String(r.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var u=t.defaultWidth,l=r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[u]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var ub={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lb={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cb={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fb={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},db={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pb=function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},vb={ordinalNumber:pb,era:wa({values:ub,defaultWidth:"wide"}),quarter:wa({values:lb,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:wa({values:cb,defaultWidth:"wide"}),day:wa({values:fb,defaultWidth:"wide"}),dayPeriod:wa({values:hb,defaultWidth:"wide",formattingValues:db,defaultFormattingWidth:"wide"})},gb=vb;function Oa(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;var o=i[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(s)?yb(s,function(h){return h.test(o)}):mb(s,function(h){return h.test(o)}),l;l=t.valueCallback?t.valueCallback(u):u,l=n.valueCallback?n.valueCallback(l):l;var c=e.slice(o.length);return{value:l,rest:c}}}function mb(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function yb(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function _b(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var a=r[0],i=e.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var s=e.slice(a.length);return{value:o,rest:s}}}var bb=/^(\d+)(th|st|nd|rd)?/i,xb=/\d+/i,wb={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ob={any:[/^b/i,/^(a|c)/i]},Tb={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sb={any:[/1/i,/2/i,/3/i,/4/i]},Eb={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cb={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ab={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Db={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lb={ordinalNumber:_b({matchPattern:bb,parsePattern:xb,valueCallback:function(t){return parseInt(t,10)}}),era:Oa({matchPatterns:wb,defaultMatchWidth:"wide",parsePatterns:Ob,defaultParseWidth:"any"}),quarter:Oa({matchPatterns:Tb,defaultMatchWidth:"wide",parsePatterns:Sb,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Oa({matchPatterns:Eb,defaultMatchWidth:"wide",parsePatterns:Mb,defaultParseWidth:"any"}),day:Oa({matchPatterns:Cb,defaultMatchWidth:"wide",parsePatterns:Ab,defaultParseWidth:"any"}),dayPeriod:Oa({matchPatterns:Pb,defaultMatchWidth:"any",parsePatterns:Db,defaultParseWidth:"any"})},kb=Lb,Rb={code:"en-US",formatDistance:J_,formatLong:ab,formatRelative:sb,localize:gb,match:kb,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ib=Rb;function Nb(t,e){kt(2,arguments);var n=ce(e);return j_(t,-n)}function _t(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Bb={y:function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return _t(e==="yy"?r%100:r,e.length)},M:function(t,e){var n=t.getUTCMonth();return e==="M"?String(n+1):_t(n+1,2)},d:function(t,e){return _t(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,e){return _t(t.getUTCHours()%12||12,e.length)},H:function(t,e){return _t(t.getUTCHours(),e.length)},m:function(t,e){return _t(t.getUTCMinutes(),e.length)},s:function(t,e){return _t(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,r=t.getUTCMilliseconds(),a=Math.floor(r*Math.pow(10,n-3));return _t(a,e.length)}},yn=Bb,Ub=864e5;function Fb(t){kt(1,arguments);var e=Zt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),a=n-r;return Math.floor(a/Ub)+1}function Zi(t){kt(1,arguments);var e=1,n=Zt(t),r=n.getUTCDay(),a=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function nd(t){kt(1,arguments);var e=Zt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=Zi(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=Zi(i);return e.getTime()>=a.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Vb(t){kt(1,arguments);var e=nd(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Zi(n);return r}var $b=6048e5;function Gb(t){kt(1,arguments);var e=Zt(t),n=Zi(e).getTime()-Vb(e).getTime();return Math.round(n/$b)+1}function Qi(t,e){kt(1,arguments);var n=e||{},r=n.locale,a=r&&r.options&&r.options.weekStartsOn,i=a==null?0:ce(a),o=n.weekStartsOn==null?i:ce(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Zt(t),u=s.getUTCDay(),l=(u<o?7:0)+u-o;return s.setUTCDate(s.getUTCDate()-l),s.setUTCHours(0,0,0,0),s}function rd(t,e){kt(1,arguments);var n=Zt(t),r=n.getUTCFullYear(),a=e||{},i=a.locale,o=i&&i.options&&i.options.firstWeekContainsDate,s=o==null?1:ce(o),u=a.firstWeekContainsDate==null?s:ce(a.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(r+1,0,u),l.setUTCHours(0,0,0,0);var c=Qi(l,e),h=new Date(0);h.setUTCFullYear(r,0,u),h.setUTCHours(0,0,0,0);var f=Qi(h,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function Hb(t,e){kt(1,arguments);var n=e||{},r=n.locale,a=r&&r.options&&r.options.firstWeekContainsDate,i=a==null?1:ce(a),o=n.firstWeekContainsDate==null?i:ce(n.firstWeekContainsDate),s=rd(t,e),u=new Date(0);u.setUTCFullYear(s,0,o),u.setUTCHours(0,0,0,0);var l=Qi(u,e);return l}var zb=6048e5;function Wb(t,e){kt(1,arguments);var n=Zt(t),r=Qi(n,e).getTime()-Hb(n,e).getTime();return Math.round(r/zb)+1}var br={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jb={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){var r=t.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return yn.y(t,e)},Y:function(t,e,n,r){var a=rd(t,r),i=a>0?a:1-a;if(e==="YY"){var o=i%100;return _t(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):_t(i,e.length)},R:function(t,e){var n=nd(t);return _t(n,e.length)},u:function(t,e){var n=t.getUTCFullYear();return _t(n,e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return _t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return _t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return yn.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return _t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var a=Wb(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):_t(a,e.length)},I:function(t,e,n){var r=Gb(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):_t(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):yn.d(t,e)},D:function(t,e,n){var r=Fb(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_t(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var a=t.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return _t(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var a=t.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return _t(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return _t(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours(),a=r/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r=t.getUTCHours(),a;switch(r===12?a=br.noon:r===0?a=br.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r=t.getUTCHours(),a;switch(r>=17?a=br.evening:r>=12?a=br.afternoon:r>=4?a=br.morning:a=br.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){var r=t.getUTCHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return yn.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):yn.H(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_t(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):_t(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):yn.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):yn.s(t,e)},S:function(t,e){return yn.S(t,e)},X:function(t,e,n,r){var a=r._originalDate||t,i=a.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return id(i);case"XXXX":case"XX":return Un(i);case"XXXXX":case"XXX":default:return Un(i,":")}},x:function(t,e,n,r){var a=r._originalDate||t,i=a.getTimezoneOffset();switch(e){case"x":return id(i);case"xxxx":case"xx":return Un(i);case"xxxxx":case"xxx":default:return Un(i,":")}},O:function(t,e,n,r){var a=r._originalDate||t,i=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ad(i,":");case"OOOO":default:return"GMT"+Un(i,":")}},z:function(t,e,n,r){var a=r._originalDate||t,i=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ad(i,":");case"zzzz":default:return"GMT"+Un(i,":")}},t:function(t,e,n,r){var a=r._originalDate||t,i=Math.floor(a.getTime()/1e3);return _t(i,e.length)},T:function(t,e,n,r){var a=r._originalDate||t,i=a.getTime();return _t(i,e.length)}};function ad(t,e){var n=t>0?"-":"+",r=Math.abs(t),a=Math.floor(r/60),i=r%60;return i===0?n+String(a):n+String(a)+e+_t(i,2)}function id(t,e){if(t%60==0){var n=t>0?"-":"+";return n+_t(Math.abs(t)/60,2)}return Un(t,e)}function Un(t,e){var n=e||"",r=t>0?"-":"+",a=Math.abs(t),i=_t(Math.floor(a/60),2),o=_t(a%60,2);return r+i+n+o}var Yb=jb;function od(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function sd(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}function qb(t,e){var n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return od(t,e);var i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",od(r,e)).replace("{{time}}",sd(a,e))}var Kb={p:sd,P:qb},Xb=Kb,Zb=["D","DD"],Qb=["YY","YYYY"];function Jb(t){return Zb.indexOf(t)!==-1}function tx(t){return Qb.indexOf(t)!==-1}function ud(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var ex=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rx=/^'([^]*?)'?$/,ax=/''/g,ix=/[a-zA-Z]/;function CH(t,e,n){kt(2,arguments);var r=String(e),a=n||{},i=a.locale||Ib,o=i.options&&i.options.firstWeekContainsDate,s=o==null?1:ce(o),u=a.firstWeekContainsDate==null?s:ce(a.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=i.options&&i.options.weekStartsOn,c=l==null?0:ce(l),h=a.weekStartsOn==null?c:ce(a.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var f=Zt(t);if(!K_(f))throw new RangeError("Invalid time value");var p=Iu(f),d=Nb(f,p),m={firstWeekContainsDate:u,weekStartsOn:h,locale:i,_originalDate:f},v=r.match(nx).map(function(_){var g=_[0];if(g==="p"||g==="P"){var y=Xb[g];return y(_,i.formatLong,m)}return _}).join("").match(ex).map(function(_){if(_==="''")return"'";var g=_[0];if(g==="'")return ox(_);var y=Yb[g];if(y)return!a.useAdditionalWeekYearTokens&&tx(_)&&ud(_,e,t),!a.useAdditionalDayOfYearTokens&&Jb(_)&&ud(_,e,t),y(d,_,i.localize,m);if(g.match(ix))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return _}).join("");return v}function ox(t){return t.match(rx)[1].replace(ax,"'")}function AH(t){kt(1,arguments);var e=Zt(t),n=td(e,X_(e)),r=n+1;return r}var ct;(function(t){t.GRAPHICS_DOCUMENT="graphics-document",t.GRAPHICS_OBJECT="graphics-object",t.GRAPHICS_SYMBOL="graphics-symbol",t.GROUP="group",t.DOCUMENT="document",t.CHECKBOX="checkbox",t.BUTTON="button",t.MENU="menu",t.MENU_ITEM="menuitem",t.IMG="img"})(ct||(ct={}));var Bu;(function(t){t.RENDER_FINISHED="render-finished",t.RESIZE="chart-resize",t.MOUSEOVER="chart-mouseover",t.MOUSEOUT="chart-mouseout"})(Bu||(Bu={}));var Uu;(function(t){t.SHOW="show-modal",t.HIDE="hide-modal"})(Uu||(Uu={}));var Fu;(function(t){t.UPDATE="model-update"})(Fu||(Fu={}));var Vu;(function(t){t.SHOW_OVERFLOW_MENU="show-toolbar-overflow-menu",t.HIDE_OVERFLOW_MENU="hide-toolbar-overflow-menu"})(Vu||(Vu={}));var $u;(function(t){t.UPDATE="zoom-bar-update",t.SELECTION_START="zoom-bar-selection-start",t.SELECTION_IN_PROGRESS="zoom-bar-selection-in-progress",t.SELECTION_END="zoom-bar-selection-end"})($u||($u={}));var Gu;(function(t){t.CHANGE="zoom-domain-change"})(Gu||(Gu={}));var Hu;(function(t){t.CANVAS_ZOOM_IN="canvas-zoom-in",t.CANVAS_ZOOM_OUT="canvas-zoom-out"})(Hu||(Hu={}));var zu;(function(t){t.LABEL_MOUSEOVER="axis-label-mouseover",t.LABEL_MOUSEMOVE="axis-label-mousemove",t.LABEL_CLICK="axis-label-click",t.LABEL_MOUSEOUT="axis-label-mouseout"})(zu||(zu={}));var Wu;(function(t){t.POINT_MOUSEOVER="scatter-mouseover",t.POINT_MOUSEMOVE="scatter-mousemove",t.POINT_CLICK="scatter-click",t.POINT_MOUSEOUT="scatter-mouseout"})(Wu||(Wu={}));var ju;(function(t){t.WORD_MOUSEOVER="wordcloud-word-mouseover",t.WORD_MOUSEMOVE="wordcloud-word-mousemove",t.WORD_CLICK="wordcloud-word-click",t.WORD_MOUSEOUT="wordcloud-word-mouseout"})(ju||(ju={}));var Yu;(function(t){t.SLICE_MOUSEOVER="pie-slice-mouseover",t.SLICE_MOUSEMOVE="pie-slice-mousemove",t.SLICE_CLICK="pie-slice-click",t.SLICE_MOUSEOUT="pie-slice-mouseout"})(Yu||(Yu={}));var qu;(function(t){t.ARC_MOUSEOVER="gauge-arc-mouseover",t.ARC_MOUSEMOVE="gauge-arc-mousemove",t.ARC_CLICK="gauge-arc-click",t.ARC_MOUSEOUT="gauge-arc-mouseout"})(qu||(qu={}));var Ku;(function(t){t.BAR_MOUSEOVER="bar-mouseover",t.BAR_MOUSEMOVE="bar-mousemove",t.BAR_CLICK="bar-click",t.BAR_MOUSEOUT="bar-mouseout"})(Ku||(Ku={}));var Xu;(function(t){t.BOX_MOUSEOVER="box-mouseover",t.BOX_MOUSEMOVE="box-mousemove",t.BOX_CLICK="box-click",t.BOX_MOUSEOUT="box-mouseout",t.OUTLIER_MOUSEOVER="outlier-mouseover",t.OUTLIER_MOUSEMOVE="outlier-mousemove",t.OUTLIER_CLICK="outlier-click",t.OUTLIER_MOUSEOUT="outlier-mouseout"})(Xu||(Xu={}));var Zu;(function(t){t.SCATTER_MOUSEOVER="scatter-mouseover",t.SCATTER_MOUSEMOVE="scatter-mousemove",t.SCATTER_CLICK="scatter-click",t.SCATTER_MOUSEOUT="scatter-mouseout"})(Zu||(Zu={}));var Qu;(function(t){t.POINT_MOUSEOVER="scatter-mouseover",t.POINT_MOUSEMOVE="scatter-mousemove",t.POINT_CLICK="scatter-click",t.POINT_MOUSEOUT="scatter-mouseout"})(Qu||(Qu={}));var Ju;(function(t){t.X_AXIS_MOUSEOVER="radar-x-axis-mouseover",t.X_AXIS_MOUSEMOVE="radar-x-axis-mousemove",t.X_AXIS_CLICK="radar-x-axis-click",t.X_AXIS_MOUSEOUT="radar-x-axis-mouseout"})(Ju||(Ju={}));var tl;(function(t){t.NODE_MOUSEOVER="tree-node-mouseover",t.NODE_CLICK="tree-node-click",t.NODE_MOUSEOUT="tree-node-mouseout"})(tl||(tl={}));var el;(function(t){t.LEAF_MOUSEOVER="leaf-mouseover",t.LEAF_MOUSEMOVE="leaf-mousemove",t.LEAF_CLICK="leaf-click",t.LEAF_MOUSEOUT="leaf-mouseout"})(el||(el={}));var nl;(function(t){t.SHOW="show-tooltip",t.MOVE="move-tooltip",t.HIDE="hide-tooltip"})(nl||(nl={}));var rl;(function(t){t.SHOW="show-threshold",t.HIDE="hide-threshold"})(rl||(rl={}));var al;(function(t){t.ITEM_HOVER="legend-item-onhover",t.ITEM_CLICK="legend-item-onclick",t.ITEM_MOUSEOUT="legend-item-onmouseout",t.ITEMS_UPDATE="legend-items-update"})(al||(al={}));var il;(function(t){t.CIRCLE_MOUSEOVER="circle-leaf-mouseover",t.CIRCLE_CLICK="circle-leaf-click",t.CIRCLE_MOUSEOUT="circle-leaf-mouseout",t.CIRCLE_MOUSEMOVE="circle-leaf-mousemove"})(il||(il={}));var ol;(function(t){t.NODE_MOUSEOVER="alluvial-node-mouseover",t.NODE_CLICK="alluvial-node-click",t.NODE_MOUSEOUT="alluvial-node-mouseout",t.NODE_MOUSEMOVE="alluvial-node-mousemove",t.LINE_MOUSEOVER="alluvial-line-mouseover",t.LINE_CLICK="alluvial-line-click",t.LINE_MOUSEOUT="alluvial-line-mouseout",t.LINE_MOUSEMOVE="alluvial-line-mousemove"})(ol||(ol={}));var sl;(function(t){t.METER_MOUSEOVER="meter-mouseover",t.METER_CLICK="meter-click",t.METER_MOUSEOUT="meter-mouseout",t.METER_MOUSEMOVE="meter-mousemove"})(sl||(sl={}));var sx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get Chart(){return Bu},get Modal(){return Uu},get Model(){return Fu},get Toolbar(){return Vu},get ZoomBar(){return $u},get ZoomDomain(){return Gu},get CanvasZoom(){return Hu},get Axis(){return zu},get Area(){return Wu},get WordCloud(){return ju},get Pie(){return Yu},get Gauge(){return qu},get Bar(){return Ku},get Boxplot(){return Xu},get Scatter(){return Zu},get Line(){return Qu},get Radar(){return Ju},get Tree(){return tl},get Treemap(){return el},get Tooltip(){return nl},get Threshold(){return rl},get Legend(){return al},get CirclePack(){return il},get Alluvial(){return ol},get Meter(){return sl}}),P=sx,at;(function(t){t.HTML="html",t.SVG="svg"})(at||(at={}));var ld;(function(t){t.DEFAULT="default",t.G100="g100",t.G90="g90",t.G10="g10"})(ld||(ld={}));var rt;(function(t){t.BACKGROUND="background",t.FILL="fill",t.STROKE="stroke",t.TOOLTIP="tooltip"})(rt||(rt={}));var W;(function(t){t.LEFT="left",t.RIGHT="right",t.TOP="top",t.BOTTOM="bottom"})(W||(W={}));var Se;(function(t){t.GRAPH_VIEW="graph_view",t.SLIDER_VIEW="slider_view"})(Se||(Se={}));var Qe;(function(t){t.END_LINE="end_line",t.MID_LINE="mid_line",t.FRONT_LINE="front_line",t.NONE="none"})(Qe||(Qe={}));var Ft;(function(t){t.VERTICAL="vertical",t.HORIZONTAL="horizontal"})(Ft||(Ft={}));var et;(function(t){t.TIME="time",t.LINEAR="linear",t.LOG="log",t.LABELS="labels",t.LABELS_RATIO="labels-ratio"})(et||(et={}));var xr;(function(t){t.RIGHT="right",t.LEFT="left",t.TOP="top",t.BOTTOM="bottom"})(xr||(xr={}));var Ht;(function(t){t.LEFT="left",t.CENTER="center",t.RIGHT="right"})(Ht||(Ht={}));var wr;(function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"})(wr||(wr={}));var Ji;(function(t){t.TREE="tree",t.DENDROGRAM="dendrogram"})(Ji||(Ji={}));var Rt;(function(t){t.ROW="row",t.COLUMN="column",t.ROW_REVERSE="row-reverse",t.COLUMN_REVERSE="column-reverse"})(Rt||(Rt={}));var yt;(function(t){t.FIXED="fixed",t.PREFERRED="preferred",t.STRETCH="stretch"})(yt||(yt={}));var Ta;(function(t){t.CENTER="center"})(Ta||(Ta={}));var Sa;(function(t){t.LEFT="left",t.RIGHT="right"})(Sa||(Sa={}));var Bt;(function(t){t.GRID="grid",t.VERT_OR_HORIZ="vertOrHoriz",t.PIE="pie",t.DONUT="donut"})(Bt||(Bt={}));var Le;(function(t){t.START="start",t.MIDDLE="middle",t.END="end"})(Le||(Le={}));var ke;(function(t){t.BASELINE="baseline",t.MIDDLE="middle",t.HANGING="hanging"})(ke||(ke={}));var Fn;(function(t){t.SEMI="semi",t.FULL="full"})(Fn||(Fn={}));var to;(function(t){t.UP="up",t.DOWN="down"})(to||(to={}));var Ea;(function(t){t.SUCCESS="success",t.WARNING="warning",t.DANGER="danger"})(Ea||(Ea={}));var Ma;(function(t){t.ALWAYS="always",t.AUTO="auto",t.NEVER="never"})(Ma||(Ma={}));var fe;(function(t){t.SCATTER="scatter",t.LINE="line",t.SIMPLE_BAR="simple-bar",t.STACKED_BAR="stacked-bar",t.GROUPED_BAR="grouped-bar",t.AREA="area",t.STACKED_AREA="stacked-area"})(fe||(fe={}));var Dt;(function(t){t.EXPORT_CSV="Export as CSV",t.EXPORT_PNG="Export as PNG",t.EXPORT_JPG="Export as JPG",t.ZOOM_IN="Zoom in",t.ZOOM_OUT="Zoom out",t.RESET_ZOOM="Reset zoom",t.MAKE_FULLSCREEN="Make fullscreen",t.SHOW_AS_DATATABLE="Show as data-table"})(Dt||(Dt={}));var eo;(function(t){t.LEFT="left",t.RIGHT="right"})(eo||(eo={}));var Ut;(function(t){t.CHECKBOX="checkbox",t.RADIUS="radius",t.AREA="area",t.SIZE="size",t.LINE="line",t.QUARTILE="quartile",t.ZOOM="zoom"})(Ut||(Ut={}));const ux=t=>+t;function cd(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var no,Re={opacity:{unselected:.05,selected:.4}},Vn={ticks:{number:7,rotateIfSmallerThan:30,verticalSpaceRatio:2.5,horizontalSpaceRatio:3.5},ratio:{reference:"value",compareTo:"marker"},paddingRatio:.1},Or={duration:1e3,ease:cd,zoomLevel:3},$n={circles:{fillOpacity:.3,hover:{stroke:"#FFF"}},padding:{mainGroup:4,children:2},hierarchyLevel:2},ul={pairingOptions:{"1-color":4,"2-color":5,"3-color":5,"4-color":3,"5-color":2,"14-color":1}},he={circle:{radius:4,opacity:{hovered:1,default:.3}},box:{opacity:{hovered:.5,default:.3}},strokeWidth:{default:1,thicker:2}},fd={defaultBins:10},zt={items:{status:{ACTIVE:1,DISABLED:0},horizontalSpace:12,verticalSpace:24,textYOffset:8,spaceAfter:4},checkbox:{radius:6.5},radius:{iconData:[{cx:7,cy:7,r:6.5},{cx:7,cy:10,r:3.5}],fill:null,stroke:"#8c8c8c"},line:{yPosition:6,width:24,strokeWidth:1.4,fill:null,stroke:"#999999"},area:{width:24,height:14,fill:"#6f6f6f",stroke:null},size:{iconData:[{width:23,height:12},{width:13,height:6}],fill:null,stroke:"#8D8D8D"},quartile:{iconData:[{x:0,y:0,width:24,height:13},{x:11,y:4,width:1,height:4}]},zoom:{iconData:[{x:0,y:0,width:12,height:12}],color:"#8D8D8D"}},Ie={opacity:{unselected:.3,selected:1},weight:{selected:2,unselected:1}},ie={statusBar:{paddingRight:5},status:{indicatorSize:16,paddingLeft:15},total:{paddingLeft:36},height:{default:8,proportional:16},dividerWidth:2},Ot={radiusOffset:-15,innerRadius:2,padAngle:.007,hoverArc:{outerRadiusOffset:3},xOffset:30,yOffset:20,yOffsetCallout:10,callout:{minSliceDegree:5,offsetX:15,offsetY:12,horizontalLineLength:8,textMargin:2}},_n={opacity:{unselected:.1,selected:.3},xLabelPadding:10,yLabelPadding:8,yTicksNumber:4,minRange:10,xAxisRectHeight:50,dotsRadius:5},_e={nodeWidth:4,nodeHoveredWidth:8,minNodePadding:24,opacity:{unfocus:.3,default:.8,selected:1}},ll={default:{size:24}},hd={horizontalOffset:10},cl={default:{duration:300},pie_slice_mouseover:{duration:100},pie_chart_titles:{duration:375},graph_element_mouseover_fill_update:{duration:100},graph_element_mouseout_fill_update:{duration:100}},lx={buttonSize:32,iconSize:20,height:32,spacerHeight:10,iconPadding:6},se={height:(no={},no[Se.GRAPH_VIEW]=32,no[Se.SLIDER_VIEW]=10,no),spacerHeight:8,handleWidth:5,handleBarWidth:1,handleBarHeight:12},dd=[{type:Ut.RADIUS,name:"Radius"},{type:Ut.AREA,name:"Poor area"},{type:Ut.AREA,name:"Satisfactory area"},{type:Ut.AREA,name:"Great area"},{type:Ut.QUARTILE,name:"Quartiles"}],cx=typeof global=="object"&&global&&global.Object===Object&&global,pd=cx,fx=typeof self=="object"&&self&&self.Object===Object&&self,hx=pd||fx||Function("return this")(),Ee=hx,dx=Ee.Symbol,be=dx,vd=Object.prototype,px=vd.hasOwnProperty,vx=vd.toString,Ca=be?be.toStringTag:void 0;function gx(t){var e=px.call(t,Ca),n=t[Ca];try{t[Ca]=void 0;var r=!0}catch{}var a=vx.call(t);return r&&(e?t[Ca]=n:delete t[Ca]),a}var mx=Object.prototype,yx=mx.toString;function _x(t){return yx.call(t)}var bx="[object Null]",xx="[object Undefined]",gd=be?be.toStringTag:void 0;function Gn(t){return t==null?t===void 0?xx:bx:gd&&gd in Object(t)?gx(t):_x(t)}function Ne(t){return t!=null&&typeof t=="object"}var wx="[object Symbol]";function ro(t){return typeof t=="symbol"||Ne(t)&&Gn(t)==wx}function md(t,e){for(var n=-1,r=t==null?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a}var Ox=Array.isArray,Wt=Ox,Tx=1/0,yd=be?be.prototype:void 0,_d=yd?yd.toString:void 0;function bd(t){if(typeof t=="string")return t;if(Wt(t))return md(t,bd)+"";if(ro(t))return _d?_d.call(t):"";var e=t+"";return e=="0"&&1/t==-Tx?"-0":e}var Sx=/\s/;function Ex(t){for(var e=t.length;e--&&Sx.test(t.charAt(e)););return e}var Mx=/^\s+/;function Cx(t){return t&&t.slice(0,Ex(t)+1).replace(Mx,"")}function xe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xd=0/0,Ax=/^[-+]0x[0-9a-f]+$/i,Px=/^0b[01]+$/i,Dx=/^0o[0-7]+$/i,Lx=parseInt;function Aa(t){if(typeof t=="number")return t;if(ro(t))return xd;if(xe(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=xe(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Cx(t);var n=Px.test(t);return n||Dx.test(t)?Lx(t.slice(2),n?2:8):Ax.test(t)?xd:+t}function fl(t){return t}var kx="[object AsyncFunction]",Rx="[object Function]",Ix="[object GeneratorFunction]",Nx="[object Proxy]";function hl(t){if(!xe(t))return!1;var e=Gn(t);return e==Rx||e==Ix||e==kx||e==Nx}var Bx=Ee["__core-js_shared__"],dl=Bx,wd=function(){var t=/[^.]+$/.exec(dl&&dl.keys&&dl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ux(t){return!!wd&&wd in t}var Fx=Function.prototype,Vx=Fx.toString;function Hn(t){if(t!=null){try{return Vx.call(t)}catch{}try{return t+""}catch{}}return""}var $x=/[\\^$.*+?()[\]{}|]/g,Gx=/^\[object .+?Constructor\]$/,Hx=Function.prototype,zx=Object.prototype,Wx=Hx.toString,jx=zx.hasOwnProperty,Yx=RegExp("^"+Wx.call(jx).replace($x,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qx(t){if(!xe(t)||Ux(t))return!1;var e=hl(t)?Yx:Gx;return e.test(Hn(t))}function Kx(t,e){return t==null?void 0:t[e]}function zn(t,e){var n=Kx(t,e);return qx(n)?n:void 0}var Xx=zn(Ee,"WeakMap"),pl=Xx,Od=Object.create,Zx=function(){function t(){}return function(e){if(!xe(e))return{};if(Od)return Od(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Qx=Zx;function Jx(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function t1(){}function Td(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var e1=800,n1=16,r1=Date.now;function a1(t){var e=0,n=0;return function(){var r=r1(),a=n1-(r-n);if(n=r,a>0){if(++e>=e1)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function i1(t){return function(){return t}}var o1=function(){try{var t=zn(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ao=o1,s1=ao?function(t,e){return ao(t,"toString",{configurable:!0,enumerable:!1,value:i1(e),writable:!0})}:fl,u1=s1,l1=a1(u1),c1=l1;function f1(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function h1(t,e,n,r){for(var a=t.length,i=n+(r?1:-1);r?i--:++i<a;)if(e(t[i],i,t))return i;return-1}function d1(t){return t!==t}function p1(t,e,n){for(var r=n-1,a=t.length;++r<a;)if(t[r]===e)return r;return-1}function v1(t,e,n){return e===e?p1(t,e,n):h1(t,d1,n)}function g1(t,e){var n=t==null?0:t.length;return!!n&&v1(t,e,0)>-1}var m1=9007199254740991,y1=/^(?:0|[1-9]\d*)$/;function vl(t,e){var n=typeof t;return e=e==null?m1:e,!!e&&(n=="number"||n!="symbol"&&y1.test(t))&&t>-1&&t%1==0&&t<e}function io(t,e,n){e=="__proto__"&&ao?ao(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Pa(t,e){return t===e||t!==t&&e!==e}var _1=Object.prototype,b1=_1.hasOwnProperty;function Sd(t,e,n){var r=t[e];(!(b1.call(t,e)&&Pa(r,n))||n===void 0&&!(e in t))&&io(t,e,n)}function Da(t,e,n,r){var a=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var s=e[i],u=r?r(n[s],t[s],s,n,t):void 0;u===void 0&&(u=t[s]),a?io(n,s,u):Sd(n,s,u)}return n}var Ed=Math.max;function x1(t,e,n){return e=Ed(e===void 0?t.length-1:e,0),function(){for(var r=arguments,a=-1,i=Ed(r.length-e,0),o=Array(i);++a<i;)o[a]=r[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=r[a];return s[e]=n(o),Jx(t,this,s)}}function Md(t,e){return c1(x1(t,e,fl),t+"")}var w1=9007199254740991;function gl(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=w1}function Wn(t){return t!=null&&gl(t.length)&&!hl(t)}function Cd(t,e,n){if(!xe(n))return!1;var r=typeof e;return(r=="number"?Wn(n)&&vl(e,n.length):r=="string"&&e in n)?Pa(n[e],t):!1}function O1(t){return Md(function(e,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(a--,i):void 0,o&&Cd(n[0],n[1],o)&&(i=a<3?void 0:i,a=1),e=Object(e);++r<a;){var s=n[r];s&&t(e,s,r,i)}return e})}var T1=Object.prototype;function oo(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||T1;return t===n}function S1(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var E1="[object Arguments]";function Ad(t){return Ne(t)&&Gn(t)==E1}var Pd=Object.prototype,M1=Pd.hasOwnProperty,C1=Pd.propertyIsEnumerable,A1=Ad(function(){return arguments}())?Ad:function(t){return Ne(t)&&M1.call(t,"callee")&&!C1.call(t,"callee")},Tr=A1;function P1(){return!1}var Dd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ld=Dd&&typeof module=="object"&&module&&!module.nodeType&&module,D1=Ld&&Ld.exports===Dd,kd=D1?Ee.Buffer:void 0,L1=kd?kd.isBuffer:void 0,k1=L1||P1,Sr=k1,R1="[object Arguments]",I1="[object Array]",N1="[object Boolean]",B1="[object Date]",U1="[object Error]",F1="[object Function]",V1="[object Map]",$1="[object Number]",G1="[object Object]",H1="[object RegExp]",z1="[object Set]",W1="[object String]",j1="[object WeakMap]",Y1="[object ArrayBuffer]",q1="[object DataView]",K1="[object Float32Array]",X1="[object Float64Array]",Z1="[object Int8Array]",Q1="[object Int16Array]",J1="[object Int32Array]",tw="[object Uint8Array]",ew="[object Uint8ClampedArray]",nw="[object Uint16Array]",rw="[object Uint32Array]",Mt={};Mt[K1]=Mt[X1]=Mt[Z1]=Mt[Q1]=Mt[J1]=Mt[tw]=Mt[ew]=Mt[nw]=Mt[rw]=!0;Mt[R1]=Mt[I1]=Mt[Y1]=Mt[N1]=Mt[q1]=Mt[B1]=Mt[U1]=Mt[F1]=Mt[V1]=Mt[$1]=Mt[G1]=Mt[H1]=Mt[z1]=Mt[W1]=Mt[j1]=!1;function aw(t){return Ne(t)&&gl(t.length)&&!!Mt[Gn(t)]}function ml(t){return function(e){return t(e)}}var Rd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,La=Rd&&typeof module=="object"&&module&&!module.nodeType&&module,iw=La&&La.exports===Rd,yl=iw&&pd.process,ow=function(){try{var t=La&&La.require&&La.require("util").types;return t||yl&&yl.binding&&yl.binding("util")}catch{}}(),Er=ow,Id=Er&&Er.isTypedArray,sw=Id?ml(Id):aw,so=sw,uw=Object.prototype,lw=uw.hasOwnProperty;function Nd(t,e){var n=Wt(t),r=!n&&Tr(t),a=!n&&!r&&Sr(t),i=!n&&!r&&!a&&so(t),o=n||r||a||i,s=o?S1(t.length,String):[],u=s.length;for(var l in t)(e||lw.call(t,l))&&!(o&&(l=="length"||a&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||vl(l,u)))&&s.push(l);return s}function Bd(t,e){return function(n){return t(e(n))}}var cw=Bd(Object.keys,Object),fw=cw,hw=Object.prototype,dw=hw.hasOwnProperty;function Ud(t){if(!oo(t))return fw(t);var e=[];for(var n in Object(t))dw.call(t,n)&&n!="constructor"&&e.push(n);return e}function ka(t){return Wn(t)?Nd(t):Ud(t)}function pw(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var vw=Object.prototype,gw=vw.hasOwnProperty;function mw(t){if(!xe(t))return pw(t);var e=oo(t),n=[];for(var r in t)r=="constructor"&&(e||!gw.call(t,r))||n.push(r);return n}function Ra(t){return Wn(t)?Nd(t,!0):mw(t)}var yw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_w=/^\w*$/;function _l(t,e){if(Wt(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||ro(t)?!0:_w.test(t)||!yw.test(t)||e!=null&&t in Object(e)}var bw=zn(Object,"create"),Ia=bw;function xw(){this.__data__=Ia?Ia(null):{},this.size=0}function ww(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ow="__lodash_hash_undefined__",Tw=Object.prototype,Sw=Tw.hasOwnProperty;function Ew(t){var e=this.__data__;if(Ia){var n=e[t];return n===Ow?void 0:n}return Sw.call(e,t)?e[t]:void 0}var Mw=Object.prototype,Cw=Mw.hasOwnProperty;function Aw(t){var e=this.__data__;return Ia?e[t]!==void 0:Cw.call(e,t)}var Pw="__lodash_hash_undefined__";function Dw(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ia&&e===void 0?Pw:e,this}function jn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}jn.prototype.clear=xw;jn.prototype.delete=ww;jn.prototype.get=Ew;jn.prototype.has=Aw;jn.prototype.set=Dw;function Lw(){this.__data__=[],this.size=0}function uo(t,e){for(var n=t.length;n--;)if(Pa(t[n][0],e))return n;return-1}var kw=Array.prototype,Rw=kw.splice;function Iw(t){var e=this.__data__,n=uo(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Rw.call(e,n,1),--this.size,!0}function Nw(t){var e=this.__data__,n=uo(e,t);return n<0?void 0:e[n][1]}function Bw(t){return uo(this.__data__,t)>-1}function Uw(t,e){var n=this.__data__,r=uo(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Je(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Je.prototype.clear=Lw;Je.prototype.delete=Iw;Je.prototype.get=Nw;Je.prototype.has=Bw;Je.prototype.set=Uw;var Fw=zn(Ee,"Map"),Na=Fw;function Vw(){this.size=0,this.__data__={hash:new jn,map:new(Na||Je),string:new jn}}function $w(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function lo(t,e){var n=t.__data__;return $w(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Gw(t){var e=lo(this,t).delete(t);return this.size-=e?1:0,e}function Hw(t){return lo(this,t).get(t)}function zw(t){return lo(this,t).has(t)}function Ww(t,e){var n=lo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function tn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tn.prototype.clear=Vw;tn.prototype.delete=Gw;tn.prototype.get=Hw;tn.prototype.has=zw;tn.prototype.set=Ww;var jw="Expected a function";function bl(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jw);var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=t.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(bl.Cache||tn),n}bl.Cache=tn;var Yw=500;function qw(t){var e=bl(t,function(r){return n.size===Yw&&n.clear(),r}),n=e.cache;return e}var Kw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xw=/\\(\\)?/g,Zw=qw(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Kw,function(n,r,a,i){e.push(a?i.replace(Xw,"$1"):r||n)}),e}),Qw=Zw;function Ba(t){return t==null?"":bd(t)}function Fd(t,e){return Wt(t)?t:_l(t,e)?[t]:Qw(Ba(t))}var Jw=1/0;function co(t){if(typeof t=="string"||ro(t))return t;var e=t+"";return e=="0"&&1/t==-Jw?"-0":e}function Vd(t,e){e=Fd(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[co(e[n++])];return n&&n==r?t:void 0}function Ct(t,e,n){var r=t==null?void 0:Vd(t,e);return r===void 0?n:r}function xl(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}var $d=be?be.isConcatSpreadable:void 0;function tO(t){return Wt(t)||Tr(t)||!!($d&&t&&t[$d])}function fo(t,e,n,r,a){var i=-1,o=t.length;for(n||(n=tO),a||(a=[]);++i<o;){var s=t[i];e>0&&n(s)?e>1?fo(s,e-1,n,r,a):xl(a,s):r||(a[a.length]=s)}return a}function eO(t){var e=t==null?0:t.length;return e?fo(t,1):[]}var nO=Bd(Object.getPrototypeOf,Object),wl=nO,rO="[object Object]",aO=Function.prototype,iO=Object.prototype,Gd=aO.toString,oO=iO.hasOwnProperty,sO=Gd.call(Object);function uO(t){if(!Ne(t)||Gn(t)!=rO)return!1;var e=wl(t);if(e===null)return!0;var n=oO.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Gd.call(n)==sO}function lO(t,e,n){var r=-1,a=t.length;e<0&&(e=-e>a?0:a+e),n=n>a?a:n,n<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(a);++r<a;)i[r]=t[r+e];return i}function cO(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:lO(t,e,n)}var fO="\\ud800-\\udfff",hO="\\u0300-\\u036f",dO="\\ufe20-\\ufe2f",pO="\\u20d0-\\u20ff",vO=hO+dO+pO,gO="\\ufe0e\\ufe0f",mO="\\u200d",yO=RegExp("["+mO+fO+vO+gO+"]");function Hd(t){return yO.test(t)}function _O(t){return t.split("")}var zd="\\ud800-\\udfff",bO="\\u0300-\\u036f",xO="\\ufe20-\\ufe2f",wO="\\u20d0-\\u20ff",OO=bO+xO+wO,TO="\\ufe0e\\ufe0f",SO="["+zd+"]",Ol="["+OO+"]",Tl="\\ud83c[\\udffb-\\udfff]",EO="(?:"+Ol+"|"+Tl+")",Wd="[^"+zd+"]",jd="(?:\\ud83c[\\udde6-\\uddff]){2}",Yd="[\\ud800-\\udbff][\\udc00-\\udfff]",MO="\\u200d",qd=EO+"?",Kd="["+TO+"]?",CO="(?:"+MO+"(?:"+[Wd,jd,Yd].join("|")+")"+Kd+qd+")*",AO=Kd+qd+CO,PO="(?:"+[Wd+Ol+"?",Ol,jd,Yd,SO].join("|")+")",DO=RegExp(Tl+"(?="+Tl+")|"+PO+AO,"g");function LO(t){return t.match(DO)||[]}function kO(t){return Hd(t)?LO(t):_O(t)}function RO(t){return function(e){e=Ba(e);var n=Hd(e)?kO(e):void 0,r=n?n[0]:e.charAt(0),a=n?cO(n,1).join(""):e.slice(1);return r[t]()+a}}var IO=RO("toUpperCase"),NO=IO;function BO(t){return NO(Ba(t).toLowerCase())}function UO(t,e,n,r){var a=-1,i=t==null?0:t.length;for(r&&i&&(n=t[++a]);++a<i;)n=e(n,t[a],a,t);return n}function FO(t){return function(e){return t==null?void 0:t[e]}}var VO={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},$O=FO(VO),GO=$O,HO=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zO="\\u0300-\\u036f",WO="\\ufe20-\\ufe2f",jO="\\u20d0-\\u20ff",YO=zO+WO+jO,qO="["+YO+"]",KO=RegExp(qO,"g");function XO(t){return t=Ba(t),t&&t.replace(HO,GO).replace(KO,"")}var ZO=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function QO(t){return t.match(ZO)||[]}var JO=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function tT(t){return JO.test(t)}var Xd="\\ud800-\\udfff",eT="\\u0300-\\u036f",nT="\\ufe20-\\ufe2f",rT="\\u20d0-\\u20ff",aT=eT+nT+rT,Zd="\\u2700-\\u27bf",Qd="a-z\\xdf-\\xf6\\xf8-\\xff",iT="\\xac\\xb1\\xd7\\xf7",oT="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sT="\\u2000-\\u206f",uT=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jd="A-Z\\xc0-\\xd6\\xd8-\\xde",lT="\\ufe0e\\ufe0f",tp=iT+oT+sT+uT,ep="['\u2019]",np="["+tp+"]",cT="["+aT+"]",rp="\\d+",fT="["+Zd+"]",ap="["+Qd+"]",ip="[^"+Xd+tp+rp+Zd+Qd+Jd+"]",hT="\\ud83c[\\udffb-\\udfff]",dT="(?:"+cT+"|"+hT+")",pT="[^"+Xd+"]",op="(?:\\ud83c[\\udde6-\\uddff]){2}",sp="[\\ud800-\\udbff][\\udc00-\\udfff]",Mr="["+Jd+"]",vT="\\u200d",up="(?:"+ap+"|"+ip+")",gT="(?:"+Mr+"|"+ip+")",lp="(?:"+ep+"(?:d|ll|m|re|s|t|ve))?",cp="(?:"+ep+"(?:D|LL|M|RE|S|T|VE))?",fp=dT+"?",hp="["+lT+"]?",mT="(?:"+vT+"(?:"+[pT,op,sp].join("|")+")"+hp+fp+")*",yT="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_T="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bT=hp+fp+mT,xT="(?:"+[fT,op,sp].join("|")+")"+bT,wT=RegExp([Mr+"?"+ap+"+"+lp+"(?="+[np,Mr,"$"].join("|")+")",gT+"+"+cp+"(?="+[np,Mr+up,"$"].join("|")+")",Mr+"?"+up+"+"+lp,Mr+"+"+cp,_T,yT,rp,xT].join("|"),"g");function OT(t){return t.match(wT)||[]}function TT(t,e,n){return t=Ba(t),e=n?void 0:e,e===void 0?tT(t)?OT(t):QO(t):t.match(e)||[]}var ST="['\u2019]",ET=RegExp(ST,"g");function dp(t){return function(e){return UO(TT(XO(e).replace(ET,"")),t,"")}}var MT=dp(function(t,e,n){return e=e.toLowerCase(),t+(n?BO(e):e)}),CT=MT;function AT(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function PT(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=Aa(n),n=n===n?n:0),e!==void 0&&(e=Aa(e),e=e===e?e:0),AT(Aa(t),e,n)}function DT(){this.__data__=new Je,this.size=0}function LT(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function kT(t){return this.__data__.get(t)}function RT(t){return this.__data__.has(t)}var IT=200;function NT(t,e){var n=this.__data__;if(n instanceof Je){var r=n.__data__;if(!Na||r.length<IT-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tn(r)}return n.set(t,e),this.size=n.size,this}function Me(t){var e=this.__data__=new Je(t);this.size=e.size}Me.prototype.clear=DT;Me.prototype.delete=LT;Me.prototype.get=kT;Me.prototype.has=RT;Me.prototype.set=NT;function BT(t,e){return t&&Da(e,ka(e),t)}function UT(t,e){return t&&Da(e,Ra(e),t)}var pp=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vp=pp&&typeof module=="object"&&module&&!module.nodeType&&module,FT=vp&&vp.exports===pp,gp=FT?Ee.Buffer:void 0,mp=gp?gp.allocUnsafe:void 0;function yp(t,e){if(e)return t.slice();var n=t.length,r=mp?mp(n):new t.constructor(n);return t.copy(r),r}function VT(t,e){for(var n=-1,r=t==null?0:t.length,a=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[a++]=o)}return i}function _p(){return[]}var $T=Object.prototype,GT=$T.propertyIsEnumerable,bp=Object.getOwnPropertySymbols,HT=bp?function(t){return t==null?[]:(t=Object(t),VT(bp(t),function(e){return GT.call(t,e)}))}:_p,Sl=HT;function zT(t,e){return Da(t,Sl(t),e)}var WT=Object.getOwnPropertySymbols,jT=WT?function(t){for(var e=[];t;)xl(e,Sl(t)),t=wl(t);return e}:_p,xp=jT;function YT(t,e){return Da(t,xp(t),e)}function wp(t,e,n){var r=e(t);return Wt(t)?r:xl(r,n(t))}function El(t){return wp(t,ka,Sl)}function qT(t){return wp(t,Ra,xp)}var KT=zn(Ee,"DataView"),Ml=KT,XT=zn(Ee,"Promise"),Cl=XT,ZT=zn(Ee,"Set"),Cr=ZT,Op="[object Map]",QT="[object Object]",Tp="[object Promise]",Sp="[object Set]",Ep="[object WeakMap]",Mp="[object DataView]",JT=Hn(Ml),tS=Hn(Na),eS=Hn(Cl),nS=Hn(Cr),rS=Hn(pl),Yn=Gn;(Ml&&Yn(new Ml(new ArrayBuffer(1)))!=Mp||Na&&Yn(new Na)!=Op||Cl&&Yn(Cl.resolve())!=Tp||Cr&&Yn(new Cr)!=Sp||pl&&Yn(new pl)!=Ep)&&(Yn=function(t){var e=Gn(t),n=e==QT?t.constructor:void 0,r=n?Hn(n):"";if(r)switch(r){case JT:return Mp;case tS:return Op;case eS:return Tp;case nS:return Sp;case rS:return Ep}return e});var Ar=Yn,aS=Object.prototype,iS=aS.hasOwnProperty;function oS(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&iS.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var sS=Ee.Uint8Array,ho=sS;function Al(t){var e=new t.constructor(t.byteLength);return new ho(e).set(new ho(t)),e}function uS(t,e){var n=e?Al(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var lS=/\w*$/;function cS(t){var e=new t.constructor(t.source,lS.exec(t));return e.lastIndex=t.lastIndex,e}var Cp=be?be.prototype:void 0,Ap=Cp?Cp.valueOf:void 0;function fS(t){return Ap?Object(Ap.call(t)):{}}function Pp(t,e){var n=e?Al(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var hS="[object Boolean]",dS="[object Date]",pS="[object Map]",vS="[object Number]",gS="[object RegExp]",mS="[object Set]",yS="[object String]",_S="[object Symbol]",bS="[object ArrayBuffer]",xS="[object DataView]",wS="[object Float32Array]",OS="[object Float64Array]",TS="[object Int8Array]",SS="[object Int16Array]",ES="[object Int32Array]",MS="[object Uint8Array]",CS="[object Uint8ClampedArray]",AS="[object Uint16Array]",PS="[object Uint32Array]";function DS(t,e,n){var r=t.constructor;switch(e){case bS:return Al(t);case hS:case dS:return new r(+t);case xS:return uS(t,n);case wS:case OS:case TS:case SS:case ES:case MS:case CS:case AS:case PS:return Pp(t,n);case pS:return new r;case vS:case yS:return new r(t);case gS:return cS(t);case mS:return new r;case _S:return fS(t)}}function Dp(t){return typeof t.constructor=="function"&&!oo(t)?Qx(wl(t)):{}}var LS="[object Map]";function kS(t){return Ne(t)&&Ar(t)==LS}var Lp=Er&&Er.isMap,RS=Lp?ml(Lp):kS,IS=RS,NS="[object Set]";function BS(t){return Ne(t)&&Ar(t)==NS}var kp=Er&&Er.isSet,US=kp?ml(kp):BS,FS=US,VS=1,$S=2,GS=4,Rp="[object Arguments]",HS="[object Array]",zS="[object Boolean]",WS="[object Date]",jS="[object Error]",Ip="[object Function]",YS="[object GeneratorFunction]",qS="[object Map]",KS="[object Number]",Np="[object Object]",XS="[object RegExp]",ZS="[object Set]",QS="[object String]",JS="[object Symbol]",tE="[object WeakMap]",eE="[object ArrayBuffer]",nE="[object DataView]",rE="[object Float32Array]",aE="[object Float64Array]",iE="[object Int8Array]",oE="[object Int16Array]",sE="[object Int32Array]",uE="[object Uint8Array]",lE="[object Uint8ClampedArray]",cE="[object Uint16Array]",fE="[object Uint32Array]",Tt={};Tt[Rp]=Tt[HS]=Tt[eE]=Tt[nE]=Tt[zS]=Tt[WS]=Tt[rE]=Tt[aE]=Tt[iE]=Tt[oE]=Tt[sE]=Tt[qS]=Tt[KS]=Tt[Np]=Tt[XS]=Tt[ZS]=Tt[QS]=Tt[JS]=Tt[uE]=Tt[lE]=Tt[cE]=Tt[fE]=!0;Tt[jS]=Tt[Ip]=Tt[tE]=!1;function po(t,e,n,r,a,i){var o,s=e&VS,u=e&$S,l=e&GS;if(n&&(o=a?n(t,r,a,i):n(t)),o!==void 0)return o;if(!xe(t))return t;var c=Wt(t);if(c){if(o=oS(t),!s)return Td(t,o)}else{var h=Ar(t),f=h==Ip||h==YS;if(Sr(t))return yp(t,s);if(h==Np||h==Rp||f&&!a){if(o=u||f?{}:Dp(t),!s)return u?YT(t,UT(o,t)):zT(t,BT(o,t))}else{if(!Tt[h])return a?t:{};o=DS(t,h,s)}}i||(i=new Me);var p=i.get(t);if(p)return p;i.set(t,o),FS(t)?t.forEach(function(v){o.add(po(v,e,n,v,t,i))}):IS(t)&&t.forEach(function(v,_){o.set(_,po(v,e,n,_,t,i))});var d=l?u?qT:El:u?Ra:ka,m=c?void 0:d(t);return f1(m||t,function(v,_){m&&(_=v,v=t[_]),Sd(o,_,po(v,e,n,_,t,i))}),o}var hE=1,dE=4;function pE(t){return po(t,hE|dE)}var vE="__lodash_hash_undefined__";function gE(t){return this.__data__.set(t,vE),this}function mE(t){return this.__data__.has(t)}function Ua(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new tn;++e<n;)this.add(t[e])}Ua.prototype.add=Ua.prototype.push=gE;Ua.prototype.has=mE;function Bp(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Up(t,e){return t.has(e)}var yE=1,_E=2;function Fp(t,e,n,r,a,i){var o=n&yE,s=t.length,u=e.length;if(s!=u&&!(o&&u>s))return!1;var l=i.get(t),c=i.get(e);if(l&&c)return l==e&&c==t;var h=-1,f=!0,p=n&_E?new Ua:void 0;for(i.set(t,e),i.set(e,t);++h<s;){var d=t[h],m=e[h];if(r)var v=o?r(m,d,h,e,t,i):r(d,m,h,t,e,i);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!Bp(e,function(_,g){if(!Up(p,g)&&(d===_||a(d,_,n,r,i)))return p.push(g)})){f=!1;break}}else if(!(d===m||a(d,m,n,r,i))){f=!1;break}}return i.delete(t),i.delete(e),f}function bE(t){var e=-1,n=Array(t.size);return t.forEach(function(r,a){n[++e]=[a,r]}),n}function Pl(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var xE=1,wE=2,OE="[object Boolean]",TE="[object Date]",SE="[object Error]",EE="[object Map]",ME="[object Number]",CE="[object RegExp]",AE="[object Set]",PE="[object String]",DE="[object Symbol]",LE="[object ArrayBuffer]",kE="[object DataView]",Vp=be?be.prototype:void 0,Dl=Vp?Vp.valueOf:void 0;function RE(t,e,n,r,a,i,o){switch(n){case kE:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case LE:return!(t.byteLength!=e.byteLength||!i(new ho(t),new ho(e)));case OE:case TE:case ME:return Pa(+t,+e);case SE:return t.name==e.name&&t.message==e.message;case CE:case PE:return t==e+"";case EE:var s=bE;case AE:var u=r&xE;if(s||(s=Pl),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;r|=wE,o.set(t,e);var c=Fp(s(t),s(e),r,a,i,o);return o.delete(t),c;case DE:if(Dl)return Dl.call(t)==Dl.call(e)}return!1}var IE=1,NE=Object.prototype,BE=NE.hasOwnProperty;function UE(t,e,n,r,a,i){var o=n&IE,s=El(t),u=s.length,l=El(e),c=l.length;if(u!=c&&!o)return!1;for(var h=u;h--;){var f=s[h];if(!(o?f in e:BE.call(e,f)))return!1}var p=i.get(t),d=i.get(e);if(p&&d)return p==e&&d==t;var m=!0;i.set(t,e),i.set(e,t);for(var v=o;++h<u;){f=s[h];var _=t[f],g=e[f];if(r)var y=o?r(g,_,f,e,t,i):r(_,g,f,t,e,i);if(!(y===void 0?_===g||a(_,g,n,r,i):y)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var O=t.constructor,x=e.constructor;O!=x&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof x=="function"&&x instanceof x)&&(m=!1)}return i.delete(t),i.delete(e),m}var FE=1,$p="[object Arguments]",Gp="[object Array]",vo="[object Object]",VE=Object.prototype,Hp=VE.hasOwnProperty;function $E(t,e,n,r,a,i){var o=Wt(t),s=Wt(e),u=o?Gp:Ar(t),l=s?Gp:Ar(e);u=u==$p?vo:u,l=l==$p?vo:l;var c=u==vo,h=l==vo,f=u==l;if(f&&Sr(t)){if(!Sr(e))return!1;o=!0,c=!1}if(f&&!c)return i||(i=new Me),o||so(t)?Fp(t,e,n,r,a,i):RE(t,e,u,n,r,a,i);if(!(n&FE)){var p=c&&Hp.call(t,"__wrapped__"),d=h&&Hp.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,v=d?e.value():e;return i||(i=new Me),a(m,v,n,r,i)}}return f?(i||(i=new Me),UE(t,e,n,r,a,i)):!1}function go(t,e,n,r,a){return t===e?!0:t==null||e==null||!Ne(t)&&!Ne(e)?t!==t&&e!==e:$E(t,e,n,r,go,a)}var GE=1,HE=2;function zE(t,e,n,r){var a=n.length,i=a,o=!r;if(t==null)return!i;for(t=Object(t);a--;){var s=n[a];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<i;){s=n[a];var u=s[0],l=t[u],c=s[1];if(o&&s[2]){if(l===void 0&&!(u in t))return!1}else{var h=new Me;if(r)var f=r(l,c,u,t,e,h);if(!(f===void 0?go(c,l,GE|HE,r,h):f))return!1}}return!0}function zp(t){return t===t&&!xe(t)}function WE(t){for(var e=ka(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,zp(a)]}return e}function Wp(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function jE(t){var e=WE(t);return e.length==1&&e[0][2]?Wp(e[0][0],e[0][1]):function(n){return n===t||zE(n,t,e)}}function YE(t,e){return t!=null&&e in Object(t)}function qE(t,e,n){e=Fd(e,t);for(var r=-1,a=e.length,i=!1;++r<a;){var o=co(e[r]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++r!=a?i:(a=t==null?0:t.length,!!a&&gl(a)&&vl(o,a)&&(Wt(t)||Tr(t)))}function KE(t,e){return t!=null&&qE(t,e,YE)}var XE=1,ZE=2;function QE(t,e){return _l(t)&&zp(e)?Wp(co(t),e):function(n){var r=Ct(n,t);return r===void 0&&r===e?KE(n,t):go(e,r,XE|ZE)}}function JE(t){return function(e){return e==null?void 0:e[t]}}function tM(t){return function(e){return Vd(e,t)}}function eM(t){return _l(t)?JE(co(t)):tM(t)}function mo(t){return typeof t=="function"?t:t==null?fl:typeof t=="object"?Wt(t)?QE(t[0],t[1]):jE(t):eM(t)}function nM(t,e,n,r){for(var a=-1,i=t==null?0:t.length;++a<i;){var o=t[a];e(r,o,n(o),t)}return r}function rM(t){return function(e,n,r){for(var a=-1,i=Object(e),o=r(e),s=o.length;s--;){var u=o[t?s:++a];if(n(i[u],u,i)===!1)break}return e}}var aM=rM(),jp=aM;function iM(t,e){return t&&jp(t,e,ka)}function oM(t,e){return function(n,r){if(n==null)return n;if(!Wn(n))return t(n,r);for(var a=n.length,i=e?a:-1,o=Object(n);(e?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var sM=oM(iM),Ll=sM;function uM(t,e,n,r){return Ll(t,function(a,i,o){e(r,a,n(a),o)}),r}function lM(t,e){return function(n,r){var a=Wt(n)?nM:uM,i=e?e():{};return a(n,t,mo(r),i)}}var cM=function(){return Ee.Date.now()},kl=cM,fM="Expected a function",hM=Math.max,dM=Math.min;function pM(t,e,n){var r,a,i,o,s,u,l=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(fM);e=Aa(e)||0,xe(n)&&(c=!!n.leading,h="maxWait"in n,i=h?hM(Aa(n.maxWait)||0,e):i,f="trailing"in n?!!n.trailing:f);function p(w){var M=r,T=a;return r=a=void 0,l=w,o=t.apply(T,M),o}function d(w){return l=w,s=setTimeout(_,e),c?p(w):o}function m(w){var M=w-u,T=w-l,S=e-M;return h?dM(S,i-T):S}function v(w){var M=w-u,T=w-l;return u===void 0||M>=e||M<0||h&&T>=i}function _(){var w=kl();if(v(w))return g(w);s=setTimeout(_,m(w))}function g(w){return s=void 0,f&&r?p(w):(r=a=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,r=u=a=s=void 0}function O(){return s===void 0?o:g(kl())}function x(){var w=kl(),M=v(w);if(r=arguments,a=this,u=w,M){if(s===void 0)return d(u);if(h)return clearTimeout(s),s=setTimeout(_,e),p(u)}return s===void 0&&(s=setTimeout(_,e)),o}return x.cancel=y,x.flush=O,x}function Rl(t,e,n){(n!==void 0&&!Pa(t[e],n)||n===void 0&&!(e in t))&&io(t,e,n)}function Il(t){return Ne(t)&&Wn(t)}function Nl(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function vM(t){return Da(t,Ra(t))}function gM(t,e,n,r,a,i,o){var s=Nl(t,n),u=Nl(e,n),l=o.get(u);if(l){Rl(t,n,l);return}var c=i?i(s,u,n+"",t,e,o):void 0,h=c===void 0;if(h){var f=Wt(u),p=!f&&Sr(u),d=!f&&!p&&so(u);c=u,f||p||d?Wt(s)?c=s:Il(s)?c=Td(s):p?(h=!1,c=yp(u,!0)):d?(h=!1,c=Pp(u,!0)):c=[]:uO(u)||Tr(u)?(c=s,Tr(s)?c=vM(s):(!xe(s)||hl(s))&&(c=Dp(u))):h=!1}h&&(o.set(u,c),a(c,u,r,i,o),o.delete(u)),Rl(t,n,c)}function Yp(t,e,n,r,a){t!==e&&jp(e,function(i,o){if(a||(a=new Me),xe(i))gM(t,e,o,n,Yp,r,a);else{var s=r?r(Nl(t,o),i,o+"",t,e,a):void 0;s===void 0&&(s=i),Rl(t,o,s)}},Ra)}function mM(t,e,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(n(e,t[r]))return!0;return!1}function yM(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function _M(t,e){var n=-1,r=Wn(t)?Array(t.length):[];return Ll(t,function(a,i,o){r[++n]=e(a,i,o)}),r}function bM(t,e){var n=Wt(t)?md:_M;return n(t,mo(e))}var xM=1/0;function wM(t,e){return fo(bM(t,e),xM)}function OM(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var a=t[e];r[a[0]]=a[1]}return r}var TM=Object.prototype,SM=TM.hasOwnProperty,EM=lM(function(t,e,n){SM.call(t,n)?t[n].push(e):io(t,n,[e])}),MM=EM,CM="[object Map]",AM="[object Set]",PM=Object.prototype,DM=PM.hasOwnProperty;function LM(t){if(t==null)return!0;if(Wn(t)&&(Wt(t)||typeof t=="string"||typeof t.splice=="function"||Sr(t)||so(t)||Tr(t)))return!t.length;var e=Ar(t);if(e==CM||e==AM)return!t.size;if(oo(t))return!Ud(t).length;for(var n in t)if(DM.call(t,n))return!1;return!0}function kM(t,e){return go(t,e)}var RM=dp(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),IM=RM,NM=O1(function(t,e,n){Yp(t,e,n)}),BM=NM;function UM(t,e){var n;return Ll(t,function(r,a,i){return n=e(r,a,i),!n}),!!n}function FM(t,e,n){var r=Wt(t)?Bp:UM;return n&&Cd(t,e,n)&&(e=void 0),r(t,mo(e))}var VM=1/0,$M=Cr&&1/Pl(new Cr([,-0]))[1]==VM?function(t){return new Cr(t)}:t1,GM=$M,HM=200;function qp(t,e,n){var r=-1,a=g1,i=t.length,o=!0,s=[],u=s;if(n)o=!1,a=mM;else if(i>=HM){var l=e?null:GM(t);if(l)return Pl(l);o=!1,a=Up,u=new Ua}else u=e?[]:s;t:for(;++r<i;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,o&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(c)}else a(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}var zM=Md(function(t){var e=yM(t);return Il(e)&&(e=void 0),qp(fo(t,1,Il,!0),mo(e))}),WM=zM;function jM(t){return t&&t.length?qp(t):[]}var Bl="http://www.w3.org/1999/xhtml",Kp={svg:"http://www.w3.org/2000/svg",xhtml:Bl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yo(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Kp.hasOwnProperty(e)?{space:Kp[e],local:t}:t}function YM(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Bl&&e.documentElement.namespaceURI===Bl?e.createElement(t):e.createElementNS(n,t)}}function qM(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Xp(t){var e=yo(t);return(e.local?qM:YM)(e)}function KM(){}function Ul(t){return t==null?KM:function(){return this.querySelector(t)}}function XM(t){typeof t!="function"&&(t=Ul(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],o=i.length,s=r[a]=new Array(o),u,l,c=0;c<o;++c)(u=i[c])&&(l=t.call(u,u.__data__,c,i))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new de(r,this._parents)}function ZM(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function QM(){return[]}function Zp(t){return t==null?QM:function(){return this.querySelectorAll(t)}}function JM(t){return function(){return ZM(t.apply(this,arguments))}}function tC(t){typeof t=="function"?t=JM(t):t=Zp(t);for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o=e[i],s=o.length,u,l=0;l<s;++l)(u=o[l])&&(r.push(t.call(u,u.__data__,l,o)),a.push(u));return new de(r,a)}function Qp(t){return function(){return this.matches(t)}}function Jp(t){return function(e){return e.matches(t)}}var eC=Array.prototype.find;function nC(t){return function(){return eC.call(this.children,t)}}function rC(){return this.firstElementChild}function aC(t){return this.select(t==null?rC:nC(typeof t=="function"?t:Jp(t)))}var iC=Array.prototype.filter;function oC(){return Array.from(this.children)}function sC(t){return function(){return iC.call(this.children,t)}}function uC(t){return this.selectAll(t==null?oC:sC(typeof t=="function"?t:Jp(t)))}function lC(t){typeof t!="function"&&(t=Qp(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],o=i.length,s=r[a]=[],u,l=0;l<o;++l)(u=i[l])&&t.call(u,u.__data__,l,i)&&s.push(u);return new de(r,this._parents)}function tv(t){return new Array(t.length)}function cC(){return new de(this._enter||this._groups.map(tv),this._parents)}function _o(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}_o.prototype={constructor:_o,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fC(t){return function(){return t}}function hC(t,e,n,r,a,i){for(var o=0,s,u=e.length,l=i.length;o<l;++o)(s=e[o])?(s.__data__=i[o],r[o]=s):n[o]=new _o(t,i[o]);for(;o<u;++o)(s=e[o])&&(a[o]=s)}function dC(t,e,n,r,a,i,o){var s,u,l=new Map,c=e.length,h=i.length,f=new Array(c),p;for(s=0;s<c;++s)(u=e[s])&&(f[s]=p=o.call(u,u.__data__,s,e)+"",l.has(p)?a[s]=u:l.set(p,u));for(s=0;s<h;++s)p=o.call(t,i[s],s,i)+"",(u=l.get(p))?(r[s]=u,u.__data__=i[s],l.delete(p)):n[s]=new _o(t,i[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(f[s])===u&&(a[s]=u)}function pC(t){return t.__data__}function vC(t,e){if(!arguments.length)return Array.from(this,pC);var n=e?dC:hC,r=this._parents,a=this._groups;typeof t!="function"&&(t=fC(t));for(var i=a.length,o=new Array(i),s=new Array(i),u=new Array(i),l=0;l<i;++l){var c=r[l],h=a[l],f=h.length,p=gC(t.call(c,c&&c.__data__,l,r)),d=p.length,m=s[l]=new Array(d),v=o[l]=new Array(d),_=u[l]=new Array(f);n(c,h,m,v,_,p,e);for(var g=0,y=0,O,x;g<d;++g)if(O=m[g]){for(g>=y&&(y=g+1);!(x=v[y])&&++y<d;);O._next=x||null}}return o=new de(o,r),o._enter=s,o._exit=u,o}function gC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mC(){return new de(this._exit||this._groups.map(tv),this._parents)}function yC(t,e,n){var r=this.enter(),a=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}function _C(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,i=r.length,o=Math.min(a,i),s=new Array(a),u=0;u<o;++u)for(var l=n[u],c=r[u],h=l.length,f=s[u]=new Array(h),p,d=0;d<h;++d)(p=l[d]||c[d])&&(f[d]=p);for(;u<a;++u)s[u]=n[u];return new de(s,this._parents)}function bC(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function xC(t){t||(t=wC);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],s=o.length,u=a[i]=new Array(s),l,c=0;c<s;++c)(l=o[c])&&(u[c]=l);u.sort(e)}return new de(a,this._parents).order()}function wC(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function OC(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function TC(){return Array.from(this)}function SC(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function EC(){let t=0;for(const e of this)++t;return t}function MC(){return!this.node()}function CC(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],i=0,o=a.length,s;i<o;++i)(s=a[i])&&t.call(s,s.__data__,i,a);return this}function AC(t){return function(){this.removeAttribute(t)}}function PC(t){return function(){this.removeAttributeNS(t.space,t.local)}}function DC(t,e){return function(){this.setAttribute(t,e)}}function LC(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function kC(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function RC(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function IC(t,e){var n=yo(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?PC:AC:typeof e=="function"?n.local?RC:kC:n.local?LC:DC)(n,e))}function ev(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function NC(t){return function(){this.style.removeProperty(t)}}function BC(t,e,n){return function(){this.style.setProperty(t,e,n)}}function UC(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function FC(t,e,n){return arguments.length>1?this.each((e==null?NC:typeof e=="function"?UC:BC)(t,e,n==null?"":n)):Pr(this.node(),t)}function Pr(t,e){return t.style.getPropertyValue(e)||ev(t).getComputedStyle(t,null).getPropertyValue(e)}function VC(t){return function(){delete this[t]}}function $C(t,e){return function(){this[t]=e}}function GC(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function HC(t,e){return arguments.length>1?this.each((e==null?VC:typeof e=="function"?GC:$C)(t,e)):this.node()[t]}function nv(t){return t.trim().split(/^|\s+/)}function Fl(t){return t.classList||new rv(t)}function rv(t){this._node=t,this._names=nv(t.getAttribute("class")||"")}rv.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function av(t,e){for(var n=Fl(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function iv(t,e){for(var n=Fl(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function zC(t){return function(){av(this,t)}}function WC(t){return function(){iv(this,t)}}function jC(t,e){return function(){(e.apply(this,arguments)?av:iv)(this,t)}}function YC(t,e){var n=nv(t+"");if(arguments.length<2){for(var r=Fl(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof e=="function"?jC:e?zC:WC)(n,e))}function qC(){this.textContent=""}function KC(t){return function(){this.textContent=t}}function XC(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function ZC(t){return arguments.length?this.each(t==null?qC:(typeof t=="function"?XC:KC)(t)):this.node().textContent}function QC(){this.innerHTML=""}function JC(t){return function(){this.innerHTML=t}}function tA(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function eA(t){return arguments.length?this.each(t==null?QC:(typeof t=="function"?tA:JC)(t)):this.node().innerHTML}function nA(){this.nextSibling&&this.parentNode.appendChild(this)}function rA(){return this.each(nA)}function aA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iA(){return this.each(aA)}function oA(t){var e=typeof t=="function"?t:Xp(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function sA(){return null}function uA(t,e){var n=typeof t=="function"?t:Xp(t),r=e==null?sA:typeof e=="function"?e:Ul(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lA(){var t=this.parentNode;t&&t.removeChild(this)}function cA(){return this.each(lA)}function fA(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function hA(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dA(t){return this.select(t?hA:fA)}function pA(t){return arguments.length?this.property("__data__",t):this.node().__data__}function vA(t){return function(e){t.call(this,e,this.__data__)}}function gA(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function mA(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,a=e.length,i;n<a;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function yA(t,e,n){return function(){var r=this.__on,a,i=vA(e);if(r){for(var o=0,s=r.length;o<s;++o)if((a=r[o]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=e;return}}this.addEventListener(t.type,i,n),a={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(a):this.__on=[a]}}function _A(t,e,n){var r=gA(t+""),a,i=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(a=0,c=s[u];a<i;++a)if((o=r[a]).type===c.type&&o.name===c.name)return c.value}return}for(s=e?yA:mA,a=0;a<i;++a)this.each(s(r[a],e,n));return this}function ov(t,e,n){var r=ev(t),a=r.CustomEvent;typeof a=="function"?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function bA(t,e){return function(){return ov(this,t,e)}}function xA(t,e){return function(){return ov(this,t,e.apply(this,arguments))}}function wA(t,e){return this.each((typeof e=="function"?xA:bA)(t,e))}function*OA(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length,o;a<i;++a)(o=r[a])&&(yield o)}var sv=[null];function de(t,e){this._groups=t,this._parents=e}function Fa(){return new de([[document.documentElement]],sv)}function TA(){return this}de.prototype=Fa.prototype={constructor:de,select:XM,selectAll:tC,selectChild:aC,selectChildren:uC,filter:lC,data:vC,enter:cC,exit:mC,join:yC,merge:_C,selection:TA,order:bC,sort:xC,call:OC,nodes:TC,node:SC,size:EC,empty:MC,each:CC,attr:IC,style:FC,property:HC,classed:YC,text:ZC,html:eA,raise:rA,lower:iA,append:oA,insert:uA,remove:cA,clone:dA,datum:pA,on:_A,dispatch:wA,[Symbol.iterator]:OA};function U(t){return typeof t=="string"?new de([[document.querySelector(t)]],[document.documentElement]):new de([[t]],sv)}function SA(t){let e;for(;e=t.sourceEvent;)t=e;return t}function qn(t,e){if(t=SA(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}var b;(function(t){t.debounce=pM,t.clone=pE,t.merge=BM,t.unionBy=WM,t.removeArrayDuplicates=jM,t.clamp=PT,t.flatten=eO,t.groupBy=MM,t.camelCase=CT,t.isEmpty=LM,t.isEqual=kM,t.flatMapDeep=wM,t.kebabCase=IM,t.fromPairs=OM,t.some=FM;function e(m,v,_){var g=null;return function(){var y=this,O=arguments;y.mousePosition=qn(O[0],_),clearTimeout(g),g=setTimeout(function(){m.apply(y,O)},v)}}t.debounceWithD3MousePosition=e;function n(m,v){var _,g,y=t.clone(m),O=Object.keys(v.axes||{});((g=(_=v)===null||_===void 0?void 0:_.toolbar)===null||g===void 0?void 0:g.controls)&&delete y.toolbar.controls,O.length===0&&delete y.axes;for(var x in y.axes)if(O.includes(x)){var w=v.axes[x];(w.primary||w.secondary)&&console.warn("`primary` & `secondary` are no longer needed for axis configurations. Read more here https://carbon-design-system.github.io/carbon-charts/?path=/story/docs-tutorials--tabular-data-format");var M=w.mapsTo;if(M==null){var T=w.scaleType;T==null?w.mapsTo="value":T===et.TIME?w.mapsTo="date":T===et.LABELS&&(w.mapsTo="key")}}else delete y.axes[x];return c(y,v),t.merge(y,v)}t.mergeDefaultChartOptions=n;function r(m){return{width:parseFloat(m.style.width.replace("px","")||m.offsetWidth),height:parseFloat(m.style.height.replace("px","")||m.offsetHeight)}}t.getDimensions=r;function a(m){if(!!m){var v=/translate\([0-9]+\.?[0-9]*,[0-9]+\.?[0-9]*\)/,_=m.getAttribute("transform").match(v);if(!_)return null;if(_[0]){var g=_[0].replace(/translate\(/,"").replace(/\)/,"").split(",");return{tx:g[0],ty:g[1]}}return null}}t.getTranslationValues=a;function i(m){var v=/\(([^)]+)\)/,_=v.exec(m)[1],g=_.split(",");return{x:parseFloat(g[0]),y:parseFloat(g[1])}}t.getTranformOffsets=i;function o(m){var v=m.toString();return v.match(/[a-z]/i)?v:v+"px"}t.formatWidthHeightValues=o;function s(m){return m[0].toUpperCase()+m.slice(1)}t.capitalizeFirstLetter=s;function u(m,v,_){_===void 0&&(_="value");var g=m/v.reduce(function(y,O){return y+O[_]},0)*100;return g%1!=0?parseFloat(g.toFixed(1)):g}t.convertValueToPercentage=u;function l(m,v,_){if(_>m.length)return m;if(v===Qe.MID_LINE)return m.substr(0,_/2)+"..."+m.substr(-_/2);if(v===Qe.FRONT_LINE)return"..."+m.substr(-_);if(v===Qe.END_LINE)return m.substr(0,_)+"..."}t.truncateLabel=l;function c(m,v){var _=t.getProperty(m,"legend","additionalItems"),g=t.getProperty(v,"legend","additionalItems");if(_&&g){var y=g.map(function(w){return w.type}),O=_.map(function(w){return w.type}),x=dd.filter(function(w){return O.includes(w.type)&&!y.includes(w.type)});m.legend.additionalItems=x,v.legend.additionalItems=t.unionBy(x,g,"name")}}t.updateLegendAdditionalItems=c;function h(m,v){var _={missing:[],added:[]};return m.forEach(function(g){v.indexOf(g)===-1&&_.missing.push(g)}),v.forEach(function(g){m.indexOf(g)===-1&&_.added.push(g)}),_}t.arrayDifferences=h;function f(m){var v=[],_=[];return m.forEach(function(g){v.indexOf(g)!==-1&&_.indexOf(g)===-1&&_.push(g),v.push(g)}),_}t.getDuplicateValues=f;function p(m){return m.each(function(){this.parentNode.appendChild(this)})}t.moveToFront=p,t.getProperty=function(m){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];var g=m;if(g){for(var y=0,O=v;y<O.length;y++){var x=O[y];if(g[x]!==null&&g[x]!==void 0)g=g[x];else return null}return g}return null},t.flipSVGCoordinatesBasedOnOrientation=function(m,v){return v===Ft.HORIZONTAL?{y0:m.x0,y1:m.x1,x0:m.y0,x1:m.y1}:m},t.generateSVGPathString=function(m,v){var _=t.flipSVGCoordinatesBasedOnOrientation(m,v),g=_.x0,y=_.x1,O=_.y0,x=_.y1;return"M"+g+","+O+"L"+g+","+x+"L"+y+","+x+"L"+y+","+O+"L"+g+","+O};function d(m,v,_){return _===Ft.VERTICAL?[m,v]:[v,m]}t.flipDomainAndRangeBasedOnOrientation=d,t.compareNumeric=function(m,v){return Number(m)===Number(v)}})(b||(b={}));var PH=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function EA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function MA(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}var Vl={exports:{}},$l={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function r(a,i,o){o=o||{};var s;return typeof n[a]=="string"?s=n[a]:i===1?s=n[a].one:s=n[a].other.replace("{{count}}",i),o.addSuffix?o.comparison>0?"in "+s:s+" ago":s}t.exports=e.default})($l,$l.exports);var Gl={exports:{}},Hl={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){return function(a){var i=a||{},o=i.width?String(i.width):r.defaultWidth,s=r.formats[o]||r.formats[r.defaultWidth];return s}}t.exports=e.default})(Hl,Hl.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(Hl.exports);function r(l){return l&&l.__esModule?l:{default:l}}var a={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s={date:(0,n.default)({formats:a,defaultWidth:"full"}),time:(0,n.default)({formats:i,defaultWidth:"full"}),dateTime:(0,n.default)({formats:o,defaultWidth:"full"})},u=s;e.default=u,t.exports=e.default})(Gl,Gl.exports);var zl={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function r(a,i,o,s){return n[a]}t.exports=e.default})(zl,zl.exports);var Wl={exports:{}},jl={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){return function(a,i){var o=i||{},s=o.context?String(o.context):"standalone",u;if(s==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,c=o.width?String(o.width):l;u=r.formattingValues[c]||r.formattingValues[l]}else{var h=r.defaultWidth,f=o.width?String(o.width):r.defaultWidth;u=r.values[f]||r.values[h]}var p=r.argumentCallback?r.argumentCallback(a):a;return u[p]}}t.exports=e.default})(jl,jl.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(jl.exports);function r(p){return p&&p.__esModule?p:{default:p}}var a={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function c(p,d){var m=Number(p),v=m%100;if(v>20||v<10)switch(v%10){case 1:return m+"st";case 2:return m+"nd";case 3:return m+"rd"}return m+"th"}var h={ordinalNumber:c,era:(0,n.default)({values:a,defaultWidth:"wide"}),quarter:(0,n.default)({values:i,defaultWidth:"wide",argumentCallback:function(p){return Number(p)-1}}),month:(0,n.default)({values:o,defaultWidth:"wide"}),day:(0,n.default)({values:s,defaultWidth:"wide"}),dayPeriod:(0,n.default)({values:u,defaultWidth:"wide",formattingValues:l,defaultFormattingWidth:"wide"})},f=h;e.default=f,t.exports=e.default})(Wl,Wl.exports);var Yl={exports:{}},ql={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){return function(a,i){var o=String(a),s=i||{},u=o.match(r.matchPattern);if(!u)return null;var l=u[0],c=o.match(r.parsePattern);if(!c)return null;var h=r.valueCallback?r.valueCallback(c[0]):c[0];return h=s.valueCallback?s.valueCallback(h):h,{value:h,rest:o.slice(l.length)}}}t.exports=e.default})(ql,ql.exports);var Kl={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(i){return function(o,s){var u=String(o),l=s||{},c=l.width,h=c&&i.matchPatterns[c]||i.matchPatterns[i.defaultMatchWidth],f=u.match(h);if(!f)return null;var p=f[0],d=c&&i.parsePatterns[c]||i.parsePatterns[i.defaultParseWidth],m;return Object.prototype.toString.call(d)==="[object Array]"?m=a(d,function(v){return v.test(u)}):m=r(d,function(v){return v.test(u)}),m=i.valueCallback?i.valueCallback(m):m,m=l.valueCallback?l.valueCallback(m):m,{value:m,rest:u.slice(p.length)}}}function r(i,o){for(var s in i)if(i.hasOwnProperty(s)&&o(i[s]))return s}function a(i,o){for(var s=0;s<i.length;s++)if(o(i[s]))return s}t.exports=e.default})(Kl,Kl.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(ql.exports),r=a(Kl.exports);function a(y){return y&&y.__esModule?y:{default:y}}var i=/^(\d+)(th|st|nd|rd)?/i,o=/\d+/i,s={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},u={any:[/^b/i,/^(a|c)/i]},l={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c={any:[/1/i,/2/i,/3/i,/4/i]},h={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},d={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_={ordinalNumber:(0,n.default)({matchPattern:i,parsePattern:o,valueCallback:function(y){return parseInt(y,10)}}),era:(0,r.default)({matchPatterns:s,defaultMatchWidth:"wide",parsePatterns:u,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:l,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any",valueCallback:function(y){return y+1}}),month:(0,r.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:p,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:m,defaultMatchWidth:"any",parsePatterns:v,defaultParseWidth:"any"})},g=_;e.default=g,t.exports=e.default})(Yl,Yl.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s($l.exports),r=s(Gl.exports),a=s(zl.exports),i=s(Wl.exports),o=s(Yl.exports);function s(c){return c&&c.__esModule?c:{default:c}}var u={code:"en-US",formatDistance:n.default,formatLong:r.default,formatRelative:a.default,localize:i.default,match:o.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},l=u;e.default=l,t.exports=e.default})(Vl,Vl.exports);var CA=EA(Vl.exports),AA=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},Dr={type:Qe.END_LINE,threshold:16,numCharacter:14},PA={enabled:!0,position:xr.BOTTOM,clickable:!0,truncation:Dr,alignment:Ht.LEFT,order:null,additionalItems:[]},uv={x:{enabled:!0,numberOfTicks:15,alignWithAxisTicks:!1},y:{enabled:!0,numberOfTicks:5,alignWithAxisTicks:!1}},lv={enabled:!0},Xl={enabled:!0,showTotal:!0,truncation:Dr,groupLabel:"Group"},DA={top:{visible:!0,includeZero:!0,truncation:Dr},bottom:{visible:!0,includeZero:!0,truncation:Dr},left:{visible:!0,includeZero:!0,truncation:Dr},right:{visible:!0,includeZero:!0,truncation:Dr}},Va={addSpaceOnEdges:1,showDayName:!1,localeObject:CA,timeIntervalFormats:{"15seconds":{primary:"MMM d, pp",secondary:"pp"},minute:{primary:"MMM d, p",secondary:"p"},"30minutes":{primary:"MMM d, p",secondary:"p"},hourly:{primary:"MMM d, hh a",secondary:"hh a"},daily:{primary:"MMM d",secondary:"d"},weekly:{primary:"eee, MMM d",secondary:"eee"},monthly:{primary:"MMM yyyy",secondary:"MMM"},quarterly:{primary:"QQQ ''yy",secondary:"QQQ"},yearly:{primary:"yyyy",secondary:"yyyy"}}},LA=typeof document!="undefined"&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),ue={width:null,height:null,resizable:!0,tooltip:Xl,legend:PA,style:{prefix:"cc"},data:{groupMapsTo:"group",loading:!1,selectedGroups:[]},color:{scale:null,pairing:{numberOfVariants:null,option:1},gradient:{enabled:!1}},toolbar:{enabled:!0,numberOfIcons:3,controls:AA([{type:Dt.SHOW_AS_DATATABLE}],LA?[{type:Dt.MAKE_FULLSCREEN}]:[],[{type:Dt.EXPORT_CSV},{type:Dt.EXPORT_PNG},{type:Dt.EXPORT_JPG}])}},$a=b.merge({},ue,{axes:DA,timeScale:Va,grid:uv,ruler:lv,zoomBar:{zoomRatio:.4,minZoomRatio:.01,top:{enabled:!1,type:Se.GRAPH_VIEW}}}),Kn=b.merge({},$a,{bars:{maxWidth:16},timeScale:b.merge(Va,{addSpaceOnEdges:1})}),kA=b.merge({},Kn,{}),RA=b.merge({},Kn,{}),IA=b.merge({},Kn,{bars:b.merge({},Kn.bars,{dividerSize:1.5})}),NA=b.merge({},Kn,{}),Zl=b.merge({},$a,{points:{radius:4,fillOpacity:.3,filled:!0,enabled:!0}}),BA=Zl,cv=b.merge({},Zl,{points:{radius:3,filled:!1,enabled:!0}}),fv=b.merge({},cv,{timeScale:b.merge(Va,{addSpaceOnEdges:0})}),UA=fv,FA=b.merge({},$a,{bubble:{radiusMapsTo:"radius",radiusLabel:"Radius",radiusRange:function(t,e){var n=Math.min(t.width,t.height);return[n*3/400,n*25/400]},fillOpacity:.2,enabled:!0},points:{filled:!0},legend:{additionalItems:[{type:Ut.RADIUS,name:"Radius"}]}}),VA=b.merge({},$a,{bullet:{performanceAreaTitles:["Poor","Satisfactory","Great"]},grid:{x:{enabled:!1},y:{enabled:!1}},legend:{additionalItems:[{type:Ut.AREA,name:"Poor area"},{type:Ut.AREA,name:"Satisfactory area"},{type:Ut.AREA,name:"Great area"},{type:Ut.QUARTILE,name:"Quartiles"}]}}),$A=b.merge({},Kn,{bars:{dividerSize:1.5},timeScale:b.merge(Va,{addSpaceOnEdges:0})}),GA=b.merge({},ue,{tooltip:b.merge({},Xl,{wordLabel:"Word",valueLabel:"Value"}),wordCloud:{fontSizeMapsTo:"value",fontSizeRange:function(t,e){var n=Math.min(t.width,t.height);return[n*20/400,n*75/400]},wordMapsTo:"word"}}),hv=b.merge({},ue,{pie:{labels:{formatter:null,enabled:!0},alignment:Ht.LEFT,sortFunction:null,valueMapsTo:"value"}}),HA=b.merge({},ue,{legend:{enabled:!1},gauge:{type:Fn.SEMI,arcWidth:16,deltaArrow:{size:function(t){return t/8},enabled:!0},showPercentageSymbol:!0,status:null,numberSpacing:10,deltaFontSize:function(t){return t/8},valueFontSize:function(t){return t/2.5},numberFormatter:function(t){return t.toFixed(2)%1!=0?t.toFixed(2).toLocaleString():t.toFixed().toLocaleString()},alignment:Ht.LEFT}}),zA=b.merge({},hv,{donut:{center:{numberFontSize:function(t){return Math.min(t/100*24,24)+"px"},titleFontSize:function(t){return Math.min(t/100*15,15)+"px"},titleYPosition:function(t){return Math.min(t/80*20,20)},numberFormatter:function(t){return Math.floor(t).toLocaleString()}},alignment:Ht.LEFT}}),dv=b.merge({},ue,{legend:{enabled:!1,clickable:!1},meter:{proportional:null,statusBar:{percentageIndicator:{enabled:!0}}}}),WA=b.merge({},dv,{legend:{enabled:!0}}),jA=b.merge({},ue,{radar:{axes:{angle:"key",value:"value"},alignment:Ht.LEFT},tooltip:{gridline:{enabled:!0},valueFormatter:function(t){return t!=null?t:"N/A"}}}),YA=b.merge({},Kn,{comboChartTypes:[]}),qA=b.merge({tree:{type:Ji.TREE}},ue,{}),KA=b.merge({},ue,{data:b.merge(ue.data,{groupMapsTo:"name"})}),XA=b.merge({},ue,$n,{data:b.merge(ue.data,{groupMapsTo:"name"})}),ZA=b.merge({},ue,{alluvial:{data:b.merge(ue.data,{groupMapsTo:"source"}),nodePadding:24,monochrome:!1,nodes:[]}}),St={chart:ue,axisChart:$a,simpleBarChart:kA,groupedBarChart:RA,stackedBarChart:IA,boxplotChart:NA,bubbleChart:FA,bulletChart:VA,histogramChart:$A,lineChart:cv,areaChart:fv,stackedAreaChart:UA,scatterChart:Zl,lollipopChart:BA,pieChart:hv,donutChart:zA,meterChart:dv,proportionalMeterChart:WA,radarChart:jA,gaugeChart:HA,comboChart:YA,treeChart:qA,treemapChart:KA,circlePackChart:XA,wordCloudChart:GA,alluvialChart:ZA},pv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",grid:uv,ruler:lv,baseTooltip:Xl,timeScale:Va,options:St,area:Re,axis:Vn,canvasZoomSettings:Or,circlePack:$n,color:ul,boxplot:he,histogram:fd,legend:zt,lines:Ie,meter:ie,pie:Ot,radar:_n,alluvial:_e,spacers:ll,tooltips:hd,transitions:cl,toolbar:lx,zoomBar:se,defaultLegendAdditionalItems:dd});function Lr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ql(t){let e=t,n=t,r=t;t.length!==2&&(e=(s,u)=>t(s)-u,n=Lr,r=(s,u)=>Lr(t(s),u));function a(s,u,l=0,c=s.length){if(l<c){if(n(u,u)!==0)return c;do{const h=l+c>>>1;r(s[h],u)<0?l=h+1:c=h}while(l<c)}return l}function i(s,u,l=0,c=s.length){if(l<c){if(n(u,u)!==0)return c;do{const h=l+c>>>1;r(s[h],u)<=0?l=h+1:c=h}while(l<c)}return l}function o(s,u,l=0,c=s.length){const h=a(s,u,l,c-1);return h>l&&e(s[h-1],u)>-e(s[h],u)?h-1:h}return{left:a,center:o,right:i}}function QA(t){return t===null?NaN:+t}function*JA(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const tP=Ql(Lr),eP=tP.right;Ql(QA).center;var vv=eP;function nP(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(a=+a)>=a&&++n}return n}function en(t,e){let n,r;if(e===void 0)for(const a of t)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of t)(i=e(i,++a,t))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class gv extends Map{constructor(e,n=iP){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(mv(this,e))}has(e){return super.has(mv(this,e))}set(e,n){return super.set(rP(this,e),n)}delete(e){return super.delete(aP(this,e))}}function mv({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function rP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function aP({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function iP(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oP(t){return t}function sP(t=Lr){if(t===Lr)return yv;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function yv(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}var uP=Array.prototype,lP=uP.slice;function bo(t){return()=>t}var Jl=Math.sqrt(50),tc=Math.sqrt(10),ec=Math.sqrt(2);function xo(t,e,n){var r,a=-1,i,o,s;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),(s=wo(t,e,n))===0||!isFinite(s))return[];if(s>0){let u=Math.round(t/s),l=Math.round(e/s);for(u*s<t&&++u,l*s>e&&--l,o=new Array(i=l-u+1);++a<i;)o[a]=(u+a)*s}else{s=-s;let u=Math.round(t*s),l=Math.round(e*s);for(u/s<t&&++u,l/s>e&&--l,o=new Array(i=l-u+1);++a<i;)o[a]=(u+a)/s}return r&&o.reverse(),o}function wo(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=Jl?10:i>=tc?5:i>=ec?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=Jl?10:i>=tc?5:i>=ec?2:1)}function nc(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=Jl?a*=10:i>=tc?a*=5:i>=ec&&(a*=2),e<t?-a:a}function cP(t,e,n){let r;for(;;){const a=wo(t,e,n);if(a===r||a===0||!isFinite(a))return[t,e];a>0?(t=Math.floor(t/a)*a,e=Math.ceil(e/a)*a):a<0&&(t=Math.ceil(t*a)/a,e=Math.floor(e*a)/a),r=a}}function fP(t){return Math.ceil(Math.log(nP(t))/Math.LN2)+1}function hP(){var t=oP,e=en,n=fP;function r(a){Array.isArray(a)||(a=Array.from(a));var i,o=a.length,s,u=new Array(o);for(i=0;i<o;++i)u[i]=t(a[i],i,a);var l=e(u),c=l[0],h=l[1],f=n(u,c,h);if(!Array.isArray(f)){const v=h,_=+f;if(e===en&&([c,h]=cP(c,h,_)),f=xo(c,h,_),f[f.length-1]>=h)if(v>=h&&e===en){const g=wo(c,h,_);isFinite(g)&&(g>0?h=(Math.floor(h/g)+1)*g:g<0&&(h=(Math.ceil(h*-g)+1)/-g))}else f.pop()}for(var p=f.length;f[0]<=c;)f.shift(),--p;for(;f[p-1]>h;)f.pop(),--p;var d=new Array(p+1),m;for(i=0;i<=p;++i)m=d[i]=[],m.x0=i>0?f[i-1]:c,m.x1=i<p?f[i]:h;for(i=0;i<o;++i)s=u[i],s!=null&&c<=s&&s<=h&&d[vv(f,s,0,p)].push(a[i]);return d}return r.value=function(a){return arguments.length?(t=typeof a=="function"?a:bo(a),r):t},r.domain=function(a){return arguments.length?(e=typeof a=="function"?a:bo([a[0],a[1]]),r):e},r.thresholds=function(a){return arguments.length?(n=typeof a=="function"?a:Array.isArray(a)?bo(lP.call(a)):bo(a),r):n},r}function Xn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function kr(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function _v(t,e,n=0,r=t.length-1,a){for(a=a===void 0?yv:sP(a);r>n;){if(r-n>600){const u=r-n+1,l=e-n+1,c=Math.log(u),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(u-h)/u)*(l-u/2<0?-1:1),p=Math.max(n,Math.floor(e-l*h/u+f)),d=Math.min(r,Math.floor(e+(u-l)*h/u+f));_v(t,e,p,d,a)}const i=t[e];let o=n,s=r;for(Ga(t,n,e),a(t[r],i)>0&&Ga(t,n,r);o<s;){for(Ga(t,o,s),++o,--s;a(t[o],i)<0;)++o;for(;a(t[s],i)>0;)--s}a(t[n],i)===0?Ga(t,n,s):(++s,Ga(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Ga(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function rc(t,e,n){if(t=Float64Array.from(JA(t,n)),!!(r=t.length)){if((e=+e)<=0||r<2)return kr(t);if(e>=1)return Xn(t);var r,a=(r-1)*e,i=Math.floor(a),o=Xn(_v(t,i).subarray(0,i+1)),s=kr(t.subarray(i+1));return o+(s-o)*(a-i)}}function dP(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function bv(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let a of t)(a=+e(a,++r,t))&&(n+=a)}return n}function Ha(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const xv=Symbol("implicit");function Oo(){var t=new gv,e=[],n=[],r=xv;function a(i){let o=t.get(i);if(o===void 0){if(r!==xv)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new gv;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Oo(e,n).unknown(r)},Ha.apply(a,arguments),a}function To(){var t=Oo().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,o,s=!1,u=0,l=0,c=.5;delete t.unknown;function h(){var f=e().length,p=a<r,d=p?a:r,m=p?r:a;i=(m-d)/Math.max(1,f-u+l*2),s&&(i=Math.floor(i)),d+=(m-d-i*(f-u))*c,o=i*(1-u),s&&(d=Math.round(d),o=Math.round(o));var v=dP(f).map(function(_){return d+i*_});return n(p?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,h()):[r,a]},t.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,s=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(u=Math.min(1,l=+f),h()):u},t.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},t.paddingOuter=function(f){return arguments.length?(l=+f,h()):l},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return To(e(),[r,a]).round(s).paddingInner(u).paddingOuter(l).align(c)},Ha.apply(h(),arguments)}function ac(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wv(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function za(){}var Wa=.7,So=1/Wa,Rr="\\s*([+-]?\\d+)\\s*",ja="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Be="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pP=/^#([0-9a-f]{3,8})$/,vP=new RegExp("^rgb\\("+[Rr,Rr,Rr]+"\\)$"),gP=new RegExp("^rgb\\("+[Be,Be,Be]+"\\)$"),mP=new RegExp("^rgba\\("+[Rr,Rr,Rr,ja]+"\\)$"),yP=new RegExp("^rgba\\("+[Be,Be,Be,ja]+"\\)$"),_P=new RegExp("^hsl\\("+[ja,Be,Be]+"\\)$"),bP=new RegExp("^hsla\\("+[ja,Be,Be,ja]+"\\)$"),Ov={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ac(za,nn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Tv,formatHex:Tv,formatHsl:xP,formatRgb:Sv,toString:Sv});function Tv(){return this.rgb().formatHex()}function xP(){return Pv(this).formatHsl()}function Sv(){return this.rgb().formatRgb()}function nn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pP.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ev(e):n===3?new pe(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Eo(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Eo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vP.exec(t))?new pe(e[1],e[2],e[3],1):(e=gP.exec(t))?new pe(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mP.exec(t))?Eo(e[1],e[2],e[3],e[4]):(e=yP.exec(t))?Eo(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_P.exec(t))?Av(e[1],e[2]/100,e[3]/100,1):(e=bP.exec(t))?Av(e[1],e[2]/100,e[3]/100,e[4]):Ov.hasOwnProperty(t)?Ev(Ov[t]):t==="transparent"?new pe(NaN,NaN,NaN,0):null}function Ev(t){return new pe(t>>16&255,t>>8&255,t&255,1)}function Eo(t,e,n,r){return r<=0&&(t=e=n=NaN),new pe(t,e,n,r)}function wP(t){return t instanceof za||(t=nn(t)),t?(t=t.rgb(),new pe(t.r,t.g,t.b,t.opacity)):new pe}function ic(t,e,n,r){return arguments.length===1?wP(t):new pe(t,e,n,r==null?1:r)}function pe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ac(pe,ic,wv(za,{brighter:function(t){return t=t==null?So:Math.pow(So,t),new pe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Wa:Math.pow(Wa,t),new pe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mv,formatHex:Mv,formatRgb:Cv,toString:Cv}));function Mv(){return"#"+oc(this.r)+oc(this.g)+oc(this.b)}function Cv(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function oc(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Av(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ue(t,e,n,r)}function Pv(t){if(t instanceof Ue)return new Ue(t.h,t.s,t.l,t.opacity);if(t instanceof za||(t=nn(t)),!t)return new Ue;if(t instanceof Ue)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,s=i-a,u=(i+a)/2;return s?(e===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-e)/s+2:o=(e-n)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=u>0&&u<1?0:o,new Ue(o,s,u,t.opacity)}function sc(t,e,n,r){return arguments.length===1?Pv(t):new Ue(t,e,n,r==null?1:r)}function Ue(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ac(Ue,sc,wv(za,{brighter:function(t){return t=t==null?So:Math.pow(So,t),new Ue(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Wa:Math.pow(Wa,t),new Ue(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new pe(uc(t>=240?t-240:t+120,a,r),uc(t,a,r),uc(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function uc(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var lc=t=>()=>t;function OP(t,e){return function(n){return t+n*e}}function TP(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function SP(t){return(t=+t)==1?Dv:function(e,n){return n-e?TP(e,n,t):lc(isNaN(e)?n:e)}}function Dv(t,e){var n=e-t;return n?OP(t,n):lc(isNaN(t)?e:t)}var Mo=function t(e){var n=SP(e);function r(a,i){var o=n((a=ic(a)).r,(i=ic(i)).r),s=n(a.g,i.g),u=n(a.b,i.b),l=Dv(a.opacity,i.opacity);return function(c){return a.r=o(c),a.g=s(c),a.b=u(c),a.opacity=l(c),a+""}}return r.gamma=t,r}(1);function EP(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function MP(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function CP(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Ya(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function AP(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function we(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function PP(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Ya(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var cc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fc=new RegExp(cc.source,"g");function DP(t){return function(){return t}}function LP(t){return function(e){return t(e)+""}}function Lv(t,e){var n=cc.lastIndex=fc.lastIndex=0,r,a,i,o=-1,s=[],u=[];for(t=t+"",e=e+"";(r=cc.exec(t))&&(a=fc.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,u.push({i:o,x:we(r,a)})),n=fc.lastIndex;return n<e.length&&(i=e.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?LP(u[0].x):DP(e):(e=u.length,function(l){for(var c=0,h;c<e;++c)s[(h=u[c]).i]=h.x(l);return s.join("")})}function Ya(t,e){var n=typeof e,r;return e==null||n==="boolean"?lc(e):(n==="number"?we:n==="string"?(r=nn(e))?(e=r,Mo):Lv:e instanceof nn?Mo:e instanceof Date?AP:MP(e)?EP:Array.isArray(e)?CP:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?PP:we)(t,e)}function kv(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Rv=180/Math.PI,hc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Iv(t,e,n,r,a,i){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*Rv,skewX:Math.atan(u)*Rv,scaleX:o,scaleY:s}}var Co;function kP(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?hc:Iv(e.a,e.b,e.c,e.d,e.e,e.f)}function RP(t){return t==null||(Co||(Co=document.createElementNS("http://www.w3.org/2000/svg","g")),Co.setAttribute("transform",t),!(t=Co.transform.baseVal.consolidate()))?hc:(t=t.matrix,Iv(t.a,t.b,t.c,t.d,t.e,t.f))}function Nv(t,e,n,r){function a(l){return l.length?l.pop()+" ":""}function i(l,c,h,f,p,d){if(l!==h||c!==f){var m=p.push("translate(",null,e,null,n);d.push({i:m-4,x:we(l,h)},{i:m-2,x:we(c,f)})}else(h||f)&&p.push("translate("+h+e+f+n)}function o(l,c,h,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:h.push(a(h)+"rotate(",null,r)-2,x:we(l,c)})):c&&h.push(a(h)+"rotate("+c+r)}function s(l,c,h,f){l!==c?f.push({i:h.push(a(h)+"skewX(",null,r)-2,x:we(l,c)}):c&&h.push(a(h)+"skewX("+c+r)}function u(l,c,h,f,p,d){if(l!==h||c!==f){var m=p.push(a(p)+"scale(",null,",",null,")");d.push({i:m-4,x:we(l,h)},{i:m-2,x:we(c,f)})}else(h!==1||f!==1)&&p.push(a(p)+"scale("+h+","+f+")")}return function(l,c){var h=[],f=[];return l=t(l),c=t(c),i(l.translateX,l.translateY,c.translateX,c.translateY,h,f),o(l.rotate,c.rotate,h,f),s(l.skewX,c.skewX,h,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,f),l=c=null,function(p){for(var d=-1,m=f.length,v;++d<m;)h[(v=f[d]).i]=v.x(p);return h.join("")}}}var IP=Nv(kP,"px, ","px)","deg)"),NP=Nv(RP,", ",")",")");function BP(t){return function(){return t}}function UP(t){return+t}var Bv=[0,1];function Ir(t){return t}function dc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:BP(isNaN(e)?NaN:.5)}function FP(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function VP(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=dc(a,r),i=n(o,i)):(r=dc(r,a),i=n(i,o)),function(s){return i(r(s))}}function $P(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=dc(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(s){var u=vv(t,s,1,r)-1;return i[u](a[u](s))}}function pc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Uv(){var t=Bv,e=Bv,n=Ya,r,a,i,o=Ir,s,u,l;function c(){var f=Math.min(t.length,e.length);return o!==Ir&&(o=FP(t[0],t[f-1])),s=f>2?$P:VP,u=l=null,h}function h(f){return f==null||isNaN(f=+f)?i:(u||(u=s(t.map(r),e,n)))(r(o(f)))}return h.invert=function(f){return o(a((l||(l=s(e,t.map(r),we)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,UP),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=kv,c()},h.clamp=function(f){return arguments.length?(o=f?!0:Ir,c()):o!==Ir},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,p){return r=f,a=p,c()}}function Fv(){return Uv()(Ir,Ir)}function GP(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ao(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nr(t){return t=Ao(Math.abs(t)),t?t[1]:NaN}function HP(t,e){return function(n,r){for(var a=n.length,i=[],o=0,s=t[0],u=0;a>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(n.substring(a-=s,a+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return i.reverse().join(e)}}function zP(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var WP=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qa(t){if(!(e=WP.exec(t)))throw new Error("invalid format: "+t);var e;return new vc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qa.prototype=vc.prototype;function vc(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jP(t){t:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var Vv;function YP(t,e){var n=Ao(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(Vv=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ao(t,Math.max(0,e+i-1))[0]}function $v(t,e){var n=Ao(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var Gv={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:GP,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$v(t*100,e),r:$v,s:YP,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Hv(t){return t}var zv=Array.prototype.map,Wv=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function qP(t){var e=t.grouping===void 0||t.thousands===void 0?Hv:HP(zv.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Hv:zP(zv.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(h){h=qa(h);var f=h.fill,p=h.align,d=h.sign,m=h.symbol,v=h.zero,_=h.width,g=h.comma,y=h.precision,O=h.trim,x=h.type;x==="n"?(g=!0,x="g"):Gv[x]||(y===void 0&&(y=12),O=!0,x="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var w=m==="$"?n:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",M=m==="$"?r:/[%p]/.test(x)?o:"",T=Gv[x],S=/[defgprs%]/.test(x);y=y===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function C(E){var R=w,L=M,N,A,k;if(x==="c")L=T(E)+L,E="";else{E=+E;var I=E<0||1/E<0;if(E=isNaN(E)?u:T(Math.abs(E),y),O&&(E=jP(E)),I&&+E==0&&d!=="+"&&(I=!1),R=(I?d==="("?d:s:d==="-"||d==="("?"":d)+R,L=(x==="s"?Wv[8+Vv/3]:"")+L+(I&&d==="("?")":""),S){for(N=-1,A=E.length;++N<A;)if(k=E.charCodeAt(N),48>k||k>57){L=(k===46?a+E.slice(N+1):E.slice(N))+L,E=E.slice(0,N);break}}}g&&!v&&(E=e(E,1/0));var B=R.length+E.length+L.length,D=B<_?new Array(_-B+1).join(f):"";switch(g&&v&&(E=e(D+E,D.length?_-L.length:1/0),D=""),p){case"<":E=R+E+L+D;break;case"=":E=R+D+E+L;break;case"^":E=D.slice(0,B=D.length>>1)+R+E+L+D.slice(B);break;default:E=D+R+E+L;break}return i(E)}return C.toString=function(){return h+""},C}function c(h,f){var p=l((h=qa(h),h.type="f",h)),d=Math.max(-8,Math.min(8,Math.floor(Nr(f)/3)))*3,m=Math.pow(10,-d),v=Wv[8+d/3];return function(_){return p(m*_)+v}}return{format:l,formatPrefix:c}}var Po,gc,jv;KP({thousands:",",grouping:[3],currency:["$",""]});function KP(t){return Po=qP(t),gc=Po.format,jv=Po.formatPrefix,Po}function XP(t){return Math.max(0,-Nr(Math.abs(t)))}function ZP(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nr(e)/3)))*3-Nr(Math.abs(t)))}function QP(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nr(e)-Nr(t))+1}function JP(t,e,n,r){var a=nc(t,e,n),i;switch(r=qa(r==null?",f":r),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=ZP(a,o))&&(r.precision=i),jv(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=QP(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=XP(a))&&(r.precision=i-(r.type==="%")*2);break}}return gc(r)}function tD(t){var e=t.domain;return t.ticks=function(n){var r=e();return xo(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var a=e();return JP(a[0],a[a.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,o=r[a],s=r[i],u,l,c=10;for(s<o&&(l=o,o=s,s=l,l=a,a=i,i=l);c-- >0;){if(l=wo(o,s,n),l===u)return r[a]=o,r[i]=s,e(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function bn(){var t=Fv();return t.copy=function(){return pc(t,bn())},Ha.apply(t,arguments),tD(t)}function Yv(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),t[n]=e.floor(a),t[r]=e.ceil(i),t}function qv(t){return Math.log(t)}function Kv(t){return Math.exp(t)}function eD(t){return-Math.log(-t)}function nD(t){return-Math.exp(-t)}function rD(t){return isFinite(t)?+("1e"+t):t<0?0:t}function aD(t){return t===10?rD:t===Math.E?Math.exp:e=>Math.pow(t,e)}function iD(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Xv(t){return(e,n)=>-t(-e,n)}function oD(t){const e=t(qv,Kv),n=e.domain;let r=10,a,i;function o(){return a=iD(r),i=aD(r),n()[0]<0?(a=Xv(a),i=Xv(i),t(eD,nD)):t(qv,Kv),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const u=n();let l=u[0],c=u[u.length-1];const h=c<l;h&&([l,c]=[c,l]);let f=a(l),p=a(c),d,m;const v=s==null?10:+s;let _=[];if(!(r%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),l>0){for(;f<=p;++f)for(d=1;d<r;++d)if(m=f<0?d/i(-f):d*i(f),!(m<l)){if(m>c)break;_.push(m)}}else for(;f<=p;++f)for(d=r-1;d>=1;--d)if(m=f>0?d/i(-f):d*i(f),!(m<l)){if(m>c)break;_.push(m)}_.length*2<v&&(_=xo(l,c,v))}else _=xo(f,p,Math.min(p-f,v)).map(i);return h?_.reverse():_},e.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=qa(u)).precision==null&&(u.trim=!0),u=gc(u)),s===1/0)return u;const l=Math.max(1,r*s/e.ticks().length);return c=>{let h=c/i(Math.round(a(c)));return h*r<r-.5&&(h*=r),h<=l?u(c):""}},e.nice=()=>n(Yv(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),e}function Zv(){const t=oD(Uv()).domain([1,10]);return t.copy=()=>pc(t,Zv()).base(t.base()),Ha.apply(t,arguments),t}var mc=new Date,yc=new Date;function $t(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=function(i){return t(i=new Date(+i)),i},a.ceil=function(i){return t(i=new Date(i-1)),e(i,1),t(i),i},a.round=function(i){var o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=function(i,o){return e(i=new Date(+i),o==null?1:Math.floor(o)),i},a.range=function(i,o,s){var u=[],l;if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return u;do u.push(l=new Date(+i)),e(i,s),t(i);while(l<i&&i<o);return u},a.filter=function(i){return $t(function(o){if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},function(o,s){if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!i(o););else for(;--s>=0;)for(;e(o,1),!i(o););})},n&&(a.count=function(i,o){return mc.setTime(+i),yc.setTime(+o),t(mc),t(yc),Math.floor(n(mc,yc))},a.every=function(i){return i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?function(o){return r(o)%i==0}:function(o){return a.count(0,o)%i==0}):a}),a}var _c=$t(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});_c.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$t(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):_c};var sD=_c;const rn=1e3,Oe=rn*60,an=Oe*60,Zn=an*24,bc=Zn*7,Qv=Zn*30,xc=Zn*365;var uD=$t(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*rn)},function(t,e){return(e-t)/rn},function(t){return t.getUTCSeconds()}),Ka=uD,lD=$t(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*rn)},function(t,e){t.setTime(+t+e*Oe)},function(t,e){return(e-t)/Oe},function(t){return t.getMinutes()}),Jv=lD,cD=$t(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*rn-t.getMinutes()*Oe)},function(t,e){t.setTime(+t+e*an)},function(t,e){return(e-t)/an},function(t){return t.getHours()}),tg=cD,fD=$t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Oe)/Zn,t=>t.getDate()-1),Do=fD;function Qn(t){return $t(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Oe)/bc})}var wc=Qn(0),Oc=Qn(1);Qn(2);Qn(3);var Xa=Qn(4);Qn(5);Qn(6);var hD=$t(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),eg=hD,ng=$t(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});ng.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:$t(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};var Jn=ng,dD=$t(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Oe)},function(t,e){return(e-t)/Oe},function(t){return t.getUTCMinutes()}),pD=dD,vD=$t(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*an)},function(t,e){return(e-t)/an},function(t){return t.getUTCHours()}),gD=vD,mD=$t(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Zn},function(t){return t.getUTCDate()-1}),Tc=mD;function tr(t){return $t(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/bc})}var rg=tr(0),Sc=tr(1);tr(2);tr(3);var Za=tr(4);tr(5);tr(6);var yD=$t(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),_D=yD,ag=$t(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});ag.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:$t(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};var Br=ag;function ig(t,e,n,r,a,i){const o=[[Ka,1,rn],[Ka,5,5*rn],[Ka,15,15*rn],[Ka,30,30*rn],[i,1,Oe],[i,5,5*Oe],[i,15,15*Oe],[i,30,30*Oe],[a,1,an],[a,3,3*an],[a,6,6*an],[a,12,12*an],[r,1,Zn],[r,2,2*Zn],[n,1,bc],[e,1,Qv],[e,3,3*Qv],[t,1,xc]];function s(l,c,h){const f=c<l;f&&([l,c]=[c,l]);const p=h&&typeof h.range=="function"?h:u(l,c,h),d=p?p.range(l,+c+1):[];return f?d.reverse():d}function u(l,c,h){const f=Math.abs(c-l)/h,p=Ql(([,,v])=>v).right(o,f);if(p===o.length)return t.every(nc(l/xc,c/xc,h));if(p===0)return sD.every(Math.max(nc(l,c,h),1));const[d,m]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return d.every(m)}return[s,u]}ig(Br,_D,rg,Tc,gD,pD);const[bD,xD]=ig(Jn,eg,wc,Do,tg,Jv);function Ec(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Mc(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qa(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function wD(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,l=Ja(a),c=ti(a),h=Ja(i),f=ti(i),p=Ja(o),d=ti(o),m=Ja(s),v=ti(s),_=Ja(u),g=ti(u),y={a:I,A:B,b:D,B:V,c:null,d:fg,e:fg,f:WD,g:e2,G:r2,H:GD,I:HD,j:zD,L:hg,m:jD,M:YD,p:G,q:K,Q:yg,s:_g,S:qD,u:KD,U:XD,V:ZD,w:QD,W:JD,x:null,X:null,y:t2,Y:n2,Z:a2,"%":mg},O={a:st,A:tt,b:Y,B:Q,c:null,d:pg,e:pg,f:u2,g:y2,G:b2,H:i2,I:o2,j:s2,L:vg,m:l2,M:c2,p:J,q:ot,Q:yg,s:_g,S:f2,u:h2,U:d2,V:p2,w:v2,W:g2,x:null,X:null,y:m2,Y:_2,Z:x2,"%":mg},x={a:C,A:E,b:R,B:L,c:N,d:lg,e:lg,f:UD,g:ug,G:sg,H:cg,I:cg,j:RD,L:BD,m:kD,M:ID,p:S,q:LD,Q:VD,s:$D,S:ND,u:MD,U:CD,V:AD,w:ED,W:PD,x:A,X:k,y:ug,Y:sg,Z:DD,"%":FD};y.x=w(n,y),y.X=w(r,y),y.c=w(e,y),O.x=w(n,O),O.X=w(r,O),O.c=w(e,O);function w(j,Z){return function(ut){var H=[],dt=-1,lt=0,mt=j.length,It,$,z;for(ut instanceof Date||(ut=new Date(+ut));++dt<mt;)j.charCodeAt(dt)===37&&(H.push(j.slice(lt,dt)),($=og[It=j.charAt(++dt)])!=null?It=j.charAt(++dt):$=It==="e"?" ":"0",(z=Z[It])&&(It=z(ut,$)),H.push(It),lt=dt+1);return H.push(j.slice(lt,dt)),H.join("")}}function M(j,Z){return function(ut){var H=Qa(1900,void 0,1),dt=T(H,j,ut+="",0),lt,mt;if(dt!=ut.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(Z&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(lt=Mc(Qa(H.y,0,1)),mt=lt.getUTCDay(),lt=mt>4||mt===0?Sc.ceil(lt):Sc(lt),lt=Tc.offset(lt,(H.V-1)*7),H.y=lt.getUTCFullYear(),H.m=lt.getUTCMonth(),H.d=lt.getUTCDate()+(H.w+6)%7):(lt=Ec(Qa(H.y,0,1)),mt=lt.getDay(),lt=mt>4||mt===0?Oc.ceil(lt):Oc(lt),lt=Do.offset(lt,(H.V-1)*7),H.y=lt.getFullYear(),H.m=lt.getMonth(),H.d=lt.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),mt="Z"in H?Mc(Qa(H.y,0,1)).getUTCDay():Ec(Qa(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(mt+5)%7:H.w+H.U*7-(mt+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Mc(H)):Ec(H)}}function T(j,Z,ut,H){for(var dt=0,lt=Z.length,mt=ut.length,It,$;dt<lt;){if(H>=mt)return-1;if(It=Z.charCodeAt(dt++),It===37){if(It=Z.charAt(dt++),$=x[It in og?Z.charAt(dt++):It],!$||(H=$(j,ut,H))<0)return-1}else if(It!=ut.charCodeAt(H++))return-1}return H}function S(j,Z,ut){var H=l.exec(Z.slice(ut));return H?(j.p=c.get(H[0].toLowerCase()),ut+H[0].length):-1}function C(j,Z,ut){var H=p.exec(Z.slice(ut));return H?(j.w=d.get(H[0].toLowerCase()),ut+H[0].length):-1}function E(j,Z,ut){var H=h.exec(Z.slice(ut));return H?(j.w=f.get(H[0].toLowerCase()),ut+H[0].length):-1}function R(j,Z,ut){var H=_.exec(Z.slice(ut));return H?(j.m=g.get(H[0].toLowerCase()),ut+H[0].length):-1}function L(j,Z,ut){var H=m.exec(Z.slice(ut));return H?(j.m=v.get(H[0].toLowerCase()),ut+H[0].length):-1}function N(j,Z,ut){return T(j,e,Z,ut)}function A(j,Z,ut){return T(j,n,Z,ut)}function k(j,Z,ut){return T(j,r,Z,ut)}function I(j){return o[j.getDay()]}function B(j){return i[j.getDay()]}function D(j){return u[j.getMonth()]}function V(j){return s[j.getMonth()]}function G(j){return a[+(j.getHours()>=12)]}function K(j){return 1+~~(j.getMonth()/3)}function st(j){return o[j.getUTCDay()]}function tt(j){return i[j.getUTCDay()]}function Y(j){return u[j.getUTCMonth()]}function Q(j){return s[j.getUTCMonth()]}function J(j){return a[+(j.getUTCHours()>=12)]}function ot(j){return 1+~~(j.getUTCMonth()/3)}return{format:function(j){var Z=w(j+="",y);return Z.toString=function(){return j},Z},parse:function(j){var Z=M(j+="",!1);return Z.toString=function(){return j},Z},utcFormat:function(j){var Z=w(j+="",O);return Z.toString=function(){return j},Z},utcParse:function(j){var Z=M(j+="",!0);return Z.toString=function(){return j},Z}}}var og={"-":"",_:" ","0":"0"},Gt=/^\s*\d+/,OD=/^%/,TD=/[\\^$*+?|[\]().{}]/g;function gt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function SD(t){return t.replace(TD,"\\$&")}function Ja(t){return new RegExp("^(?:"+t.map(SD).join("|")+")","i")}function ti(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ED(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function MD(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function CD(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function AD(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function PD(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function sg(t,e,n){var r=Gt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ug(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function DD(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function LD(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function kD(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function lg(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function RD(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function cg(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ID(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ND(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function BD(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function UD(t,e,n){var r=Gt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function FD(t,e,n){var r=OD.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function VD(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $D(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function fg(t,e){return gt(t.getDate(),e,2)}function GD(t,e){return gt(t.getHours(),e,2)}function HD(t,e){return gt(t.getHours()%12||12,e,2)}function zD(t,e){return gt(1+Do.count(Jn(t),t),e,3)}function hg(t,e){return gt(t.getMilliseconds(),e,3)}function WD(t,e){return hg(t,e)+"000"}function jD(t,e){return gt(t.getMonth()+1,e,2)}function YD(t,e){return gt(t.getMinutes(),e,2)}function qD(t,e){return gt(t.getSeconds(),e,2)}function KD(t){var e=t.getDay();return e===0?7:e}function XD(t,e){return gt(wc.count(Jn(t)-1,t),e,2)}function dg(t){var e=t.getDay();return e>=4||e===0?Xa(t):Xa.ceil(t)}function ZD(t,e){return t=dg(t),gt(Xa.count(Jn(t),t)+(Jn(t).getDay()===4),e,2)}function QD(t){return t.getDay()}function JD(t,e){return gt(Oc.count(Jn(t)-1,t),e,2)}function t2(t,e){return gt(t.getFullYear()%100,e,2)}function e2(t,e){return t=dg(t),gt(t.getFullYear()%100,e,2)}function n2(t,e){return gt(t.getFullYear()%1e4,e,4)}function r2(t,e){var n=t.getDay();return t=n>=4||n===0?Xa(t):Xa.ceil(t),gt(t.getFullYear()%1e4,e,4)}function a2(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gt(e/60|0,"0",2)+gt(e%60,"0",2)}function pg(t,e){return gt(t.getUTCDate(),e,2)}function i2(t,e){return gt(t.getUTCHours(),e,2)}function o2(t,e){return gt(t.getUTCHours()%12||12,e,2)}function s2(t,e){return gt(1+Tc.count(Br(t),t),e,3)}function vg(t,e){return gt(t.getUTCMilliseconds(),e,3)}function u2(t,e){return vg(t,e)+"000"}function l2(t,e){return gt(t.getUTCMonth()+1,e,2)}function c2(t,e){return gt(t.getUTCMinutes(),e,2)}function f2(t,e){return gt(t.getUTCSeconds(),e,2)}function h2(t){var e=t.getUTCDay();return e===0?7:e}function d2(t,e){return gt(rg.count(Br(t)-1,t),e,2)}function gg(t){var e=t.getUTCDay();return e>=4||e===0?Za(t):Za.ceil(t)}function p2(t,e){return t=gg(t),gt(Za.count(Br(t),t)+(Br(t).getUTCDay()===4),e,2)}function v2(t){return t.getUTCDay()}function g2(t,e){return gt(Sc.count(Br(t)-1,t),e,2)}function m2(t,e){return gt(t.getUTCFullYear()%100,e,2)}function y2(t,e){return t=gg(t),gt(t.getUTCFullYear()%100,e,2)}function _2(t,e){return gt(t.getUTCFullYear()%1e4,e,4)}function b2(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Za(t):Za.ceil(t),gt(t.getUTCFullYear()%1e4,e,4)}function x2(){return"+0000"}function mg(){return"%"}function yg(t){return+t}function _g(t){return Math.floor(+t/1e3)}var Cc,bg;w2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function w2(t){return Cc=wD(t),bg=Cc.format,Cc}function O2(t){return new Date(t)}function T2(t){return t instanceof Date?+t:+new Date(+t)}function xg(t,e,n,r,a,i,o,s,u,l){var c=Fv(),h=c.invert,f=c.domain,p=l(".%L"),d=l(":%S"),m=l("%I:%M"),v=l("%I %p"),_=l("%a %d"),g=l("%b %d"),y=l("%B"),O=l("%Y");function x(w){return(u(w)<w?p:s(w)<w?d:o(w)<w?m:i(w)<w?v:r(w)<w?a(w)<w?_:g:n(w)<w?y:O)(w)}return c.invert=function(w){return new Date(h(w))},c.domain=function(w){return arguments.length?f(Array.from(w,T2)):f().map(O2)},c.ticks=function(w){var M=f();return t(M[0],M[M.length-1],w==null?10:w)},c.tickFormat=function(w,M){return M==null?x:l(M)},c.nice=function(w){var M=f();return(!w||typeof w.range!="function")&&(w=e(M[0],M[M.length-1],w==null?10:w)),w?f(Yv(M,w)):c},c.copy=function(){return pc(c,xg(t,e,n,r,a,i,o,s,u,l))},c}function wg(){return Ha.apply(xg(bD,xD,Jn,eg,wc,Do,tg,Jv,Ka,bg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const Ac=Math.PI,Pc=2*Ac,er=1e-6,S2=Pc-er;function Dc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ei(){return new Dc}Dc.prototype=ei.prototype={constructor:Dc,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,a,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(t,e,n,r,a){t=+t,e=+e,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,s=n-t,u=r-e,l=i-t,c=o-e,h=l*l+c*c;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>er)if(!(Math.abs(c*s-u*l)>er)||!a)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var f=n-i,p=r-o,d=s*s+u*u,m=f*f+p*p,v=Math.sqrt(d),_=Math.sqrt(h),g=a*Math.tan((Ac-Math.acos((d+h-m)/(2*v*_)))/2),y=g/_,O=g/v;Math.abs(y-1)>er&&(this._+="L"+(t+y*l)+","+(e+y*c)),this._+="A"+a+","+a+",0,0,"+ +(c*f>l*p)+","+(this._x1=t+O*s)+","+(this._y1=e+O*u)}},arc:function(t,e,n,r,a,i){t=+t,e=+e,n=+n,i=!!i;var o=n*Math.cos(r),s=n*Math.sin(r),u=t+o,l=e+s,c=1^i,h=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>er||Math.abs(this._y1-l)>er)&&(this._+="L"+u+","+l),!!n&&(h<0&&(h=h%Pc+Pc),h>S2?this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>er&&(this._+="A"+n+","+n+",0,"+ +(h>=Ac)+","+c+","+(this._x1=t+n*Math.cos(a))+","+(this._y1=e+n*Math.sin(a))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function ft(t){return function(){return t}}var Og=Math.abs,Qt=Math.atan2,nr=Math.cos,E2=Math.max,Lc=Math.min,Fe=Math.sin,Ur=Math.sqrt,Jt=1e-12,ni=Math.PI,Lo=ni/2,ko=2*ni;function M2(t){return t>1?0:t<-1?ni:Math.acos(t)}function Tg(t){return t>=1?Lo:t<=-1?-Lo:Math.asin(t)}function C2(t){return t.innerRadius}function A2(t){return t.outerRadius}function P2(t){return t.startAngle}function D2(t){return t.endAngle}function L2(t){return t&&t.padAngle}function k2(t,e,n,r,a,i,o,s){var u=n-t,l=r-e,c=o-a,h=s-i,f=h*u-c*l;if(!(f*f<Jt))return f=(c*(e-i)-h*(t-a))/f,[t+f*u,e+f*l]}function Ro(t,e,n,r,a,i,o){var s=t-n,u=e-r,l=(o?i:-i)/Ur(s*s+u*u),c=l*u,h=-l*s,f=t+c,p=e+h,d=n+c,m=r+h,v=(f+d)/2,_=(p+m)/2,g=d-f,y=m-p,O=g*g+y*y,x=a-i,w=f*m-d*p,M=(y<0?-1:1)*Ur(E2(0,x*x*O-w*w)),T=(w*y-g*M)/O,S=(-w*g-y*M)/O,C=(w*y+g*M)/O,E=(-w*g+y*M)/O,R=T-v,L=S-_,N=C-v,A=E-_;return R*R+L*L>N*N+A*A&&(T=C,S=E),{cx:T,cy:S,x01:-c,y01:-h,x11:T*(a/x-1),y11:S*(a/x-1)}}function ri(){var t=C2,e=A2,n=ft(0),r=null,a=P2,i=D2,o=L2,s=null;function u(){var l,c,h=+t.apply(this,arguments),f=+e.apply(this,arguments),p=a.apply(this,arguments)-Lo,d=i.apply(this,arguments)-Lo,m=Og(d-p),v=d>p;if(s||(s=l=ei()),f<h&&(c=f,f=h,h=c),!(f>Jt))s.moveTo(0,0);else if(m>ko-Jt)s.moveTo(f*nr(p),f*Fe(p)),s.arc(0,0,f,p,d,!v),h>Jt&&(s.moveTo(h*nr(d),h*Fe(d)),s.arc(0,0,h,d,p,v));else{var _=p,g=d,y=p,O=d,x=m,w=m,M=o.apply(this,arguments)/2,T=M>Jt&&(r?+r.apply(this,arguments):Ur(h*h+f*f)),S=Lc(Og(f-h)/2,+n.apply(this,arguments)),C=S,E=S,R,L;if(T>Jt){var N=Tg(T/h*Fe(M)),A=Tg(T/f*Fe(M));(x-=N*2)>Jt?(N*=v?1:-1,y+=N,O-=N):(x=0,y=O=(p+d)/2),(w-=A*2)>Jt?(A*=v?1:-1,_+=A,g-=A):(w=0,_=g=(p+d)/2)}var k=f*nr(_),I=f*Fe(_),B=h*nr(O),D=h*Fe(O);if(S>Jt){var V=f*nr(g),G=f*Fe(g),K=h*nr(y),st=h*Fe(y),tt;if(m<ni&&(tt=k2(k,I,K,st,V,G,B,D))){var Y=k-tt[0],Q=I-tt[1],J=V-tt[0],ot=G-tt[1],j=1/Fe(M2((Y*J+Q*ot)/(Ur(Y*Y+Q*Q)*Ur(J*J+ot*ot)))/2),Z=Ur(tt[0]*tt[0]+tt[1]*tt[1]);C=Lc(S,(h-Z)/(j-1)),E=Lc(S,(f-Z)/(j+1))}}w>Jt?E>Jt?(R=Ro(K,st,k,I,f,E,v),L=Ro(V,G,B,D,f,E,v),s.moveTo(R.cx+R.x01,R.cy+R.y01),E<S?s.arc(R.cx,R.cy,E,Qt(R.y01,R.x01),Qt(L.y01,L.x01),!v):(s.arc(R.cx,R.cy,E,Qt(R.y01,R.x01),Qt(R.y11,R.x11),!v),s.arc(0,0,f,Qt(R.cy+R.y11,R.cx+R.x11),Qt(L.cy+L.y11,L.cx+L.x11),!v),s.arc(L.cx,L.cy,E,Qt(L.y11,L.x11),Qt(L.y01,L.x01),!v))):(s.moveTo(k,I),s.arc(0,0,f,_,g,!v)):s.moveTo(k,I),!(h>Jt)||!(x>Jt)?s.lineTo(B,D):C>Jt?(R=Ro(B,D,V,G,h,-C,v),L=Ro(k,I,K,st,h,-C,v),s.lineTo(R.cx+R.x01,R.cy+R.y01),C<S?s.arc(R.cx,R.cy,C,Qt(R.y01,R.x01),Qt(L.y01,L.x01),!v):(s.arc(R.cx,R.cy,C,Qt(R.y01,R.x01),Qt(R.y11,R.x11),!v),s.arc(0,0,h,Qt(R.cy+R.y11,R.cx+R.x11),Qt(L.cy+L.y11,L.cx+L.x11),v),s.arc(L.cx,L.cy,C,Qt(L.y11,L.x11),Qt(L.y01,L.x01),!v))):s.arc(0,0,h,O,y,v)}if(s.closePath(),l)return s=null,l+""||null}return u.centroid=function(){var l=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,c=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-ni/2;return[nr(c)*l,Fe(c)*l]},u.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:ft(+l),u):t},u.outerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:ft(+l),u):e},u.cornerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:ft(+l),u):n},u.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:ft(+l),u):r},u.startAngle=function(l){return arguments.length?(a=typeof l=="function"?l:ft(+l),u):a},u.endAngle=function(l){return arguments.length?(i=typeof l=="function"?l:ft(+l),u):i},u.padAngle=function(l){return arguments.length?(o=typeof l=="function"?l:ft(+l),u):o},u.context=function(l){return arguments.length?(s=l==null?null:l,u):s},u}var R2=Array.prototype.slice;function Io(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Sg(t){this._context=t}Sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function No(t){return new Sg(t)}function kc(t){return t[0]}function Rc(t){return t[1]}function Bo(t,e){var n=ft(!0),r=null,a=No,i=null;t=typeof t=="function"?t:t===void 0?kc:ft(t),e=typeof e=="function"?e:e===void 0?Rc:ft(e);function o(s){var u,l=(s=Io(s)).length,c,h=!1,f;for(r==null&&(i=a(f=ei())),u=0;u<=l;++u)!(u<l&&n(c=s[u],u,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(c,u,s),+e(c,u,s));if(f)return i=null,f+""||null}return o.x=function(s){return arguments.length?(t=typeof s=="function"?s:ft(+s),o):t},o.y=function(s){return arguments.length?(e=typeof s=="function"?s:ft(+s),o):e},o.defined=function(s){return arguments.length?(n=typeof s=="function"?s:ft(!!s),o):n},o.curve=function(s){return arguments.length?(a=s,r!=null&&(i=a(r)),o):a},o.context=function(s){return arguments.length?(s==null?r=i=null:i=a(r=s),o):r},o}function Ic(t,e,n){var r=null,a=ft(!0),i=null,o=No,s=null;t=typeof t=="function"?t:t===void 0?kc:ft(+t),e=typeof e=="function"?e:ft(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Rc:ft(+n);function u(c){var h,f,p,d=(c=Io(c)).length,m,v=!1,_,g=new Array(d),y=new Array(d);for(i==null&&(s=o(_=ei())),h=0;h<=d;++h){if(!(h<d&&a(m=c[h],h,c))===v)if(v=!v)f=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=h-1;p>=f;--p)s.point(g[p],y[p]);s.lineEnd(),s.areaEnd()}v&&(g[h]=+t(m,h,c),y[h]=+e(m,h,c),s.point(r?+r(m,h,c):g[h],n?+n(m,h,c):y[h]))}if(_)return s=null,_+""||null}function l(){return Bo().defined(a).curve(o).context(i)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:ft(+c),r=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:ft(+c),u):t},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ft(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:ft(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:ft(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:ft(+c),u):n},u.lineX0=u.lineY0=function(){return l().x(t).y(e)},u.lineY1=function(){return l().x(t).y(n)},u.lineX1=function(){return l().x(r).y(e)},u.defined=function(c){return arguments.length?(a=typeof c=="function"?c:ft(!!c),u):a},u.curve=function(c){return arguments.length?(o=c,i!=null&&(s=o(i)),u):o},u.context=function(c){return arguments.length?(c==null?i=s=null:s=o(i=c),u):i},u}function I2(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function N2(t){return t}function B2(){var t=N2,e=I2,n=null,r=ft(0),a=ft(ko),i=ft(0);function o(s){var u,l=(s=Io(s)).length,c,h,f=0,p=new Array(l),d=new Array(l),m=+r.apply(this,arguments),v=Math.min(ko,Math.max(-ko,a.apply(this,arguments)-m)),_,g=Math.min(Math.abs(v)/l,i.apply(this,arguments)),y=g*(v<0?-1:1),O;for(u=0;u<l;++u)(O=d[p[u]=u]=+t(s[u],u,s))>0&&(f+=O);for(e!=null?p.sort(function(x,w){return e(d[x],d[w])}):n!=null&&p.sort(function(x,w){return n(s[x],s[w])}),u=0,h=f?(v-l*y)/f:0;u<l;++u,m=_)c=p[u],O=d[c],_=m+(O>0?O*h:0)+y,d[c]={data:s[c],index:u,value:O,startAngle:m,endAngle:_,padAngle:g};return d}return o.value=function(s){return arguments.length?(t=typeof s=="function"?s:ft(+s),o):t},o.sortValues=function(s){return arguments.length?(e=s,n=null,o):e},o.sort=function(s){return arguments.length?(n=s,e=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:ft(+s),o):r},o.endAngle=function(s){return arguments.length?(a=typeof s=="function"?s:ft(+s),o):a},o.padAngle=function(s){return arguments.length?(i=typeof s=="function"?s:ft(+s),o):i},o}var U2=Mg(No);function Eg(t){this._curve=t}Eg.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Mg(t){function e(n){return new Eg(t(n))}return e._curve=t,e}function F2(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(Mg(n)):e()._curve},t}function V2(){return F2(Bo().curve(U2))}function $2(t){return t.source}function G2(t){return t.target}function H2(t){var e=$2,n=G2,r=kc,a=Rc,i=null;function o(){var s,u=R2.call(arguments),l=e.apply(this,u),c=n.apply(this,u);if(i||(i=s=ei()),t(i,+r.apply(this,(u[0]=l,u)),+a.apply(this,u),+r.apply(this,(u[0]=c,u)),+a.apply(this,u)),s)return i=null,s+""||null}return o.source=function(s){return arguments.length?(e=s,o):e},o.target=function(s){return arguments.length?(n=s,o):n},o.x=function(s){return arguments.length?(r=typeof s=="function"?s:ft(+s),o):r},o.y=function(s){return arguments.length?(a=typeof s=="function"?s:ft(+s),o):a},o.context=function(s){return arguments.length?(i=s==null?null:s,o):i},o}function z2(t,e,n,r,a){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,a,r,a)}function W2(){return H2(z2)}function xn(){}function Uo(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Fo(t){this._context=t}Fo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function j2(t){return new Fo(t)}function Cg(t){this._context=t}Cg.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Uo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Y2(t){return new Cg(t)}function Ag(t){this._context=t}Ag.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Uo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function q2(t){return new Ag(t)}function Pg(t,e){this._basis=new Fo(t),this._beta=e}Pg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],a=e[0],i=t[n]-r,o=e[n]-a,s=-1,u;++s<=n;)u=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+u*i),this._beta*e[s]+(1-this._beta)*(a+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var K2=function t(e){function n(r){return e===1?new Fo(r):new Pg(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Vo(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Nc(t,e){this._context=t,this._k=(1-e)/6}Nc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Vo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Vo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var X2=function t(e){function n(r){return new Nc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Bc(t,e){this._context=t,this._k=(1-e)/6}Bc.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Vo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Z2=function t(e){function n(r){return new Bc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Uc(t,e){this._context=t,this._k=(1-e)/6}Uc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Vo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Q2=function t(e){function n(r){return new Uc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Fc(t,e,n){var r=t._x1,a=t._y1,i=t._x2,o=t._y2;if(t._l01_a>Jt){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,a=(a*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Jt){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*l+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,a,i,o,t._x2,t._y2)}function Dg(t,e){this._context=t,this._alpha=e}Dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Fc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var J2=function t(e){function n(r){return e?new Dg(r,e):new Nc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function Lg(t,e){this._context=t,this._alpha=e}Lg.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Fc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var tL=function t(e){function n(r){return e?new Lg(r,e):new Bc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function kg(t,e){this._context=t,this._alpha=e}kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var eL=function t(e){function n(r){return e?new kg(r,e):new Uc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function Rg(t){this._context=t}Rg.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ig(t){return new Rg(t)}function Ng(t){return t<0?-1:1}function Bg(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(Ng(i)+Ng(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Ug(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Vc(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,s=(i-r)/3;t._context.bezierCurveTo(r+s,a+s*e,i-s,o-s*n,i,o)}function $o(t){this._context=t}$o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vc(this,this._t0,Ug(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Vc(this,Ug(this,n=Bg(this,t,e)),n);break;default:Vc(this,this._t0,n=Bg(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Fg(t){this._context=new Vg(t)}(Fg.prototype=Object.create($o.prototype)).point=function(t,e){$o.prototype.point.call(this,e,t)};function Vg(t){this._context=t}Vg.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function nL(t){return new $o(t)}function rL(t){return new Fg(t)}function $g(t){this._context=t}$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Gg(t),a=Gg(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Gg(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(a[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function aL(t){return new $g(t)}function Go(t,e){this._context=t,this._t=e}Go.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function iL(t){return new Go(t,.5)}function oL(t){return new Go(t,0)}function sL(t){return new Go(t,1)}function Hg(t,e){if((o=t.length)>1)for(var n=1,r,a,i=t[e[0]],o,s=i.length;n<o;++n)for(a=i,i=t[e[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function zg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function uL(t,e){return t[e]}function lL(t){const e=[];return e.key=t,e}function $c(){var t=ft([]),e=zg,n=Hg,r=uL;function a(i){var o=Array.from(t.apply(this,arguments),lL),s,u=o.length,l=-1,c;for(const h of i)for(s=0,++l;s<u;++s)(o[s][l]=[0,+r(h,o[s].key,l,i)]).data=h;for(s=0,c=Io(e(o));s<u;++s)o[c[s]].index=s;return n(o,c),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:ft(Array.from(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:ft(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?zg:typeof i=="function"?i:ft(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(n=i==null?Hg:i,a):n},a}function cL(t,e){if((u=t.length)>0)for(var n,r=0,a,i,o,s,u,l=t[e[0]].length;r<l;++r)for(o=s=0,n=0;n<u;++n)(i=(a=t[e[n]][r])[1]-a[0])>0?(a[0]=o,a[1]=o+=i):i<0?(a[1]=s,a[0]=s+=i):(a[0]=0,a[1]=i)}var Ho=globalThis&&globalThis.__assign||function(){return Ho=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Ho.apply(this,arguments)},on=function(){function t(e){this.state={options:{}},this.colorScale={},this.colorClassNames={},this.services=e}return t.prototype.getAllDataFromDomain=function(e){if(!this.getData())return null;var n=this.getOptions(),r=this.getData(),a=this.getDataGroups(),i=b.getProperty(n,"data").groupMapsTo,o=b.getProperty(n,"axes");return e&&(r=r.filter(function(s){return e.includes(s[i])})),o&&Object.keys(o).forEach(function(s){var u=o[s].mapsTo,l=o[s].scaleType;if((l===et.LINEAR||l===et.LOG)&&(r=r.map(function(p){var d;return Ho(Ho({},p),(d={},d[u]=p[u]===null?p[u]:Number(p[u]),d))})),u&&o[s].domain)if(l===et.LABELS)r=r.filter(function(p){return o[s].domain.includes(p[u])});else{var c=o[s].domain,h=c[0],f=c[1];r=r.filter(function(p){return!(u in p)||p[u]>=h&&p[u]<=f})}}),r.filter(function(s){return a.find(function(u){return u.name===s[i]})})},t.prototype.getDisplayData=function(e){if(!this.get("data"))return null;var n=zt.items.status.ACTIVE,r=this.getDataGroups(e),a=this.getOptions().data.groupMapsTo,i=this.getAllDataFromDomain(e);return i.filter(function(o){return r.find(function(s){return s.name===o[a]&&s.status===n})})},t.prototype.getData=function(){return this.get("data")},t.prototype.isDataEmpty=function(){return!this.getData().length},t.prototype.setData=function(e){var n=this.sanitize(b.clone(e)),r=this.generateDataGroups(n);return this.set({data:n,dataGroups:r}),n},t.prototype.getDataGroups=function(e){var n=b.getProperty(this.getOptions(),"data","loading");return n?[]:e?this.get("dataGroups").filter(function(r){return e.includes(r.name)}):this.get("dataGroups")},t.prototype.getActiveDataGroups=function(e){var n=zt.items.status.ACTIVE;return this.getDataGroups(e).filter(function(r){return r.status===n})},t.prototype.getDataGroupNames=function(e){var n=this.getDataGroups(e);return n.map(function(r){return r.name})},t.prototype.getActiveDataGroupNames=function(e){var n=this.getActiveDataGroups(e);return n.map(function(r){return r.name})},t.prototype.aggregateBinDataByGroup=function(e){return b.groupBy(e,"group")},t.prototype.getBinConfigurations=function(){var e=this,n=this.getDisplayData(),r=this.getOptions(),a=this.services.cartesianScales.getMainXAxisPosition(),i=this.services.cartesianScales.getDomainIdentifier(),o=r.axes[a],s=r.data.groupMapsTo,u=o.bins,l=u===void 0?fd.defaultBins:u,c=Array.isArray(l),h=hP().value(function(v){return v[i]}).thresholds(l)(n);if(c)h[h.length-1].x1=l[l.length-1];else{var f=h[0].x1-h[0].x0;h[h.length-1].x1=+h[h.length-1].x0+f}var p=c?[l[0],l[l.length-1]]:[h[0].x0,h[h.length-1].x1],d=Array.from(new Set(n.map(function(v){return v[s]}))),m=[];return h.forEach(function(v){var _=v.x0+"-"+v.x1,g=e.aggregateBinDataByGroup(v);d.forEach(function(y){m.push({group:y,key:_,value:g[y]||0,bin:v.x0})})}),{bins:h,binsDomain:p}},t.prototype.getBinnedStackedData=function(){var e=this.getOptions(),n=e.data.groupMapsTo,r=this.getActiveDataGroupNames(),a=this.getBinConfigurations().bins,i=this.getDataValuesGroupedByKeys({bins:a});return $c().keys(r)(i).map(function(o,s){return Object.keys(o).filter(function(u){return!isNaN(u)}).map(function(u){var l=o[u];return l[n]=r[s],l})})},t.prototype.getGroupedData=function(e){var n=this.getDisplayData(e),r={},a=this.getOptions().data.groupMapsTo;return n.map(function(i){var o=i[a];r[o]!==null&&r[o]!==void 0?r[o].push(i):r[o]=[i]}),Object.keys(r).map(function(i){return{name:i,data:r[i]}})},t.prototype.getStackKeys=function(e){var n=this,r=e.bins,a=r===void 0?null:r,i=e.groups,o=i===void 0?null:i,s=this.getOptions(),u=this.getDisplayData(o),l;a?l=a.map(function(f){return f.x0+"-"+f.x1}):l=b.removeArrayDuplicates(u.map(function(f){var p=n.services.cartesianScales.getDomainIdentifier(f);return f[p]&&typeof f[p].toString=="function"?f[p].toString():f[p]}));var c=this.services.cartesianScales.domainAxisPosition,h=s.axes[c].scaleType;return h===et.TIME?l.sort(function(f,p){var d=new Date(f),m=new Date(p);return d-m}):(h===et.LOG||h===et.LINEAR)&&l.sort(function(f,p){return f-p}),l},t.prototype.getDataValuesGroupedByKeys=function(e){var n=this,r=e.bins,a=r===void 0?null:r,i=e.groups,o=i===void 0?null:i,s=this.getOptions(),u=s.data.groupMapsTo,l=this.getDisplayData(o),c=this.getDataGroupNames(),h=this.getStackKeys({bins:a,groups:o});return a?h.map(function(f){var p=f.split("-"),d=p[0],m=p[1],v={x0:d,x1:m},_=a.find(function(g){return g.x0.toString()===d.toString()});return c.forEach(function(g){v[g]=_.filter(function(y){return y[u]===g}).length}),v}):h.map(function(f){var p={sharedStackKey:f};return c.forEach(function(d){var m=l.find(function(_){var g=n.services.cartesianScales.getDomainIdentifier(_);return _[u]===d&&_.hasOwnProperty(g)&&_[g].toString()===f}),v=n.services.cartesianScales.getRangeIdentifier(p);p[d]=m?m[v]:null}),p})},t.prototype.getStackedData=function(e){var n=e.percentage,r=n===void 0?!1:n,a=e.groups,i=a===void 0?null:a,o=e.divergent,s=o===void 0?!1:o,u=this.getOptions(),l=u.data.groupMapsTo,c=this.getDataGroupNames(i),h=this.getDataValuesGroupedByKeys({groups:i});if(r){var f=b.fromPairs(h.map(function(d){return[d.sharedStackKey,0]}));h.forEach(function(d){c.forEach(function(m){f[d.sharedStackKey]+=d[m]})}),h.forEach(function(d){c.forEach(function(m){f[d.sharedStackKey]?d[m]=d[m]/f[d.sharedStackKey]*100:d[m]=0})})}var p=s?$c().offset(cL):$c();return p.keys(c)(h).map(function(d,m){return Object.keys(d).filter(function(v){return!isNaN(v)}).map(function(v){var _=d[v];return _[l]=c[m],_})})},t.prototype.getOptions=function(){return this.state.options},t.prototype.set=function(e,n){this.state=Object.assign({},this.state,e);var r=Object.assign({skipUpdate:!1,animate:!0},n);r.skipUpdate||this.update(r.animate)},t.prototype.get=function(e){return e?this.state[e]:this.state},t.prototype.setOptions=function(e){var n=this.getOptions();b.updateLegendAdditionalItems(n,e),this.set({options:b.merge(n,e)})},t.prototype.update=function(e){e===void 0&&(e=!0),!!this.getDisplayData()&&(this.updateAllDataGroups(),this.setCustomColorScale(),this.setColorClassNames(),this.services.events.dispatchEvent(P.Model.UPDATE,{animate:e}))},t.prototype.toggleDataLabel=function(e){var n=zt.items.status,r=n.ACTIVE,a=n.DISABLED,i=this.getDataGroups(),o=i.some(function(f){return f.status===a}),s=i.filter(function(f){return f.status===r});if(o)if(s.length===1&&s[0].name===e)i.forEach(function(f,p){i[p].status=r});else{var u=i.findIndex(function(f){return f.name===e});i[u].status=i[u].status===a?r:a}else i.forEach(function(f,p){i[p].status=f.name===e?r:a});var l=i.filter(function(f){return f.status===r}),c=this.getOptions(),h=i.some(function(f){return f.status===a});h?c.data.selectedGroups=l.map(function(f){return f.name}):c.data.selectedGroups=[],this.services.events.dispatchEvent(P.Legend.ITEMS_UPDATE,{dataGroups:i}),this.set({dataGroups:i})},t.prototype.getIsFilled=function(e,n,r,a){var i=this.getOptions();return i.getIsFilled?i.getIsFilled(e,n,r,a):a},t.prototype.getFillColor=function(e,n,r){var a=this.getOptions(),i=b.getProperty(this.colorScale,e);return a.getFillColor?a.getFillColor(e,n,r,i):i},t.prototype.getStrokeColor=function(e,n,r){var a=this.getOptions(),i=b.getProperty(this.colorScale,e);return a.getStrokeColor?a.getStrokeColor(e,n,r,i):i},t.prototype.isUserProvidedColorScaleValid=function(){var e=b.getProperty(this.getOptions(),"color","scale"),n=this.getDataGroups();return e==null||Object.keys(e).length==0?!1:n.some(function(r){return Object.keys(e).includes(r.name)})},t.prototype.getColorClassName=function(e){var n=this.colorClassNames(e.dataGroupName),r=e.originalClassName;return e.classNameTypes.forEach(function(a){return r=e.originalClassName?r+" "+a+"-"+n:a+"-"+n}),r},t.prototype.getStatus=function(){return null},t.prototype.getAllDataGroupsNames=function(){return this.allDataGroups},t.prototype.transformToTabularData=function(e){console.warn("We've updated the charting data format to be tabular by default. The current format you're using is deprecated and will be removed in v1.0, read more here https://carbon-design-system.github.io/carbon-charts/?path=/story/docs-tutorials--tabular-data-format");var n=[],r=e.datasets,a=e.labels;return r.forEach(function(i){i.data.forEach(function(o,s){var u,l=b.getProperty(i,"label");if(l===null){var c=b.getProperty(a,s);c?u=c:u="Ungrouped"}else u=l;var h={group:u,key:a[s]};isNaN(o)?(h.value=o.value,h.date=o.date):h.value=o,n.push(h)})}),n},t.prototype.getTabularDataArray=function(){return[]},t.prototype.exportToCSV=function(){var e=this.getTabularDataArray().map(function(a){return a.map(function(i){return'"'+i+'"'})}),n="",r="";e.forEach(function(a,i){r=a.join(","),n+=i<e.length?r+`
`:r}),this.services.files.downloadCSV(n,"myChart.csv")},t.prototype.getTabularData=function(e){return Array.isArray(e)?e:this.transformToTabularData(e)},t.prototype.sanitize=function(e){return e=this.getTabularData(e),e},t.prototype.updateAllDataGroups=function(){var e=this;this.allDataGroups?this.getDataGroupNames().forEach(function(n){e.allDataGroups.indexOf(n)===-1&&e.allDataGroups.push(n)}):this.allDataGroups=this.getDataGroupNames()},t.prototype.generateDataGroups=function(e){var n=this.getOptions().data.groupMapsTo,r=zt.items.status,a=r.ACTIVE,i=r.DISABLED,o=this.getOptions(),s=b.removeArrayDuplicates(e.map(function(c){return c[n]}));if(o.data.selectedGroups.length){var u=o.data.selectedGroups.every(function(c){return s.includes(c)});u||(o.data.selectedGroups=[])}var l=function(c){return!o.data.selectedGroups.length||o.data.selectedGroups.includes(c)?a:i};return s.map(function(c){return{name:c,status:l(c)}})},t.prototype.setCustomColorScale=function(){var e=this;if(!!this.isUserProvidedColorScaleValid()){var n=this.getOptions(),r=b.getProperty(n,"color","scale");Object.keys(r).forEach(function(i){e.allDataGroups.includes(i)||console.warn('"'+i+'" does not exist in data groups.')});var a=this.allDataGroups.filter(function(i){return r[i]});a.forEach(function(i){return e.colorScale[i]=r[i]})}},t.prototype.setColorClassNames=function(){var e=b.getProperty(this.getOptions(),"color","pairing"),n=b.getProperty(e,"numberOfVariants");(!n||n<this.allDataGroups.length)&&(n=this.allDataGroups.length);var r=b.getProperty(e,"option"),a=ul.pairingOptions,i=n>5?14:n;r=r<=a[i+"-color"]?r:1;var o=this.allDataGroups.map(function(s,u){return i+"-"+r+"-"+(u%14+1)});this.colorClassNames=Oo().range(o).domain(this.allDataGroups)},t}(),sn=function(){function t(e,n){this.model=e,this.services=n,this.init()}return t.prototype.init=function(){},t.prototype.update=function(){},t.prototype.setModel=function(e){this.model=e},t.prototype.setServices=function(e){this.services=e},t}(),fL={prefix:"bx",selectorTabbable:`
    a[href], area[href], input:not([disabled]):not([tabindex='-1']),
    button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
    textarea:not([disabled]):not([tabindex='-1']),
    iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]
  `,selectorFocusable:`
    a[href], area[href], input:not([disabled]),
    button:not([disabled]),select:not([disabled]),
    textarea:not([disabled]),
    iframe, object, embed, *[tabindex], *[contenteditable=true]
  `},hL=fL,jt=hL,Wg=function(){if(typeof Map!="undefined")return Map;function t(e,n){var r=-1;return e.some(function(a,i){return a[0]===n?(r=i,!0):!1}),r}return function(){function e(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},e.prototype.get=function(r){var a=t(this.__entries__,r),i=this.__entries__[a];return i&&i[1]},e.prototype.set=function(r,a){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=a:this.__entries__.push([r,a])},e.prototype.delete=function(r){var a=this.__entries__,i=t(a,r);~i&&a.splice(i,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,a){var i=this;a===void 0&&(a=null);for(var o=0,s=i.__entries__;o<s.length;o+=1){var u=s[o];r.call(a,u[1],u[0])}},Object.defineProperties(e.prototype,n),e}()}(),Gc=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,zo=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),dL=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(zo):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),pL=2,vL=function(t,e){var n=!1,r=!1,a=0;function i(){n&&(n=!1,t()),r&&s()}function o(){dL(i)}function s(){var u=Date.now();if(n){if(u-a<pL)return;r=!0}else n=!0,r=!1,setTimeout(o,e);a=u}return s},gL=20,mL=["top","right","bottom","left","width","height","size","weight"],yL=typeof MutationObserver!="undefined",Ce=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=vL(this.refresh.bind(this),gL)};Ce.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()};Ce.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()};Ce.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()};Ce.prototype.updateObservers_=function(){var t=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return t.forEach(function(e){return e.broadcastActive()}),t.length>0};Ce.prototype.connect_=function(){!Gc||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),yL?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};Ce.prototype.disconnect_=function(){!Gc||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)};Ce.prototype.onTransitionEnd_=function(t){var e=t.propertyName;e===void 0&&(e="");var n=mL.some(function(r){return!!~e.indexOf(r)});n&&this.refresh()};Ce.getInstance=function(){return this.instance_||(this.instance_=new Ce),this.instance_};Ce.instance_=null;var jg=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n+=1){var a=r[n];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},Fr=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||zo},Yg=jo(0,0,0,0);function Wo(t){return parseFloat(t)||0}function qg(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return e.reduce(function(r,a){var i=t["border-"+a+"-width"];return r+Wo(i)},0)}function _L(t){for(var e=["top","right","bottom","left"],n={},r=0,a=e;r<a.length;r+=1){var i=a[r],o=t["padding-"+i];n[i]=Wo(o)}return n}function bL(t){var e=t.getBBox();return jo(0,0,e.width,e.height)}function xL(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Yg;var r=Fr(t).getComputedStyle(t),a=_L(r),i=a.left+a.right,o=a.top+a.bottom,s=Wo(r.width),u=Wo(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+i)!==e&&(s-=qg(r,"left","right")+i),Math.round(u+o)!==n&&(u-=qg(r,"top","bottom")+o)),!OL(t)){var l=Math.round(s+i)-e,c=Math.round(u+o)-n;Math.abs(l)!==1&&(s-=l),Math.abs(c)!==1&&(u-=c)}return jo(a.left,a.top,s,u)}var wL=function(){return typeof SVGGraphicsElement!="undefined"?function(t){return t instanceof Fr(t).SVGGraphicsElement}:function(t){return t instanceof Fr(t).SVGElement&&typeof t.getBBox=="function"}}();function OL(t){return t===Fr(t).document.documentElement}function TL(t){return Gc?wL(t)?bL(t):xL(t):Yg}function SL(t){var e=t.x,n=t.y,r=t.width,a=t.height,i=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,o=Object.create(i.prototype);return jg(o,{x:e,y:n,width:r,height:a,top:n,right:e+r,bottom:a+n,left:e}),o}function jo(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Hc=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=jo(0,0,0,0),this.target=t};Hc.prototype.isActive=function(){var t=TL(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight};Hc.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var EL=function(t,e){var n=SL(e);jg(this,{target:t,contentRect:n})},wn=function(t,e,n){if(this.activeObservations_=[],this.observations_=new Wg,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n};wn.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof Fr(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new Hc(t)),this.controller_.addObserver(this),this.controller_.refresh())}};wn.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof Fr(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;!e.has(t)||(e.delete(t),e.size||this.controller_.removeObserver(this))}};wn.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)};wn.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})};wn.prototype.broadcastActive=function(){if(!!this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(n){return new EL(n.target,n.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}};wn.prototype.clearActive=function(){this.activeObservations_.splice(0)};wn.prototype.hasActive=function(){return this.activeObservations_.length>0};var Kg=typeof WeakMap!="undefined"?new WeakMap:new Wg,zc=function(t){if(!(this instanceof zc))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=Ce.getInstance(),n=new wn(t,e,this);Kg.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){zc.prototype[t]=function(){return(e=Kg.get(this))[t].apply(e,arguments);var e}});var ML=function(){return typeof zo.ResizeObserver!="undefined"?zo.ResizeObserver:zc}(),Xg={exports:{}};(function(t){(function(e){var n=y(),r=O(),a=x(),i=w(),o={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:u,toPng:c,toJpeg:h,toBlob:f,toPixelData:l,impl:{fontFaces:a,images:i,util:n,inliner:r,options:{}}};t.exports=s;function u(M,T){return T=T||{},p(T),Promise.resolve(M).then(function(C){return m(C,T.filter,!0)}).then(v).then(_).then(S).then(function(C){return g(C,T.width||n.width(M),T.height||n.height(M))});function S(C){return T.bgcolor&&(C.style.backgroundColor=T.bgcolor),T.width&&(C.style.width=T.width+"px"),T.height&&(C.style.height=T.height+"px"),T.style&&Object.keys(T.style).forEach(function(E){C.style[E]=T.style[E]}),C}}function l(M,T){return d(M,T||{}).then(function(S){return S.getContext("2d").getImageData(0,0,n.width(M),n.height(M)).data})}function c(M,T){return d(M,T||{}).then(function(S){return S.toDataURL()})}function h(M,T){return T=T||{},d(M,T).then(function(S){return S.toDataURL("image/jpeg",T.quality||1)})}function f(M,T){return d(M,T||{}).then(n.canvasToBlob)}function p(M){typeof M.imagePlaceholder=="undefined"?s.impl.options.imagePlaceholder=o.imagePlaceholder:s.impl.options.imagePlaceholder=M.imagePlaceholder,typeof M.cacheBust=="undefined"?s.impl.options.cacheBust=o.cacheBust:s.impl.options.cacheBust=M.cacheBust}function d(M,T){return u(M,T).then(n.makeImage).then(n.delay(100)).then(function(C){var E=S(M);return E.getContext("2d").drawImage(C,0,0),E});function S(C){var E=document.createElement("canvas");if(E.width=T.width||n.width(C),E.height=T.height||n.height(C),T.bgcolor){var R=E.getContext("2d");R.fillStyle=T.bgcolor,R.fillRect(0,0,E.width,E.height)}return E}}function m(M,T,S){if(!S&&T&&!T(M))return Promise.resolve();return Promise.resolve(M).then(C).then(function(L){return E(M,L,T)}).then(function(L){return R(M,L)});function C(L){return L instanceof HTMLCanvasElement?n.makeImage(L.toDataURL()):L.cloneNode(!1)}function E(L,N,A){var k=L.childNodes;if(k.length===0)return Promise.resolve(N);return I(N,n.asArray(k),A).then(function(){return N});function I(B,D,V){var G=Promise.resolve();return D.forEach(function(K){G=G.then(function(){return m(K,V)}).then(function(st){st&&B.appendChild(st)})}),G}}function R(L,N){if(!(N instanceof Element))return N;return Promise.resolve().then(A).then(k).then(I).then(B).then(function(){return N});function A(){D(window.getComputedStyle(L),N.style);function D(V,G){V.cssText?G.cssText=V.cssText:K(V,G);function K(st,tt){n.asArray(st).forEach(function(Y){tt.setProperty(Y,st.getPropertyValue(Y),st.getPropertyPriority(Y))})}}}function k(){[":before",":after"].forEach(function(V){D(V)});function D(V){var G=window.getComputedStyle(L,V),K=G.getPropertyValue("content");if(K===""||K==="none")return;var st=n.uid();N.className=N.className+" "+st;var tt=document.createElement("style");tt.appendChild(Y(st,V,G)),N.appendChild(tt);function Y(Q,J,ot){var j="."+Q+":"+J,Z=ot.cssText?ut(ot):H(ot);return document.createTextNode(j+"{"+Z+"}");function ut(dt){var lt=dt.getPropertyValue("content");return dt.cssText+" content: "+lt+";"}function H(dt){return n.asArray(dt).map(lt).join("; ")+";";function lt(mt){return mt+": "+dt.getPropertyValue(mt)+(dt.getPropertyPriority(mt)?" !important":"")}}}}}function I(){L instanceof HTMLTextAreaElement&&(N.innerHTML=L.value),L instanceof HTMLInputElement&&N.setAttribute("value",L.value)}function B(){N instanceof SVGElement&&(N.setAttribute("xmlns","http://www.w3.org/2000/svg"),N instanceof SVGRectElement&&["width","height"].forEach(function(D){var V=N.getAttribute(D);!V||N.style.setProperty(D,V)}))}}}function v(M){return a.resolveAll().then(function(T){var S=document.createElement("style");return M.appendChild(S),S.appendChild(document.createTextNode(T)),M})}function _(M){return i.inlineAll(M).then(function(){return M})}function g(M,T,S){return Promise.resolve(M).then(function(C){return C.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(C)}).then(n.escapeXhtml).then(function(C){return'<foreignObject x="0" y="0" width="100%" height="100%">'+C+"</foreignObject>"}).then(function(C){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+T+'" height="'+S+'">'+C+"</svg>"}).then(function(C){return"data:image/svg+xml;charset=utf-8,"+C})}function y(){return{escape:B,parseExtension:T,mimeType:S,dataAsUrl:I,isDataUrl:C,canvasToBlob:R,resolveUrl:L,getAndEncode:k,uid:N(),delay:D,asArray:V,escapeXhtml:G,makeImage:A,width:K,height:st};function M(){var Y="application/font-woff",Q="image/jpeg";return{woff:Y,woff2:Y,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Q,jpeg:Q,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function T(Y){var Q=/\.([^\.\/]*?)$/g.exec(Y);return Q?Q[1]:""}function S(Y){var Q=T(Y).toLowerCase();return M()[Q]||""}function C(Y){return Y.search(/^(data:)/)!==-1}function E(Y){return new Promise(function(Q){for(var J=window.atob(Y.toDataURL().split(",")[1]),ot=J.length,j=new Uint8Array(ot),Z=0;Z<ot;Z++)j[Z]=J.charCodeAt(Z);Q(new Blob([j],{type:"image/png"}))})}function R(Y){return Y.toBlob?new Promise(function(Q){Y.toBlob(Q)}):E(Y)}function L(Y,Q){var J=document.implementation.createHTMLDocument(),ot=J.createElement("base");J.head.appendChild(ot);var j=J.createElement("a");return J.body.appendChild(j),ot.href=Q,j.href=Y,j.href}function N(){var Y=0;return function(){return"u"+Q()+Y++;function Q(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function A(Y){return new Promise(function(Q,J){var ot=new Image;ot.onload=function(){Q(ot)},ot.onerror=J,ot.src=Y})}function k(Y){var Q=3e4;return s.impl.options.cacheBust&&(Y+=(/\?/.test(Y)?"&":"?")+new Date().getTime()),new Promise(function(J){var ot=new XMLHttpRequest;ot.onreadystatechange=ut,ot.ontimeout=H,ot.responseType="blob",ot.timeout=Q,ot.open("GET",Y,!0),ot.send();var j;if(s.impl.options.imagePlaceholder){var Z=s.impl.options.imagePlaceholder.split(/,/);Z&&Z[1]&&(j=Z[1])}function ut(){if(ot.readyState===4){if(ot.status!==200){j?J(j):dt("cannot fetch resource: "+Y+", status: "+ot.status);return}var lt=new FileReader;lt.onloadend=function(){var mt=lt.result.split(/,/)[1];J(mt)},lt.readAsDataURL(ot.response)}}function H(){j?J(j):dt("timeout of "+Q+"ms occured while fetching resource: "+Y)}function dt(lt){console.error(lt),J("")}})}function I(Y,Q){return"data:"+Q+";base64,"+Y}function B(Y){return Y.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function D(Y){return function(Q){return new Promise(function(J){setTimeout(function(){J(Q)},Y)})}}function V(Y){for(var Q=[],J=Y.length,ot=0;ot<J;ot++)Q.push(Y[ot]);return Q}function G(Y){return Y.replace(/#/g,"%23").replace(/\n/g,"%0A")}function K(Y){var Q=tt(Y,"border-left-width"),J=tt(Y,"border-right-width");return Y.scrollWidth+Q+J}function st(Y){var Q=tt(Y,"border-top-width"),J=tt(Y,"border-bottom-width");return Y.scrollHeight+Q+J}function tt(Y,Q){var J=window.getComputedStyle(Y).getPropertyValue(Q);return parseFloat(J.replace("px",""))}}function O(){var M=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:E,shouldProcess:T,impl:{readUrls:S,inline:C}};function T(R){return R.search(M)!==-1}function S(R){for(var L=[],N;(N=M.exec(R))!==null;)L.push(N[1]);return L.filter(function(A){return!n.isDataUrl(A)})}function C(R,L,N,A){return Promise.resolve(L).then(function(I){return N?n.resolveUrl(I,N):I}).then(A||n.getAndEncode).then(function(I){return n.dataAsUrl(I,n.mimeType(L))}).then(function(I){return R.replace(k(L),"$1"+I+"$3")});function k(I){return new RegExp(`(url\\(['"]?)(`+n.escape(I)+`)(['"]?\\))`,"g")}}function E(R,L,N){if(A())return Promise.resolve(R);return Promise.resolve(R).then(S).then(function(k){var I=Promise.resolve(R);return k.forEach(function(B){I=I.then(function(D){return C(D,B,L,N)})}),I});function A(){return!T(R)}}}function x(){return{resolveAll:M,impl:{readAll:T}};function M(){return T().then(function(S){return Promise.all(S.map(function(C){return C.resolve()}))}).then(function(S){return S.join(`
`)})}function T(){return Promise.resolve(n.asArray(document.styleSheets)).then(C).then(S).then(function(R){return R.map(E)});function S(R){return R.filter(function(L){return L.type===CSSRule.FONT_FACE_RULE}).filter(function(L){return r.shouldProcess(L.style.getPropertyValue("src"))})}function C(R){var L=[];return R.forEach(function(N){try{n.asArray(N.cssRules||[]).forEach(L.push.bind(L))}catch(A){console.log("Error while reading CSS rules from "+N.href,A.toString())}}),L}function E(R){return{resolve:function(){var N=(R.parentStyleSheet||{}).href;return r.inlineAll(R.cssText,N)},src:function(){return R.style.getPropertyValue("src")}}}}}function w(){return{inlineAll:T,impl:{newImage:M}};function M(S){return{inline:C};function C(E){return n.isDataUrl(S.src)?Promise.resolve():Promise.resolve(S.src).then(E||n.getAndEncode).then(function(R){return n.dataAsUrl(R,n.mimeType(S.src))}).then(function(R){return new Promise(function(L,N){S.onload=L,S.onerror=N,S.src=R})})}}function T(S){if(!(S instanceof Element))return Promise.resolve(S);return C(S).then(function(){return S instanceof HTMLImageElement?M(S).inline():Promise.all(n.asArray(S.childNodes).map(function(E){return T(E)}))});function C(E){var R=E.style.getPropertyValue("background");return R?r.inlineAll(R).then(function(L){E.style.setProperty("background",L,E.style.getPropertyPriority("background"))}).then(function(){return E}):Promise.resolve(E)}}}})()})(Xg);var Zg=Xg.exports,CL=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qg="DONT_STYLE_ME_css_styles_verifier",F=function(t){CL(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.chartID=Math.floor((1+Math.random())*281474976710656).toString(16),a}return e.getHTMLElementSize=function(n){return{width:n.clientWidth,height:n.clientHeight}},e.getSVGElementSize=function(n,r){r===void 0&&(r={useAttrs:!1,useClientDimensions:!1,useBBox:!1,useBoundingRect:!1}),n.attr||(n=U(n));var a={width:0,height:0},i=function(p){p&&Object.keys(a).forEach(function(d){if(p[d]){var m=p[d],v=parseFloat(m);m&&v>a[d]&&(""+m).indexOf("%")===-1&&(a[d]=v)}})},o={width:n.attr("width"),height:n.attr("height")},s,u,l,c;try{s=n.node().getBBox(),u={width:s.width,height:s.height}}catch{}try{l=n.node().getBoundingClientRect(),c={width:l.width,height:l.height}}catch{}var h={width:n.node().clientWidth,height:n.node().clientHeight};if(r){if(r.useAttrs&&(i(o),a.width>0&&a.height>0))return a;if(r.useClientDimensions&&(i(h),a.width>0&&a.height>0))return h;if(r.useBBox&&(i(u),a.width>0&&a.height>0))return u;if(r.useBoundingRect&&(i(c),a.width>0&&a.height>0))return c}try{var f={width:b.getProperty(n.node(),"width","baseVal","value"),height:b.getProperty(n.node(),"height","baseVal","value")};i(f)}catch{i(h),i(u),i(o)}return a},e.appendOrSelect=function(n,r){var a=n.select(""+r);if(a.empty()){var i=r.split("#"),o=void 0,s=void 0;return i.length===2?(o=i[0],i=i[1].split("."),s=i[0]):(i=r.split("."),o=i[0]),n.append(o).attr("id",s).attr("class",i.slice(1).join(" "))}return a},e.prototype.init=function(){this.styleHolderElement(),this.addMainContainer(),this.verifyCSSStylesBeingApplied(),this.model.getOptions().resizable&&this.addResizeListener(),this.addHolderListeners(),this.handleFullscreenChange()},e.prototype.getChartID=function(){return this.chartID},e.prototype.generateElementIDString=function(n){return"chart-"+this.chartID+"-"+n},e.prototype.addMainContainer=function(){var n=this.model.getOptions(),r=b.getProperty(n,"style","prefix"),a=U(this.getHolder()).append("div").classed(jt.prefix+"--"+r+"--chart-wrapper",!0).style("height","100%").style("width","100%");a.append("g").attr("class",Qg),this.mainContainer=a.node()},e.prototype.update=function(){this.styleHolderElement()},e.prototype.styleHolderElement=function(){var n=this.getHolder();U(this.getHolder()).classed(jt.prefix+"--chart-holder",!0);var r=this.model.getOptions(),a=r.width,i=r.height;a!==this.width&&(n.style.width=a,this.width=a),i!==this.height&&(n.style.height=i,this.height=i)},e.prototype.getHolder=function(){return this.model.get("holder")},e.prototype.exportToJPG=function(){var n=this,r=this.getHolder(),a=U(r);a.classed("filled",!0),Zg.toJpeg(this.getMainContainer(),{bgcolor:typeof window!="undefined"?window.getComputedStyle(r).getPropertyValue("background-color"):void 0,quality:1,filter:function(i){return!(i.classList&&i.classList.contains("bx--cc--toolbar"))}}).then(function(i){n.services.files.downloadImage(i,"myChart.jpg"),a.classed("filled",!1)})},e.prototype.exportToPNG=function(){var n=this,r=this.getHolder(),a=U(r);a.classed("filled",!0),Zg.toPng(this.getMainContainer(),{bgcolor:typeof window!="undefined"?window.getComputedStyle(r).getPropertyValue("background-color"):void 0,quality:1,filter:function(i){return!(i.classList&&i.classList.contains("bx--cc--toolbar"))}}).then(function(i){n.services.files.downloadImage(i,"myChart.png"),a.classed("filled",!1)}).catch(function(i){console.error("oops, something went wrong!",i)})},e.prototype.toggleFullscreen=function(){var n=this.getHolder(),r=U(n),a=r.classed("fullscreen");a&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen()},e.prototype.handleFullscreenChange=function(){var n=this;document.addEventListener("fullscreenchange",function(){var r=U(n.getHolder()),a=r.classed("fullscreen");r.classed("fullscreen",!a)})},e.prototype.verifyCSSStylesBeingApplied=function(){var n=this;setTimeout(function(){var r=U(n.mainContainer).select("g."+Qg).node(),a=getComputedStyle(r);(a.getPropertyValue("overflow")!=="hidden"||a.getPropertyValue("opacity")!=="0")&&console.error("Missing CSS styles for Carbon Charts. Please read the Carbon Charts getting started guide.")})},e.prototype.setSVGMaxHeight=function(){if(!this.model.getOptions().height){var n=e.getSVGElementSize(U(this.mainContainer),{useBBox:!0}).height,r=U(this.mainContainer).attr("class"),a=U(this.mainContainer).selectAll("."+r+" > svg"),i=0;a.nodes().forEach(function(o){i+=Number(e.getSVGElementSize(U(o),{useBBox:!0}).height)}),i<=n?U(this.mainContainer).attr("height",i):U(this.mainContainer).attr("height","100%")}},e.prototype.getMainContainer=function(){return this.mainContainer},e.prototype.addHolderListeners=function(){var n=this,r=this.getHolder();!r||U(r).on("mouseover",function(){n.services.events.dispatchEvent(P.Chart.MOUSEOVER)}).on("mouseout",function(){n.services.events.dispatchEvent(P.Chart.MOUSEOUT)})},e.prototype.addResizeListener=function(){var n=this,r=this.getHolder();if(!!r){var a=r.clientWidth,i=r.clientHeight,o=b.debounce(function(u,l){!r||(Math.abs(a-r.clientWidth)>1||Math.abs(i-r.clientHeight)>1)&&(a=r.clientWidth,i=r.clientHeight,n.services.events.dispatchEvent(P.Chart.RESIZE))},12.5),s=new ML(o);s.observe(r)}},e}(sn),AL=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),PL=function(t){AL(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){this.documentFragment=document.createDocumentFragment()},e.prototype.addEventListener=function(n,r){this.documentFragment.addEventListener(n,r)},e.prototype.removeEventListener=function(n,r){this.documentFragment.removeEventListener(n,r)},e.prototype.dispatchEvent=function(n,r){var a;r?a=new CustomEvent(n,{detail:r}):(a=document.createEvent("Event"),a.initEvent(n,!1,!0)),this.documentFragment.dispatchEvent(a)},e}(sn),DL=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),LL=function(t){DL(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.downloadCSV=function(n,r,a){var i=document.createElement("a");if(a="text/csv;encoding:utf-8",navigator.msSaveBlob)navigator.msSaveBlob(new Blob([n],{type:a}),r);else if(URL&&"download"in i){var o=URL.createObjectURL(new Blob([n],{type:a}));i.href=o,i.setAttribute("download",r),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}else location.href="data:application/octet-stream,"+encodeURIComponent(n)},e.prototype.downloadImage=function(n,r){var a=document.createElement("a");a.download=r,a.href=n,document.body.appendChild(a),a.click(),document.body.removeChild(a)},e}(sn),kL=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RL=function(t){kL(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingTransitions={},n}return e.prototype.init=function(){var n=this;this.services.events.addEventListener(P.Model.UPDATE,function(){n.pendingTransitions={}})},e.prototype.setupTransition=function(n){var r=this,a=n.transition,i=n.name,o=n.animate;return this.pendingTransitions[a._id]=a,a.on("end interrupt cancel",function(){delete r.pendingTransitions[a._id]}),this.model.getOptions().animations===!1||o===!1?a.duration(0):a.duration(b.getProperty(cl,i,"duration")||cl.default.duration)},e.prototype.getPendingTransitions=function(){return this.pendingTransitions},e}(sn),IL=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wc=function(t){IL(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.appendOrUpdateLinearGradient=function(n){var r=n.svg.select("defs linearGradient#"+n.id);r.empty()&&(r=n.svg.append("defs").append("linearGradient").attr("id",n.id).attr("x1",n.x1).attr("x2",n.x2).attr("y1",n.y1).attr("y2",n.y2)),r.selectAll("stop").remove(),r.selectAll("stop").data(n.stops).enter().append("stop").attr("offset",function(a){return a.offset}).style("stop-color",function(a){return a.color}).style("stop-opacity",function(a){return a.opacity})},e.getOffsetRatio=function(n){var r=(Math.abs(n[1])*100/Math.abs(n[0]-n[1])).toFixed(2)+"%";return r},e.getStops=function(n,r){var a=n[0]<0&&n[1]>0,i=[{offset:"0%",color:r,opacity:"0.6"},{offset:"80%",color:r,opacity:"0"}];return a&&(i=[{offset:"0%",color:r,opacity:"0.6"},{offset:e.getOffsetRatio(n),color:r,opacity:"0"},{offset:"100%",color:r,opacity:"0.6"}]),i},e}(sn);function xt(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Pt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Jg(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=xt(t),r=Pt(e);return n.setDate(n.getDate()+r),n}function Yo(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=xt(t).getTime(),r=Pt(e);return new Date(n+r)}var NL=36e5;function tm(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Pt(e);return Yo(t,n*NL)}var em=6e4;function jc(t){var e=new Date(t.getTime()),n=Math.ceil(e.getTimezoneOffset());e.setSeconds(0,0);var r=e.getTime()%em;return n*em+r}function nm(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=xt(t);return e.setHours(0,0,0,0),e}var BL=864e5;function UL(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=nm(t),r=nm(e),a=n.getTime()-jc(n),i=r.getTime()-jc(r);return Math.round((a-i)/BL)}var FL=6e4;function Yc(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Pt(e);return Yo(t,n*FL)}function VL(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=xt(t),n=e.getFullYear(),r=e.getMonth(),a=new Date(0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function qc(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=xt(t),r=Pt(e),a=n.getMonth()+r,i=new Date(0);i.setFullYear(n.getFullYear(),a,1),i.setHours(0,0,0,0);var o=VL(i);return n.setMonth(a,Math.min(o,n.getDate())),n}function Kc(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Pt(e);return Yo(t,n*1e3)}function rm(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Pt(e);return qc(t,n*12)}function Vr(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=xt(t),r=xt(e),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function $L(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=xt(t);return!isNaN(e)}function GL(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=xt(t),r=xt(e),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function HL(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=xt(t),r=xt(e);return n.getFullYear()-r.getFullYear()}function zL(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=xt(t),r=xt(e),a=Vr(n,r),i=Math.abs(UL(n,r));n.setDate(n.getDate()-a*i);var o=Vr(n,r)===-a,s=a*(i-o);return s===0?0:s}function Xc(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=xt(t),r=xt(e);return n.getTime()-r.getTime()}var WL=36e5;function jL(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Xc(t,e)/WL;return n>0?Math.floor(n):Math.ceil(n)}var YL=6e4;function am(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Xc(t,e)/YL;return n>0?Math.floor(n):Math.ceil(n)}function qL(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=xt(t),r=xt(e),a=Vr(n,r),i=Math.abs(GL(n,r));n.setMonth(n.getMonth()-a*i);var o=Vr(n,r)===-a,s=a*(i-o);return s===0?0:s}function im(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Xc(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}function KL(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=xt(t),r=xt(e),a=Vr(n,r),i=Math.abs(HL(n,r));n.setFullYear(n.getFullYear()-a*i);var o=Vr(n,r)===-a,s=a*(i-o);return s===0?0:s}var qo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function XL(t,e,n){n=n||{};var r;return typeof qo[t]=="string"?r=qo[t]:e===1?r=qo[t].one:r=qo[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r}function Zc(t){return function(e){var n=e||{},r=n.width?String(n.width):t.defaultWidth,a=t.formats[r]||t.formats[t.defaultWidth];return a}}var ZL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},QL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tk={date:Zc({formats:ZL,defaultWidth:"full"}),time:Zc({formats:QL,defaultWidth:"full"}),dateTime:Zc({formats:JL,defaultWidth:"full"})},ek=tk,nk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function rk(t,e,n,r){return nk[t]}function ai(t){return function(e,n){var r=n||{},a=r.context?String(r.context):"standalone",i;if(a==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=r.width?String(r.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var u=t.defaultWidth,l=r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[u]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var ak={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ik={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ok={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function ck(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"}var fk={ordinalNumber:ck,era:ai({values:ak,defaultWidth:"wide"}),quarter:ai({values:ik,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:ai({values:ok,defaultWidth:"wide"}),day:ai({values:sk,defaultWidth:"wide"}),dayPeriod:ai({values:uk,defaultWidth:"wide",formattingValues:lk,defaultFormattingWidth:"wide"})},hk=fk;function dk(t){return function(e,n){var r=String(e),a=n||{},i=r.match(t.matchPattern);if(!i)return null;var o=i[0],s=r.match(t.parsePattern);if(!s)return null;var u=t.valueCallback?t.valueCallback(s[0]):s[0];return u=a.valueCallback?a.valueCallback(u):u,{value:u,rest:r.slice(o.length)}}}function ii(t){return function(e,n){var r=String(e),a=n||{},i=a.width,o=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=r.match(o);if(!s)return null;var u=s[0],l=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],c;return Object.prototype.toString.call(l)==="[object Array]"?c=vk(l,function(h){return h.test(r)}):c=pk(l,function(h){return h.test(r)}),c=t.valueCallback?t.valueCallback(c):c,c=a.valueCallback?a.valueCallback(c):c,{value:c,rest:r.slice(u.length)}}}function pk(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function vk(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}var gk=/^(\d+)(th|st|nd|rd)?/i,mk=/\d+/i,yk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_k={any:[/^b/i,/^(a|c)/i]},bk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xk={any:[/1/i,/2/i,/3/i,/4/i]},wk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ok={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ek={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ck={ordinalNumber:dk({matchPattern:gk,parsePattern:mk,valueCallback:function(t){return parseInt(t,10)}}),era:ii({matchPatterns:yk,defaultMatchWidth:"wide",parsePatterns:_k,defaultParseWidth:"any"}),quarter:ii({matchPatterns:bk,defaultMatchWidth:"wide",parsePatterns:xk,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ii({matchPatterns:wk,defaultMatchWidth:"wide",parsePatterns:Ok,defaultParseWidth:"any"}),day:ii({matchPatterns:Tk,defaultMatchWidth:"wide",parsePatterns:Sk,defaultParseWidth:"any"}),dayPeriod:ii({matchPatterns:Ek,defaultMatchWidth:"any",parsePatterns:Mk,defaultParseWidth:"any"})},Ak=Ck,Pk={code:"en-US",formatDistance:XL,formatLong:ek,formatRelative:rk,localize:hk,match:Ak,options:{weekStartsOn:0,firstWeekContainsDate:1}},Dk=Pk;function Lk(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Pt(e);return Yo(t,-n)}function bt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var kk={y:function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return bt(e==="yy"?r%100:r,e.length)},M:function(t,e){var n=t.getUTCMonth();return e==="M"?String(n+1):bt(n+1,2)},d:function(t,e){return bt(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,e){return bt(t.getUTCHours()%12||12,e.length)},H:function(t,e){return bt(t.getUTCHours(),e.length)},m:function(t,e){return bt(t.getUTCMinutes(),e.length)},s:function(t,e){return bt(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,r=t.getUTCMilliseconds(),a=Math.floor(r*Math.pow(10,n-3));return bt(a,e.length)}},On=kk,Rk=864e5;function Ik(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=xt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),a=n-r;return Math.floor(a/Rk)+1}function Ko(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=1,n=xt(t),r=n.getUTCDay(),a=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function om(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=xt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=Ko(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=Ko(i);return e.getTime()>=a.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Nk(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=om(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Ko(n);return r}var Bk=6048e5;function Uk(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=xt(t),n=Ko(e).getTime()-Nk(e).getTime();return Math.round(n/Bk)+1}function Xo(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},r=n.locale,a=r&&r.options&&r.options.weekStartsOn,i=a==null?0:Pt(a),o=n.weekStartsOn==null?i:Pt(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=xt(t),u=s.getUTCDay(),l=(u<o?7:0)+u-o;return s.setUTCDate(s.getUTCDate()-l),s.setUTCHours(0,0,0,0),s}function sm(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=xt(t,e),r=n.getUTCFullYear(),a=e||{},i=a.locale,o=i&&i.options&&i.options.firstWeekContainsDate,s=o==null?1:Pt(o),u=a.firstWeekContainsDate==null?s:Pt(a.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(r+1,0,u),l.setUTCHours(0,0,0,0);var c=Xo(l,e),h=new Date(0);h.setUTCFullYear(r,0,u),h.setUTCHours(0,0,0,0);var f=Xo(h,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function Fk(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},r=n.locale,a=r&&r.options&&r.options.firstWeekContainsDate,i=a==null?1:Pt(a),o=n.firstWeekContainsDate==null?i:Pt(n.firstWeekContainsDate),s=sm(t,e),u=new Date(0);u.setUTCFullYear(s,0,o),u.setUTCHours(0,0,0,0);var l=Xo(u,e);return l}var Vk=6048e5;function $k(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=xt(t),r=Xo(n,e).getTime()-Fk(n,e).getTime();return Math.round(r/Vk)+1}var $r={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gk={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){var r=t.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return On.y(t,e)},Y:function(t,e,n,r){var a=sm(t,r),i=a>0?a:1-a;if(e==="YY"){var o=i%100;return bt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):bt(i,e.length)},R:function(t,e){var n=om(t);return bt(n,e.length)},u:function(t,e){var n=t.getUTCFullYear();return bt(n,e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return On.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var a=$k(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):bt(a,e.length)},I:function(t,e,n){var r=Uk(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):On.d(t,e)},D:function(t,e,n){var r=Ik(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):bt(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var a=t.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return bt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var a=t.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return bt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return bt(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours(),a=r/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r=t.getUTCHours(),a;switch(r===12?a=$r.noon:r===0?a=$r.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r=t.getUTCHours(),a;switch(r>=17?a=$r.evening:r>=12?a=$r.afternoon:r>=4?a=$r.morning:a=$r.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){var r=t.getUTCHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return On.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):On.H(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):On.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):On.s(t,e)},S:function(t,e){return On.S(t,e)},X:function(t,e,n,r){var a=r._originalDate||t,i=a.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return lm(i);case"XXXX":case"XX":return rr(i);case"XXXXX":case"XXX":default:return rr(i,":")}},x:function(t,e,n,r){var a=r._originalDate||t,i=a.getTimezoneOffset();switch(e){case"x":return lm(i);case"xxxx":case"xx":return rr(i);case"xxxxx":case"xxx":default:return rr(i,":")}},O:function(t,e,n,r){var a=r._originalDate||t,i=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+um(i,":");case"OOOO":default:return"GMT"+rr(i,":")}},z:function(t,e,n,r){var a=r._originalDate||t,i=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+um(i,":");case"zzzz":default:return"GMT"+rr(i,":")}},t:function(t,e,n,r){var a=r._originalDate||t,i=Math.floor(a.getTime()/1e3);return bt(i,e.length)},T:function(t,e,n,r){var a=r._originalDate||t,i=a.getTime();return bt(i,e.length)}};function um(t,e){var n=t>0?"-":"+",r=Math.abs(t),a=Math.floor(r/60),i=r%60;if(i===0)return n+String(a);var o=e||"";return n+String(a)+o+bt(i,2)}function lm(t,e){if(t%60==0){var n=t>0?"-":"+";return n+bt(Math.abs(t)/60,2)}return rr(t,e)}function rr(t,e){var n=e||"",r=t>0?"-":"+",a=Math.abs(t),i=bt(Math.floor(a/60),2),o=bt(a%60,2);return r+i+n+o}var Hk=Gk;function cm(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function fm(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}function zk(t,e){var n=t.match(/(P+)(p+)?/),r=n[1],a=n[2];if(!a)return cm(t,e);var i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",cm(r,e)).replace("{{time}}",fm(a,e))}var Wk={p:fm,P:zk},jk=Wk,Yk=["D","DD"],qk=["YY","YYYY"];function Kk(t){return Yk.indexOf(t)!==-1}function Xk(t){return qk.indexOf(t)!==-1}function hm(t){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr");if(t==="YY")throw new RangeError("Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr");if(t==="D")throw new RangeError("Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr");if(t==="DD")throw new RangeError("Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr")}var Zk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jk=/^'([^]*?)'?$/,tR=/''/g,eR=/[a-zA-Z]/;function oi(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=String(e),a=n||{},i=a.locale||Dk,o=i.options&&i.options.firstWeekContainsDate,s=o==null?1:Pt(o),u=a.firstWeekContainsDate==null?s:Pt(a.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=i.options&&i.options.weekStartsOn,c=l==null?0:Pt(l),h=a.weekStartsOn==null?c:Pt(a.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var f=xt(t);if(!$L(f))throw new RangeError("Invalid time value");var p=jc(f),d=Lk(f,p),m={firstWeekContainsDate:u,weekStartsOn:h,locale:i,_originalDate:f},v=r.match(Qk).map(function(_){var g=_[0];if(g==="p"||g==="P"){var y=jk[g];return y(_,i.formatLong,m)}return _}).join("").match(Zk).map(function(_){if(_==="''")return"'";var g=_[0];if(g==="'")return nR(_);var y=Hk[g];if(y)return!a.useAdditionalWeekYearTokens&&Xk(_)&&hm(_),!a.useAdditionalDayOfYearTokens&&Kk(_)&&hm(_),y(d,_,i.localize,m);if(g.match(eR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return _}).join("");return v}function nR(t){return t.match(Jk)[1].replace(tR,"'")}function rR(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Pt(e);return Jg(t,-n)}function aR(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Pt(e);return tm(t,-n)}function dm(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Pt(e);return Yc(t,-n)}function iR(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Pt(e);return qc(t,-n)}function pm(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Pt(e);return Kc(t,-n)}function oR(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Pt(e);return rm(t,-n)}var sR=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),uR=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},lR=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},cR=function(t){sR(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scaleTypes={top:null,right:null,bottom:null,left:null},n.scales={top:null,right:null,bottom:null,left:null},n}return e.prototype.getDomainAxisPosition=function(n){var r=(n===void 0?{}:n).datum,a=r===void 0?null:r,i;if(this.dualAxes&&a){var o=this.model.getOptions(),s=o.data.groupMapsTo,u=b.getProperty(o,"axes",this.secondaryDomainAxisPosition),l=a[s];if(((i=u)===null||i===void 0?void 0:i.correspondingDatasets)&&u.correspondingDatasets.includes(l))return this.secondaryDomainAxisPosition}return this.domainAxisPosition},e.prototype.getRangeAxisPosition=function(n){var r=n===void 0?{}:n,a=r.datum,i=a===void 0?null:a,o=r.groups,s=o===void 0?null:o,u;if(this.dualAxes){var l=this.model.getOptions(),c=l.data.groupMapsTo,h=b.getProperty(l,"axes",this.secondaryRangeAxisPosition),f=void 0;if(i!==null?f=i[c]:s&&s.length>0&&(f=s[0]),((u=h)===null||u===void 0?void 0:u.correspondingDatasets)&&h.correspondingDatasets.includes(f))return this.secondaryRangeAxisPosition}return this.rangeAxisPosition},e.prototype.getAxisOptions=function(n){return b.getProperty(this.model.getOptions(),"axes",n)},e.prototype.getDomainAxisOptions=function(){var n=this.getDomainAxisPosition();return this.getAxisOptions(n)},e.prototype.getRangeAxisOptions=function(){var n=this.getRangeAxisPosition();return this.getAxisOptions(n)},e.prototype.getScaleLabel=function(n){var r=this.getAxisOptions(n),a=r.title;return a||(n===W.BOTTOM||n===W.TOP?"x-value":"y-value")},e.prototype.getDomainLabel=function(){return this.getScaleLabel(this.getDomainAxisPosition())},e.prototype.getRangeLabel=function(){return this.getScaleLabel(this.getRangeAxisPosition())},e.prototype.update=function(n){var r=this;this.determineAxisDuality(),this.findDomainAndRangeAxes(),this.determineOrientation();var a=Object.keys(W).map(function(i){return W[i]});a.forEach(function(i){r.scales[i]=r.createScale(i)})},e.prototype.findDomainAndRangeAxes=function(){var n=this.findVerticalAxesPositions(),r=this.findHorizontalAxesPositions(),a=this.findDomainAndRangeAxesPositions(n,r);this.domainAxisPosition=a.primaryDomainAxisPosition,this.rangeAxisPosition=a.primaryRangeAxisPosition,this.isDualAxes()&&(this.secondaryDomainAxisPosition=a.secondaryDomainAxisPosition,this.secondaryRangeAxisPosition=a.secondaryRangeAxisPosition)},e.prototype.determineOrientation=function(){(this.rangeAxisPosition===W.LEFT||this.rangeAxisPosition===W.RIGHT)&&(this.domainAxisPosition===W.BOTTOM||this.domainAxisPosition===W.TOP)?this.orientation=Ft.VERTICAL:this.orientation=Ft.HORIZONTAL},e.prototype.isDualAxes=function(){return this.dualAxes},e.prototype.determineAxisDuality=function(){var n,r,a,i,o=this.model.getOptions(),s=b.getProperty(o,"axes");(((n=s[W.LEFT])===null||n===void 0?void 0:n.correspondingDatasets)&&s[W.RIGHT]||((r=s[W.RIGHT])===null||r===void 0?void 0:r.correspondingDatasets)&&s[W.LEFT]||((a=s[W.TOP])===null||a===void 0?void 0:a.correspondingDatasets)&&s[W.BOTTOM]||((i=s[W.BOTTOM])===null||i===void 0?void 0:i.correspondingDatasets)&&s[W.TOP])&&(this.dualAxes=!0)},e.prototype.getOrientation=function(){return this.orientation},e.prototype.getScaleByPosition=function(n){return this.scales[n]},e.prototype.getScaleTypeByPosition=function(n){return this.scaleTypes[n]},e.prototype.getDomainAxisScaleType=function(){var n=this.getDomainAxisPosition();return this.getScaleTypeByPosition(n)},e.prototype.getRangeAxisScaleType=function(){var n=this.getRangeAxisPosition();return this.getScaleTypeByPosition(n)},e.prototype.getDomainScale=function(){return this.scales[this.domainAxisPosition]},e.prototype.getRangeScale=function(){return this.scales[this.rangeAxisPosition]},e.prototype.getMainXAxisPosition=function(){var n=[W.BOTTOM,W.TOP];return[this.domainAxisPosition,this.rangeAxisPosition].find(function(r){return n.indexOf(r)>-1})},e.prototype.getMainYAxisPosition=function(){var n=[W.LEFT,W.RIGHT];return[this.domainAxisPosition,this.rangeAxisPosition].find(function(r){return n.indexOf(r)>-1})},e.prototype.getMainXScale=function(){return this.scales[this.getMainXAxisPosition()]},e.prototype.getMainYScale=function(){return this.scales[this.getMainYAxisPosition()]},e.prototype.getValueFromScale=function(n,r,a,i,o){var s=this.model.getOptions(),u=b.getProperty(s,"axes"),l=u[a],c=l.mapsTo,h=b.getProperty(i,c)!==null?i[c]:i,f;switch(r){case et.LABELS:f=n(h)+n.step()/2;break;case et.TIME:f=n(new Date(h));break;default:f=n(h)}return f},e.prototype.getBoundedScaledValues=function(n,r){var a=this.model.getOptions().bounds,i=this.scales[this.rangeAxisPosition],o=this.model.getOptions(),s=b.getProperty(o,"axes"),u=s[this.rangeAxisPosition],l=u.mapsTo,c=n[l]!==void 0?n[l]:n,h=[i(b.getProperty(n,a.upperBoundMapsTo)!==null?n[a.upperBoundMapsTo]:c),i(b.getProperty(n,a.lowerBoundMapsTo)!==null?n[a.lowerBoundMapsTo]:c)];return h},e.prototype.getValueThroughAxisPosition=function(n,r,a){var i=this.scaleTypes[n],o=this.scales[n];return this.getValueFromScale(o,i,n,r,a)},e.prototype.getDomainValue=function(n,r){var a=this.getDomainAxisPosition({datum:n});return this.getValueThroughAxisPosition(a,n,r)},e.prototype.getRangeValue=function(n,r){var a=this.getRangeAxisPosition({datum:n});return this.getValueThroughAxisPosition(a,n,r)},e.prototype.getMainXScaleType=function(){return this.getScaleTypeByPosition(this.getMainXAxisPosition())},e.prototype.getMainYScaleType=function(){return this.getScaleTypeByPosition(this.getMainYAxisPosition())},e.prototype.getDomainIdentifier=function(n){var r=this.model.getOptions();return b.getProperty(r,"axes",this.getDomainAxisPosition({datum:n}),"mapsTo")},e.prototype.getRangeIdentifier=function(n){var r=this.model.getOptions();return b.getProperty(r,"axes",this.getRangeAxisPosition({datum:n}),"mapsTo")},e.prototype.extendsDomain=function(n,r){var a=this.model.getOptions(),i=b.getProperty(a,"axes",n);if(i.scaleType===et.TIME){var o=b.getProperty(a,"timeScale","addSpaceOnEdges");return fR(r,o)}else return hR(r,Vn.paddingRatio,i.scaleType)},e.prototype.findVerticalAxesPositions=function(){var n=this.model.getOptions(),r=b.getProperty(n,"axes"),a=this.isDualAxes();return b.getProperty(r,W.LEFT)===null&&b.getProperty(r,W.RIGHT)!==null||b.getProperty(r,W.RIGHT,"main")===!0||a&&b.getProperty(r,W.LEFT,"correspondingDatasets")?{primary:W.RIGHT,secondary:W.LEFT}:{primary:W.LEFT,secondary:W.RIGHT}},e.prototype.findHorizontalAxesPositions=function(){var n=this.model.getOptions(),r=b.getProperty(n,"axes"),a=this.isDualAxes();return b.getProperty(r,W.BOTTOM)===null&&b.getProperty(r,W.TOP)!==null||b.getProperty(r,W.TOP,"main")===!0||a&&b.getProperty(r,W.BOTTOM,"correspondingDatasets")?{primary:W.TOP,secondary:W.BOTTOM}:{primary:W.BOTTOM,secondary:W.TOP}},e.prototype.findDomainAndRangeAxesPositions=function(n,r){var a=this.model.getOptions(),i=b.getProperty(a,"axes",n.primary),o=b.getProperty(a,"axes",r.primary),s=i.scaleType||et.LINEAR,u=o.scaleType||et.LINEAR,l={primaryDomainAxisPosition:null,secondaryDomainAxisPosition:null,primaryRangeAxisPosition:null,secondaryRangeAxisPosition:null};return l.primaryDomainAxisPosition=r.primary,l.primaryRangeAxisPosition=n.primary,l.secondaryDomainAxisPosition=r.secondary,l.secondaryRangeAxisPosition=n.secondary,(!(u===et.LABELS||u===et.TIME)&&s===et.LABELS||s===et.TIME)&&(l.primaryDomainAxisPosition=n.primary,l.primaryRangeAxisPosition=r.primary,l.secondaryDomainAxisPosition=n.secondary,l.secondaryRangeAxisPosition=r.secondary),l},e.prototype.getScaleDomain=function(n){var r=this.model.getOptions(),a=b.getProperty(r,"axes",n),i=b.getProperty(r,"bounds"),o=a.includeZero,s=b.getProperty(a,"scaleType")||et.LINEAR;if(this.model.isDataEmpty())return[];if(a.binned){var u=this.model.getBinConfigurations().bins;return[0,Xn(u,function(S){return S.length})]}else if(a.limitDomainToBins){var u=this.model.getBinConfigurations().bins,l=this.model.getStackKeys({bins:u});return[l[0].split("-")[0],l[l.length-1].split("-")[1]]}var c=this.model.getDisplayData(),h=a.extendLinearDomainBy,f=a.mapsTo,p=a.percentage,d=a.thresholds,m=Vn.ratio,v=m.reference,_=m.compareTo;if(a.domain)return s===et.LABELS?a.domain:(s===et.TIME&&(a.domain=a.domain.map(function(S){return S.getTime===void 0?new Date(S):S})),this.extendsDomain(n,a.domain));if(p)return[0,100];if(a&&s===et.LABELS)return b.removeArrayDuplicates(c.map(function(S){return S[f]}));var g,y,O=this.model.getDataGroupNames();if(s===et.LABELS_RATIO)return c.map(function(S){return S[v]+"/"+S[_]});if(s===et.TIME)y=c.map(function(S){return+new Date(S[f])});else if(i&&r.axes)y=[],c.forEach(function(S){y.push(S[f]),S[i.upperBoundMapsTo]&&y.push(S[i.upperBoundMapsTo]),S[i.lowerBoundMapsTo]&&y.push(S[i.lowerBoundMapsTo])});else if(a.stacked===!0&&O&&n===this.getRangeAxisPosition()){var x=r.data.groupMapsTo,w=this.model.getDataValuesGroupedByKeys({groups:O}),M=c.filter(function(S){return!O.includes(S[x])}),T=[];w.forEach(function(S){S.sharedStackKey;var C=uR(S,["sharedStackKey"]),E=0,R=0;Object.values(C).forEach(function(L){isNaN(L)||(L<0?R+=L:E+=L)}),T.push([R,E])}),y=lR(b.flatten(T),M.map(function(S){return S[f]}))}else y=[],c.forEach(function(S){var C=S[f];Array.isArray(C)&&C.length===2?(y.push(C[0]),y.push(C[1])):(h&&y.push(Math.max(S[f],S[h])),y.push(C))});return s!==et.TIME&&s!==et.LOG&&o&&y.push(0),d&&d.length>0&&d.forEach(function(S){var C=b.getProperty(S,"value");C!==null&&y.push(C)}),g=en(y),g=this.extendsDomain(n,g),g},e.prototype.createScale=function(n){var r=this.model.getOptions(),a=b.getProperty(r,"axes",n);if(!a)return null;var i=b.getProperty(a,"scaleType")||et.LINEAR;this.scaleTypes[n]=i;var o;return i===et.TIME?o=wg():i===et.LOG?o=Zv().base(a.base||10):i===et.LABELS||i===et.LABELS_RATIO?o=To():o=bn(),o.domain(this.getScaleDomain(n)),o},e.prototype.getHighestDomainThreshold=function(){var n=b.getProperty(this.model.getOptions(),"axes"),r=this.getDomainAxisPosition(),a=n[r].thresholds;if(!a)return null;var i=this.getDomainScale(),o=a.sort(function(u,l){return l.value-u.value})[0],s=this.getScaleTypeByPosition(r);return s===et.TIME&&(typeof o.value=="string"||o.value.getTime===void 0)&&(o.value=new Date(o.value)),{threshold:o,scaleValue:i(o.value)}},e.prototype.getHighestRangeThreshold=function(){var n=b.getProperty(this.model.getOptions(),"axes"),r=this.getRangeAxisPosition(),a=n[r].thresholds;if(!a)return null;var i=this.getRangeScale(),o=a.sort(function(s,u){return u.value-s.value})[0];return{threshold:o,scaleValue:i(o.value)}},e}(sn);function fR(t,e){var n=new Date(t[0]),r=new Date(t[1]);return KL(r,n)>1?[oR(n,e),rm(r,e)]:qL(r,n)>1?[iR(n,e),qc(r,e)]:zL(r,n)>1?[rR(n,e),Jg(r,e)]:jL(r,n)>1?[aR(n,e),tm(r,e)]:am(r,n)>30?[dm(n,e*30),Yc(r,e*30)]:am(r,n)>1?[dm(n,e),Yc(r,e)]:im(r,n)>15?[pm(n,e*15),Kc(r,e*15)]:im(r,n)>1?[pm(n,e),Kc(r,e)]:[n,r]}function hR(t,e,n){var r=t[0],a=t[1],i=a-r,o=i*e,s=a<=0&&a+o>0?0:a+o,u=r>=0&&r-o<0?0:r-o;if(n===et.LOG&&u<=0){if(r<=0)throw Error("Data must have values greater than 0 if log scale type is used.");u=r}return[u,s]}var dR=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pR=function(t){dR(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.curveTypes={curveLinear:No,curveLinearClosed:Ig,curveBasis:j2,curveBasisClosed:Y2,curveBasisOpen:q2,curveBundle:K2,curveCardinal:X2,curveCardinalClosed:Z2,curveCardinalOpen:Q2,curveCatmullRom:J2,curveCatmullRomClosed:tL,curveCatmullRomOpen:eL,curveMonotoneX:nL,curveMonotoneY:rL,curveNatural:aL,curveStep:iL,curveStepAfter:sL,curveStepBefore:oL},n}return e.prototype.getD3Curve=function(){var n="curveLinear",r=this.model.getOptions().curve;if(r&&(typeof r=="string"?n=r:n=r.name),this.curveTypes[n]){var a=this.curveTypes[n];return r&&Object.keys(r).forEach(function(i){a[i]&&(a=a[i](r[i]))}),a}return console.warn("The curve type '"+n+"' is invalid, using 'curveLinear' instead"),this.curveTypes.curveLinear},e}(sn),vR=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gR=function(t){vR(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.isZoomBarEnabled=function(){if(!this.services.cartesianScales||!b.getProperty(this.model.getOptions(),"zoomBar","top","enabled"))return!1;this.services.cartesianScales.findDomainAndRangeAxes();var n=this.services.cartesianScales.getMainXAxisPosition(),r=b.getProperty(this.model.getOptions(),"axes",n,"scaleType");return n===W.BOTTOM&&r===et.TIME},e.prototype.getZoomBarData=function(){var n=this.model.getZoomBarData();return n&&n.length>1?n:this.model.getDisplayData()},e.prototype.getDefaultZoomBarDomain=function(n){var r=n||this.services.zoom.getZoomBarData(),a=this.services.cartesianScales,i=a.getMainXAxisPosition(),o=a.getDomainIdentifier();return a.extendsDomain(i,en(r,function(s){return s[o]}))},e.prototype.handleDomainChange=function(n,r){r===void 0&&(r={dispatchEvent:!0}),this.model.set({zoomDomain:n},{animate:!1}),r.dispatchEvent&&this.services.events.dispatchEvent(P.ZoomDomain.CHANGE,{newDomain:n})},e.prototype.getZoomRatio=function(){return b.getProperty(this.model.getOptions(),"zoomBar","zoomRatio")},e.prototype.filterDataForRangeAxis=function(n,r){var a=this.model.get("zoomDomain"),i=Object.assign({stacked:!1},r),o=b.getProperty(this.model.getOptions(),"zoomBar","updateRangeAxis");if(this.isZoomBarEnabled()&&o&&a){var s=i.stacked?"sharedStackKey":this.services.cartesianScales.getDomainIdentifier(),u=n.filter(function(l){return new Date(l[s])>=a[0]&&new Date(l[s])<=a[1]});if(u.length>0)return u}return n},e.prototype.zoomIn=function(n){n===void 0&&(n=this.getZoomRatio());var r=this.model.get("zoomDomain"),a=se.handleWidth,i=this.services.cartesianScales.getMainXScale().copy();i.domain(this.getDefaultZoomBarDomain());var o=i(r[0]),s=i(r[1]);if(!(s-o<a+1)){var u=i.range(),l=s-o,c=Math.min((u[1]-u[0])/2*(n/2),l/2),h=o+c,f=s-c;h>=f&&(h=o+l/2-a/2,f=s-l/2+a/2);var p=[i.invert(h),i.invert(f)];(r[0].valueOf()!==p[0].valueOf()||r[1].valueOf()!==p[1].valueOf())&&this.handleDomainChange(p)}},e.prototype.zoomOut=function(n){n===void 0&&(n=this.getZoomRatio());var r=this.model.get("zoomDomain"),a=this.services.cartesianScales.getMainXScale().copy();a.domain(this.getDefaultZoomBarDomain());var i=a(r[0]),o=a(r[1]),s=a.range(),u=(s[1]-s[0])/2*(n/2),l=Math.max(i-u,s[0]),c=Math.min(o+u,s[1]),h=[a.invert(l),a.invert(c)];(r[0].valueOf()!==h[0].valueOf()||r[1].valueOf()!==h[1].valueOf())&&this.handleDomainChange(h)},e.prototype.resetZoomDomain=function(){var n=this.model.get("zoomDomain"),r=this.getDefaultZoomBarDomain();(n[0].valueOf()!==r[0].valueOf()||n[1].valueOf()!==r[1].valueOf())&&this.handleDomainChange(r)},e.prototype.isMinZoomDomain=function(){var n=this.model.get("zoomDomain"),r=this.getDefaultZoomBarDomain();if(!n||!r)return!1;var a=n[1].valueOf()-n[0].valueOf(),i=r[1].valueOf()-r[0].valueOf(),o=b.getProperty(this.model.getOptions(),"zoomBar","minZoomRatio");return a/i<o},e.prototype.isMaxZoomDomain=function(){var n=this.model.get("zoomDomain"),r=this.getDefaultZoomBarDomain();return!!(n&&r&&n[0].valueOf()===r[0].valueOf()&&n[1].valueOf()===r[1].valueOf())},e.prototype.isEmptyState=function(){return this.getZoomBarData().length===0},e.prototype.isZoomBarLoading=function(n){return b.getProperty(this.model.getOptions(),"zoomBar",n,"loading")},e.prototype.isZoomBarLocked=function(n){return b.getProperty(this.model.getOptions(),"zoomBar",n,"locked")},e}(sn),mR=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yR=function(t){mR(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.zoomIn=function(n,r,a){var i,o,s,u=a||Or;n&&(i=n.x,o=n.y,s=2);var l=F.getSVGElementSize(this.services.domUtils.getHolder(),{useClientDimensions:!0}),c=l.width,h=l.height;r.transition().duration(u.duration).ease(u.ease).attr("transform","translate("+c/2+", "+h/2+") scale("+s+") translate("+-i+","+-o+")"),this.services.events.dispatchEvent(P.CanvasZoom.CANVAS_ZOOM_IN,{element:U(n)})},e.prototype.zoomOut=function(n,r){var a=r||Or;n.transition().duration(a.duration).ease(a.ease).attr("transform",""),this.services.events.dispatchEvent(P.CanvasZoom.CANVAS_ZOOM_OUT)},e}(sn),vt=function(){function t(e,n,r){if(this.renderType=at.HTML,this.configs={},this.model=e,this.services=n,r&&(this.configs=r,this.configs.id)){var a=b.getProperty(this.model.getOptions(),"style","prefix");this.id=a+"--"+this.configs.id}this.parent||this.setParent(U(this.services.domUtils.getMainContainer()))}return t.prototype.init=function(){},t.prototype.render=function(e){console.error("render() method is not implemented")},t.prototype.destroy=function(){},t.prototype.setModel=function(e){this.model=e},t.prototype.setServices=function(e){this.services=e},t.prototype.setParent=function(e){var n=this.parent;if(this.parent=e,!(n&&n.node()===e.node())&&this.type){var r=b.getProperty(this.model.getOptions(),"style","prefix");this.parent.classed(jt.prefix+"--"+r+"--"+this.type,!0),n&&n.classed(jt.prefix+"--"+r+"--"+this.type,!1)}},t.prototype.getParent=function(){return this.parent},t.prototype.getComponentContainer=function(e){if(e===void 0&&(e={withinChartClip:!1}),this.type){var n=b.getProperty(this.model.getOptions(),"style","prefix"),r=this.id?"#"+this.id:"",a=F.appendOrSelect(this.parent,""+(this.renderType===at.SVG?"svg":"div")+r+"."+jt.prefix+"--"+n+"--"+this.type);if(e.withinChartClip){var i=this.model.get("chartClipId");if(i){var o=U("#"+i),s=o.select("rect");s.size()!==0&&parseFloat(s.attr("height"))>0&&a.attr("clip-path","url(#"+i+")")}}return a.attr("width","100%").attr("height","100%")}return this.parent},t.prototype.getOptions=function(){if(this.configs.options){var e=b.merge({},this.model.getOptions(),this.configs.options);return e}return this.model.getOptions()},t}(),_R=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vm=function(t){_R(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="legend",n.renderType=at.HTML,n}return e.prototype.render=function(){var n=this,r=this.getOptions(),a=b.getProperty(r,"legend"),i=b.getProperty(a,"alignment"),o=b.getProperty(r,"legend","orientation"),s=this.model.getDataGroups(),u=zt.items.status.DISABLED,l=s.some(function(T){return T.status===u}),c=b.getProperty(a,"order"),h=this.getComponentContainer().classed("center-aligned",i===Ht.CENTER).classed("right-aligned",i===Ht.RIGHT).classed(o,!0).classed("has-deactivated-items",l).attr("role",ct.GROUP).attr("aria-label","Data groups").attr("data-name","legend-items");c&&(s=this.sortDataGroups(s,c));var f=h.selectAll("div.legend-item").data(s,function(T){return T.name}),p=f.enter().append("div").attr("class","legend-item");p.merge(h.selectAll("div.legend-item")).classed("active",function(T,S){return T.status===zt.items.status.ACTIVE});var d=b.getProperty(this.getOptions(),"legend","clickable");h.classed("clickable",d&&s.length>1);var m=zt.checkbox.radius,v=p.append("div").classed("checkbox",!0),_=v.merge(f.select("div.checkbox")).attr("role",ct.CHECKBOX).attr("tabindex",d?0:-1).attr("aria-labelledby",function(T,S){return n.services.domUtils.generateElementIDString("legend-datagroup-"+S+"-title")}).attr("aria-checked",function(T){var S=T.status;return S===zt.items.status.ACTIVE}).attr("width",m*2).attr("height",m*2).attr("class",function(T,S){return n.model.getColorClassName({classNameTypes:[rt.BACKGROUND],dataGroupName:T.name,originalClassName:"checkbox"})}).style("background",function(T){return T.status===zt.items.status.ACTIVE?n.model.getFillColor(T.name)||n.model.getStrokeColor(T.name):null}).classed("active",function(T,S){return T.status===zt.items.status.ACTIVE});v.append("svg").attr("focusable",!1).attr("preserveAspectRatio","xMidYMid meet").attr("xmlns","http://www.w3.org/2000/svg").attr("width","11").attr("height","11").attr("viewBox","0 0 31 28").attr("aria-hidden",!0).style("will-change","transform").append("path").attr("d","M13 21.2l-7.1-7.1-1.4 1.4 7.1 7.1L13 24 27.1 9.9l-1.4-1.5z"),p.append("p").merge(f.select("p"));var g=b.getProperty(r,"legend","additionalItems");if(g&&s.length){var y=this,O=h.selectAll("div.additional-item").data(g);O.exit().remove();var x=O.enter().append("div").merge(O).classed("legend-item",!0).classed("additional",!0).attr("aria-labelledby",function(T,S){return n.services.domUtils.generateElementIDString("legend-datagroup-"+(_.size()+S)+"-title")});x.selectAll("*").remove();var w,M=1;x.append("svg").classed("icon",!0).each(function(T,S){var C=U(this);!w||w!=T.type?(w=T.type,M=1):M++,y.addAdditionalItem(C,T,M)}),x.append("p").merge(x.select("p")),this.truncateLegendText()}f.exit().on("mouseover",null).on("click",null).on("mouseout",null).remove(),d&&p.size()>1&&this.addEventListeners()},e.prototype.sortDataGroups=function(n,r){if(n.sort(function(o,s){return r.indexOf(o.name)-r.indexOf(s.name)}),r.length<n.length){var a=n.length-r.length,i=n.slice(a);return i.concat(n.slice(0,a))}return n},e.prototype.addAdditionalItem=function(n,r,a){var i=zt.area,o=i.width,s=i.height;if(r.type===Ut.RADIUS?n.style("width",s+"px").style("height",s+"px"):n.style("width",o+"px").style("height",s+"px"),r.type===Ut.RADIUS){var u=zt.radius,l=u.iconData,c=u.fill,h=u.stroke,f=n.attr("fill","none").selectAll("circle").data(l).enter();f.append("circle").classed("radius",!0).attr("role",ct.IMG).attr("aria-label","radius").attr("cx",function(O){return O.cx}).attr("cy",function(O){return O.cy}).attr("r",function(O){return O.r}).style("fill",r.fill?r.fill:c).style("stroke",r.stroke?r.stroke:h)}else if(r.type===Ut.LINE){var p=zt.line;n.select("line.line").empty()&&n.append("line").classed("line-"+a,!0).attr("role",ct.IMG).attr("aria-label","line").attr("x1",0).attr("y1",p.yPosition).attr("x2",o).attr("y2",p.yPosition).style("stroke",r.stroke?r.stroke:p.stroke).style("stroke-width",p.strokeWidth)}else if(r.type===Ut.AREA)n.select("rect.area").empty()&&n.append("rect").classed("area-"+a,!0).attr("role",ct.IMG).attr("aria-label","area").attr("width",o).attr("height",s).style("fill",a>3&&!r.fill?zt.area.fill:r.fill).style("stroke",r.stroke);else if(r.type===Ut.SIZE){var d=zt.size,l=d.iconData,c=d.fill,h=d.stroke,m=n.attr("fill","none").attr("role",ct.IMG).attr("aria-label","size").selectAll("rect").data(l).enter();m.append("rect").classed("size",!0).attr("width",function(M){return M.width}).attr("height",function(M){return M.height}).attr("y",function(M){return 0}).style("fill",r.fill?r.fill:c).style("stroke",r.stroke?r.stroke:h).style("stroke-width",1)}else if(r.type===Ut.QUARTILE){var l=zt.quartile.iconData,v=n.selectAll("rect").attr("role",ct.IMG).attr("aria-label","quartile").data(l).enter();v.append("rect").attr("class",function(x,w){return"quartile-"+(w===0?"wrapper":"line")}).attr("x",function(x){return x.x}).attr("y",function(x){return x.y}).attr("width",function(x){return x.width}).attr("height",function(x){return x.height})}else if(r.type===Ut.ZOOM){var _=b.getProperty(pv,"legend","zoom"),l=_.iconData,g=_.color,y=n.attr("role",ct.IMG).attr("aria-label","zoom").selectAll("g.icon").data(l).enter();y.append("g").attr("x",function(x){return x.x}).attr("y",function(x){return x.y}).attr("width",function(x){return x.width}).attr("height",function(x){return x.height}).append("polygon").attr("points","7.7 4.82 5.78 4.82 5.78 2.89 4.82 2.89 4.82 4.82 2.89 4.82 2.89 5.78 4.82 5.78 4.82 7.7 5.78 7.7 5.78 5.78 7.7 5.78 7.7 4.82").attr("fill",function(x){return r.color?r.color:g}),y.append("path").attr("d","M9.36,8.67A5.22,5.22,0,0,0,10.59,5.3,5.3,5.3,0,1,0,5.3,10.59,5.22,5.22,0,0,0,8.67,9.36L12.32,13l.68-.68Zm-4.06,1A4.34,4.34,0,1,1,9.63,5.3,4.33,4.33,0,0,1,5.3,9.63Z").attr("fill",function(x){return r.color?r.color:g})}},e.prototype.truncateLegendText=function(){var n=this.getComponentContainer(),r=b.getProperty(this.getOptions(),"legend","truncation"),a=b.getProperty(r,"type"),i=b.getProperty(r,"threshold"),o=b.getProperty(r,"numCharacter"),s=n.selectAll("div.legend-item p");s.attr("id",function(u,l){var c=this.parentNode.querySelector("div.checkbox")||this.parentNode;return c.getAttribute("aria-labelledby")}),a!==Qe.NONE?s.html(function(u){return u.name.length>i?b.truncateLabel(u.name,a,o):u.name}):s.html(function(u){return u.name})},e.prototype.addEventListeners=function(){var n=this,r=this.getComponentContainer(),a=this.getOptions(),i=b.getProperty(a,"legend"),o=b.getProperty(i,"truncation","threshold");r.selectAll("div.legend-item").on("mouseover",function(s){n.services.events.dispatchEvent(P.Legend.ITEM_HOVER,{hoveredElement:U(this)});var u=U(this);u.select("div.checkbox").classed("hovered",!0);var l=u.datum();l.name.length>o&&n.services.events.dispatchEvent(P.Tooltip.SHOW,{event:s,hoveredElement:u,content:l.name})}).on("mousemove",function(s){n.services.events.dispatchEvent(P.Tooltip.MOVE,{event:s})}).on("click",function(){n.services.events.dispatchEvent(P.Legend.ITEM_CLICK,{clickedElement:U(this)});var s=U(this),u=s.datum();n.model.toggleDataLabel(u.name)}).on("mouseout",function(){var s=U(this);s.select("div.checkbox").classed("hovered",!1),n.services.events.dispatchEvent(P.Tooltip.HIDE),n.services.events.dispatchEvent(P.Legend.ITEM_MOUSEOUT,{hoveredElement:s})}),r.selectAll("div.legend-item div.checkbox").on("keyup",function(s){s.key&&s.key==="Tab"&&n.services.events.dispatchEvent(P.Legend.ITEM_HOVER,{hoveredElement:U(this)})}),r.selectAll("div.legend-item div.checkbox").on("keydown",function(s,u){s.key&&s.key===" "?(s.preventDefault(),n.model.toggleDataLabel(u.name)):s.key&&s.key==="Tab"&&n.services.events.dispatchEvent(P.Legend.ITEM_MOUSEOUT,{hoveredElement:U(this)})}),r.selectAll("g.additional-item").on("mouseover",function(s){var u=U(this),l=u.datum();l.name.length>o&&n.services.events.dispatchEvent(P.Tooltip.SHOW,{event:s,hoveredElement:u,content:l.name})})},e}(vt);function bR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xR(t){return SR(t)||TR(t)||OR(t)||wR()}function wR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OR(t,e){if(!!t){if(typeof t=="string")return Qc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qc(t,e)}}function TR(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SR(t){if(Array.isArray(t))return Qc(t)}function Qc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gm(t){return t.reduce(function(e,n){return Array.isArray(n)?e.push.apply(e,xR(gm(n))):e.push(n),e},[])}function ER(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return gm(e).reduce(function(r,a){return a(r)},function(){function r(){bR(this,r)}return r}())}function Zo(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zo=function(n){return typeof n}:Zo=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zo(t)}function MR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CR(t,e,n){return e&&mm(t.prototype,e),n&&mm(t,n),t}function AR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jc(t,e)}function Jc(t,e){return Jc=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Jc(t,e)}function PR(t){var e=LR();return function(){var r=Qo(t),a;if(e){var i=Qo(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return DR(this,a)}}function DR(t,e){return e&&(Zo(e)==="object"||typeof e=="function")?e:ym(t)}function ym(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LR(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qo(t){return Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Qo(t)}function kR(t){var e=function(n){AR(a,n);var r=PR(a);function a(i){var o,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(MR(this,a),o=r.call(this,i,s),o.children=[],!i||i.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");return o.element=i,o.options=Object.assign(Object.create(o.constructor.options),s),o.constructor.components.set(o.element,ym(o)),o}return CR(a,[{key:"release",value:function(){for(var o=this.children.pop();o;o=this.children.pop())o.release();return this.constructor.components.delete(this.element),null}}],[{key:"create",value:function(o,s){return this.components.get(o)||new this(o,s)}}]),a}(t);return e}function Jo(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jo=function(n){return typeof n}:Jo=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Jo(t)}function RR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IR(t,e,n){return e&&_m(t.prototype,e),n&&_m(t,n),t}function ts(t,e,n){return typeof Reflect!="undefined"&&Reflect.get?ts=Reflect.get:ts=function(a,i,o){var s=NR(a,i);if(!!s){var u=Object.getOwnPropertyDescriptor(s,i);return u.get?u.get.call(o):u.value}},ts(t,e,n||t)}function NR(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Gr(t),t!==null););return t}function BR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tf(t,e)}function tf(t,e){return tf=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},tf(t,e)}function UR(t){var e=$R();return function(){var r=Gr(t),a;if(e){var i=Gr(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return FR(this,a)}}function FR(t,e){return e&&(Jo(e)==="object"||typeof e=="function")?e:VR(t)}function VR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $R(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gr(t){return Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Gr(t)}function GR(t){var e=function(n){BR(a,n);var r=UR(a);function a(){var i;RR(this,a);for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return i=r.call.apply(r,[this].concat(s)),i.handles=new Set,i}return IR(a,[{key:"manage",value:function(o){return this.handles.add(o),o}},{key:"unmanage",value:function(o){return this.handles.delete(o),o}},{key:"release",value:function(){var o=this;return this.handles.forEach(function(s){s.release(),o.handles.delete(s)}),ts(Gr(a.prototype),"release",this).call(this)}}]),a}(t);return e}function si(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.addEventListener.apply(t,n),{release:function(){return t.removeEventListener.apply(t,n),null}}}function es(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?es=function(n){return typeof n}:es=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},es(t)}function HR(t){return YR(t)||jR(t)||WR(t)||zR()}function zR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WR(t,e){if(!!t){if(typeof t=="string")return ef(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(t,e)}}function jR(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YR(t){if(Array.isArray(t))return ef(t)}function ef(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KR(t,e,n){return e&&bm(t.prototype,e),n&&bm(t,n),t}function XR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nf(t,e)}function nf(t,e){return nf=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},nf(t,e)}function ZR(t){var e=tI();return function(){var r=ns(t),a;if(e){var i=ns(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return QR(this,a)}}function QR(t,e){return e&&(es(e)==="object"||typeof e=="function")?e:JR(t)}function JR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ns(t){return ns=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ns(t)}function eI(t){var e=function(n){XR(a,n);var r=ZR(a);function a(){return qR(this,a),r.apply(this,arguments)}return KR(a,[{key:"_changeState",value:function(){throw new Error("_changeState() should be overriden to perform actual change in state.")}},{key:"changeState",value:function(){for(var o=this,s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var c=typeof u[0]=="string"?u.shift():void 0,h=Object(u[0])===u[0]&&typeof u[0]!="function"?u.shift():void 0,f=typeof u[0]=="function"?u.shift():void 0;if(typeof this.shouldStateBeChanged=="function"&&!this.shouldStateBeChanged(c,h)){f&&f(null,!0);return}var p={group:h&&h.group,state:c},d=[p.group,c].filter(Boolean).join("-").split("-").map(function(O){return O[0].toUpperCase()+O.substr(1)}).join(""),m=new CustomEvent(this.options["eventBefore".concat(d)],{bubbles:!0,cancelable:!0,detail:h}),v=h&&h.delegatorNode||this.element,_=!v.dispatchEvent(m);if(_){if(f){var g=new Error("Changing state (".concat(JSON.stringify(p),") has been canceled."));g.canceled=!0,f(g)}}else{var y=[c,h].filter(Boolean);this._changeState.apply(this,HR(y).concat([function(){v.dispatchEvent(new CustomEvent(o.options["eventAfter".concat(d)],{bubbles:!0,cancelable:!0,detail:h})),f&&f()}]))}}}]),a}(t);return e}function rf(t,e){var n=t.target,r=t.currentTarget;if(typeof n.matches=="function"){if(n.matches(e))return n;if(n.matches("".concat(e," *"))){var a=n.closest(e);if((r.nodeType===Node.DOCUMENT_NODE?r.documentElement:r).contains(a))return a}}}function xm(t){if(!t||typeof t=="function")return{launchingElement:null,launchingEvent:null};var e=t.delegateTarget||t.currentTarget||t,n=t.currentTarget&&t;if(e&&!e.nodeType)throw new TypeError("DOM Node should be given for launching element.");if(n&&!n.type)throw new TypeError("DOM event should be given for launching event.");return{launchingElement:e,launchingEvent:n}}function rs(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(n){return typeof n}:rs=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rs(t)}function nI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rI(t,e,n){return e&&wm(t.prototype,e),n&&wm(t,n),t}function aI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&af(t,e)}function af(t,e){return af=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},af(t,e)}function iI(t){var e=uI();return function(){var r=as(t),a;if(e){var i=as(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return oI(this,a)}}function oI(t,e){return e&&(rs(e)==="object"||typeof e=="function")?e:sI(t)}function sI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function as(t){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},as(t)}function lI(t){var e=function(n){aI(a,n);var r=iI(a);function a(){return nI(this,a),r.apply(this,arguments)}return rI(a,[{key:"show",value:function(o,s){(!o||typeof o=="function")&&(s=o),this.changeState("shown",xm(o),s)}},{key:"hide",value:function(o,s){(!o||typeof o=="function")&&(s=o),this.changeState("hidden",xm(o),s)}}]),a}(t);return e}var cI=[eI,lI],fI=cI;function is(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?is=function(n){return typeof n}:is=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},is(t)}function hI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Om(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dI(t,e,n){return e&&Om(t.prototype,e),n&&Om(t,n),t}function pI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&of(t,e)}function of(t,e){return of=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},of(t,e)}function vI(t){var e=yI();return function(){var r=os(t),a;if(e){var i=os(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return gI(this,a)}}function gI(t,e){return e&&(is(e)==="object"||typeof e=="function")?e:mI(t)}function mI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function os(t){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},os(t)}function _I(t){var e=function(n){pI(a,n);var r=vI(a);function a(){return hI(this,a),r.apply(this,arguments)}return dI(a,null,[{key:"init",value:function(){var o=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=Object.assign(Object.create(this.options),u);if(!s||s.nodeType!==Node.ELEMENT_NODE&&s.nodeType!==Node.DOCUMENT_NODE)throw new TypeError("DOM document or DOM element should be given to search for and initialize this widget.");if(s.nodeType===Node.ELEMENT_NODE&&s.matches(l.selectorInit))this.create(s,u);else{var c=l.initEventNames.map(function(h){return si(s,h,function(f){var p=rf(f,"[".concat(l.attribInitTarget,"]"));if(p){f.delegateTarget=p;var d=p.ownerDocument.querySelectorAll(p.getAttribute(l.attribInitTarget));if(d.length>1)throw new Error("Target widget must be unique.");if(d.length===1){p.tagName==="A"&&f.preventDefault();var m=o.create(d[0],u);typeof m.createdByLauncher=="function"&&m.createdByLauncher(f)}}})});return{release:function(){for(var f=c.pop();f;f=c.pop())f.release()}}}return""}}]),a.forLazyInit=!0,a}(t);return e}function ss(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ss=function(n){return typeof n}:ss=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ss(t)}function bI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xI(t,e,n){return e&&Tm(t.prototype,e),n&&Tm(t,n),t}function wI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sf(t,e)}function sf(t,e){return sf=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},sf(t,e)}function OI(t){var e=EI();return function(){var r=us(t),a;if(e){var i=us(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return TI(this,a)}}function TI(t,e){return e&&(ss(e)==="object"||typeof e=="function")?e:SI(t)}function SI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function us(t){return us=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},us(t)}var MI=function(t){wI(n,t);var e=OI(n);function n(r,a){var i;return bI(this,n),i=e.call(this,r,a),i._handleFocusinListener=void 0,i._handleKeydownListener=void 0,i._handleFocusin=function(o){var s=i.element.querySelector(i.options.selectorModalContainer)||i.element;i.element.classList.contains(i.options.classVisible)&&!s.contains(o.target)&&i.options.selectorsFloatingMenus.every(function(u){return!rf(o,u)})&&i.element.querySelector(jt.selectorTabbable).focus()},i._hookCloseActions(),i}return xI(n,[{key:"createdByLauncher",value:function(a){this.show(a)}},{key:"shouldStateBeChanged",value:function(a){return a==="shown"?!this.element.classList.contains(this.options.classVisible):this.element.classList.contains(this.options.classVisible)}},{key:"_changeState",value:function(a,i,o){var s=this,u,l=function(){if(u&&(u=s.unmanage(u).release()),a==="shown"&&s.element.offsetWidth>0&&s.element.offsetHeight>0){s.previouslyFocusedNode=s.element.ownerDocument.activeElement;var p=s.element.querySelector(s.options.selectorPrimaryFocus)||s.element.querySelector(jt.selectorTabbable);p.focus()}o()};if(this._handleFocusinListener&&(this._handleFocusinListener=this.unmanage(this._handleFocusinListener).release()),a==="shown"){var c="onfocusin"in this.element.ownerDocument.defaultView,h=c?"focusin":"focus";this._handleFocusinListener=this.manage(si(this.element.ownerDocument,h,this._handleFocusin,!c))}a==="hidden"?(this.element.classList.toggle(this.options.classVisible,!1),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!1),(this.options.selectorFocusOnClose||this.previouslyFocusedNode)&&(this.element.ownerDocument.querySelector(this.options.selectorFocusOnClose)||this.previouslyFocusedNode).focus()):a==="shown"&&(this.element.classList.toggle(this.options.classVisible,!0),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!0)),u=this.manage(si(this.element,"transitionend",l))}},{key:"_hookCloseActions",value:function(){var a=this;this.manage(si(this.element,"click",function(i){var o=rf(i,a.options.selectorModalClose);o&&(i.delegateTarget=o),(o||i.target===a.element)&&a.hide(i)})),this._handleKeydownListener&&(this._handleKeydownListener=this.unmanage(this._handleKeydownListener).release()),this._handleKeydownListener=this.manage(si(this.element.ownerDocument.body,"keydown",function(i){i.which===27&&a.shouldStateBeChanged("hidden")&&(i.stopPropagation(),a.hide(i))}))}}],[{key:"options",get:function(){var a=jt.prefix;return{selectorInit:"[data-modal]",selectorModalClose:"[data-modal-close]",selectorPrimaryFocus:"[data-modal-primary-focus]",selectorsFloatingMenus:[".".concat(a,"--overflow-menu-options"),".".concat(a,"--tooltip"),".flatpickr-calendar"],selectorModalContainer:".".concat(a,"--modal-container"),classVisible:"is-visible",classBody:"".concat(a,"--body--with-modal-open"),attribInitTarget:"data-modal-target",initEventNames:["click"],eventBeforeShown:"modal-beingshown",eventAfterShown:"modal-shown",eventBeforeHidden:"modal-beinghidden",eventAfterHidden:"modal-hidden"}}}]),n.components=new WeakMap,n}(ER(kR,_I,fI,GR)),CI=MI,AI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sm=function(t){AI(e,t);function e(n,r,a){var i=t.call(this,n,r,a)||this;return i.type="modal",i.isEventListenerAdded=!1,i.handleShowModal=function(){i.modal.html(i.getModalHTML()),i.modal.select("div.bx--modal-footer button.bx--btn").on("click",function(){return i.model.exportToCSV()});var o=CI.create(i.modal.node());o.show()},i.handleHideModal=function(){},i.init(),i}return e.prototype.addEventListeners=function(){this.services.events.addEventListener(P.Modal.SHOW,this.handleShowModal),this.services.events.addEventListener(P.Modal.HIDE,this.handleHideModal)},e.prototype.removeEventListeners=function(){this.services.events.removeEventListener(P.Modal.SHOW,this.handleShowModal),this.services.events.removeEventListener(P.Modal.HIDE,this.handleHideModal)},e.prototype.getModalHTML=function(){var n=this.model.getOptions(),r=b.getProperty(n,"style","prefix"),a=this.model.getTabularDataArray();return`
		<div class="bx--modal-container">
			<div class="bx--modal-header">
				<p class="bx--modal-header__label bx--type-delta" id="modal-title">Tabular representation</p>
				<p class="bx--modal-header__heading bx--type-beta" id="modal-description">`+n.title+`</p>
				<button class="bx--modal-close" type="button" data-modal-close aria-label="close modal"  data-modal-primary-focus>
					<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" aria-label="Close" width="20" height="20" viewBox="0 0 32 32" role="img" class="bx--modal-close__icon">
						<path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"></path>
					</svg>
				</button>
			</div>
			<div class="bx--modal-content"><table class="bx--data-table bx--data-table--no-border">
					<thead>
						<tr>
							`+Ct(a,0).map(function(i){return`<th scope="col">
								<div class="bx--table-header-label">`+i+`</div>
							</th>`}).join("")+`
						</tr>
					</thead>
					<tbody>`+a.slice(1).map(function(i){return`
							<tr>
								`+i.map(function(o){return"<td>"+o+"</td>"}).join("")+`
							</tr>`}).join("")+`
					</tbody>
				</table>
			</div>
			<div class="bx--modal-footer">
			  <div class="`+jt.prefix+"--"+r+`-modal-footer-spacer"></div>
			  <button class="bx--btn bx--btn--primary" type="button" data-modal-primary-focus>Download as CSV</button>
			</div>
		</div>`},e.prototype.render=function(){var n=this.model.getOptions();if(!this.isEventListenerAdded){var r=U(this.services.domUtils.getHolder()),a=b.getProperty(n,"style","prefix");this.modal=F.appendOrSelect(r,"div."+jt.prefix+"--"+a+"--modal"),this.addEventListeners(),this.isEventListenerAdded=!0,this.modal.attr("data-modal",!0).attr("class","bx--modal").attr("role","dialog").attr("aria-modal",!0).attr("aria-labelledby","modal-title").attr("aria-describedby","modal-description").attr("tabindex",-1)}},e.prototype.destroy=function(){this.removeEventListeners(),this.isEventListenerAdded=!1},e}(vt),Hr,Yt;(function(t){t.LEFT="left",t.RIGHT="right",t.TOP="top",t.BOTTOM="bottom"})(Yt||(Yt={}));var Em=(Hr={},Hr[Yt.LEFT]=function(t,e,n){return{top:t.top-Math.round(e.offsetHeight/2)+Math.round(n.height/2),left:Math.round(t.left-e.offsetWidth)}},Hr[Yt.RIGHT]=function(t,e,n){return{top:t.top-Math.round(e.offsetHeight/2)+Math.round(n.height/2),left:Math.round(t.left+n.width)}},Hr[Yt.TOP]=function(t,e,n){return{top:Math.round(t.top-e.offsetHeight),left:t.left-Math.round(e.offsetWidth/2)+Math.round(n.width/2)}},Hr[Yt.BOTTOM]=function(t,e,n){return{top:Math.round(t.top+n.height),left:t.left-Math.round(e.offsetWidth/2)+Math.round(n.width/2)}},Hr),ls=typeof window!="undefined"?window:{innerHeight:0,scrollY:0,innerWidth:0,scrollX:0},cs=function(){function t(e){e===void 0&&(e={}),this.positions=Em,this.positions=Object.assign({},Em,e)}return t.prototype.getRelativeOffset=function(e){for(var n={left:e.offsetLeft,top:e.offsetTop};e.offsetParent&&getComputedStyle(e.offsetParent).position==="static";)n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent;return n},t.prototype.getAbsoluteOffset=function(e){for(var n=e,r={top:0,left:0};n.offsetParent;){var a=getComputedStyle(n.offsetParent);a.position==="static"&&a.marginLeft&&a.marginTop&&(parseInt(a.marginTop,10)&&(r.top+=parseInt(a.marginTop,10)),parseInt(a.marginLeft,10)&&(r.left+=parseInt(a.marginLeft,10))),n=n.offsetParent}var i=e.getBoundingClientRect(),o=document.body.getBoundingClientRect();return{top:i.top-o.top+r.top,left:i.left-o.left+r.left}},t.prototype.findRelative=function(e,n,r){var a=this.getRelativeOffset(e),i=e.getBoundingClientRect();return this.calculatePosition(a,i,n,r)},t.prototype.findAbsolute=function(e,n,r){var a=this.getAbsoluteOffset(e),i=e.getBoundingClientRect();return this.calculatePosition(a,i,n,r)},t.prototype.findPosition=function(e,n,r,a){a===void 0&&(a=this.getAbsoluteOffset);var i=a(e),o=e.getBoundingClientRect();return this.calculatePosition(i,o,n,r)},t.prototype.findPositionAt=function(e,n,r){return this.calculatePosition(e,{height:0,width:0},n,r)},t.prototype.getPlacementBox=function(e,n){var r=e.offsetHeight+n.top,a=e.offsetWidth+n.left;return{top:n.top,bottom:r,left:n.left,right:a}},t.prototype.addOffset=function(e,n,r){return n===void 0&&(n=0),r===void 0&&(r=0),Object.assign({},e,{top:e.top+n,left:e.left+r})},t.prototype.setElement=function(e,n){e.style.top=n.top+"px",e.style.left=n.left+"px"},t.prototype.findBestPlacement=function(e,n,r,a,i){var o=this;a===void 0&&(a=this.defaultContainerFunction),i===void 0&&(i=this.findPosition);var s=r.map(function(u){var l=i(e,n,u),c=o.getPlacementBox(n,l),h=c.bottom-a().height,f=c.right-a().width;h=h<0?n.offsetHeight:h,f=f<0?n.offsetWidth:f;var p=n.offsetHeight*n.offsetWidth,d=h*f,m=p-d;m=m===0?p:m;var v=m/p;return{placement:u,weight:v}});return s.sort(function(u,l){return l.weight-u.weight}),s[0].placement},t.prototype.findBestPlacementAt=function(e,n,r,a){var i=this;a===void 0&&(a=this.defaultContainerFunction);var o=function(s,u,l){return i.findPositionAt(e,u,l)};return this.findBestPlacement(null,n,r,a,o)},t.prototype.defaultContainerFunction=function(){return{width:ls.innerHeight-ls.scrollY,height:ls.innerWidth-ls.scrollX}},t.prototype.calculatePosition=function(e,n,r,a){return this.positions[a]?this.positions[a](e,r,n):(console.error("No function found for placement, defaulting to 0,0"),{left:0,top:0})},t}();new cs;var uf=[["15seconds",15*1e3],["minute",60*1e3],["30minutes",30*60*1e3],["hourly",60*60*1e3],["daily",24*60*60*1e3],["monthly",30*24*60*60*1e3],["quarterly",3*30*24*60*60*1e3],["yearly",12*30*24*60*60*1e3]];function Mm(t,e,n,r,a){var i=e===0,o=Number(oi(new Date(t),"c"))===2,s=Number(oi(new Date(t),"q"))===1,u=e!==0?n[e-1]:null;switch(r){case"15seconds":return i||hs(t)||ui(t,u)||ar(t);case"minute":return i||hs(t)||ui(t,u)||ar(t);case"30minutes":return i||hs(t)||ui(t,u)||ar(t);case"hourly":return i||hs(t)||ui(t,u)||ar(t);case"daily":return a?i||o||ar(t):i||ui(t,u)||ar(t);case"monthly":return i||ar(t);case"quarterly":return i||s;case"yearly":return!1;default:throw new Error(r+" is not a valid time interval.")}}function lf(t,e,n,r,a){var i=a.showDayName,o=r==="daily"&&i?"weekly":r,s=new Date(t),u=b.getProperty(a,"timeIntervalFormats")[o],l=b.getProperty(u,"primary"),c=b.getProperty(u,"secondary"),h=Mm(t,e,n,r,i)?l:c,f=a.localeObject;return oi(s,h,{locale:f})}function fs(t){var e=new Date(t);return{M:e.getMonth()+1,d:e.getDate(),H:e.getHours(),m:e.getMinutes(),s:e.getSeconds()}}function PI(t){if(!!t)return t.slice(1).map(function(e,n){return e-t[n]})}function DI(t){var e=uf.reduce(function(n,r,a){r[0];var i=r[1],o=uf[n][1],s=Math.abs(o-t),u=Math.abs(i-t);return s<u?n:a},0);return uf[e][0]}function cf(t){if(t.length===1)return"15seconds";var e=PI(t),n=kr(e);return DI(n)}function hs(t){var e=fs(t),n=e.s,r=e.m,a=e.H;return a===0&&r===0&&n===0}function ui(t,e){var n=fs(t).M,r=fs(e).M;return n!==r}function ar(t){var e=fs(t),n=e.M,r=e.d,a=e.s,i=e.m,o=e.H;return n===1&&r===1&&o===0&&i===0&&a===0}var LI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kI=function(t){LI(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.type="threshold",a.renderType=at.SVG,a.positionService=new cs,a}return e.prototype.render=function(n){var r=this;n===void 0&&(n=!1);var a=b.getProperty(this.getOptions(),"axes"),i=[];Object.keys(a).forEach(function(d){var m,v;if(Object.values(W).includes(d)){var _=a[d];_.thresholds&&_.thresholds.length>0&&i.push({axisPosition:d,thresholds:_.thresholds,correspondingDatasets:(m=_)===null||m===void 0?void 0:m.correspondingDatasets,mapsTo:(v=_)===null||v===void 0?void 0:v.mapsTo})}});var o=this.getComponentContainer({withinChartClip:!0}),s=o.selectAll("g.axis-thresholds").data(i,function(d){return d.axisPosition});s.exit().attr("opacity",0).remove();var u=s.enter().append("g"),l=u.merge(s);l.attr("class",function(d){return"axis-thresholds "+d.axisPosition});var c=l.selectAll("g.threshold-group").data(function(d){return d.thresholds.map(function(m){return m.axisPosition=d.axisPosition,m.datum=r.constructDatumObj(d,m),m})});c.exit().attr("opacity",0).remove();var h=c.enter().append("g");h.append("line").attr("class","threshold-line"),h.append("rect").attr("class","threshold-hoverable-area");var f=h.merge(c);f.attr("class","threshold-group");var p=this;l.each(function(d){var m=d.axisPosition,v=p.services.cartesianScales.getScaleByPosition(m),_=p.services.cartesianScales.getScaleTypeByPosition(m),g=null,y=null;m===W.LEFT||m===W.RIGHT?(y=v,g=p.services.cartesianScales.getMainXScale()):(g=v,y=p.services.cartesianScales.getMainYScale());var O=_===et.LABELS,x=g.range(),w=x[0],M=x[1],T=y.range(),S=T[0],C=T[1],E=p.services.cartesianScales,R=E.getOrientation(),L=function(D){return E.getDomainValue(D)},N=function(D){return E.getRangeValue(D)},A=b.flipDomainAndRangeBasedOnOrientation(L,N,R),k=A[0],I=A[1],B=U(this);m===W.TOP||m===W.BOTTOM?(B.selectAll("line.threshold-line").transition().call(function(D){return p.services.transitions.setupTransition({transition:D,name:"threshold-line-update",animate:n})}).attr("y1",C).attr("y2",S).attr("x1",function(D){var V=D.datum;return k(V)+(O?v.step()/2:0)}).attr("x2",function(D){var V=D.datum;return k(V)+(O?v.step()/2:0)}).style("stroke",function(D){var V=D.fillColor;return V}),B.selectAll("rect.threshold-hoverable-area").attr("x",0).attr("y",function(D){var V=D.datum;return-k(V)}).attr("width",Math.abs(S-C)).classed("rotate",!0)):(B.selectAll("line.threshold-line").transition().call(function(D){return p.services.transitions.setupTransition({transition:D,name:"threshold-line-update",animate:n})}).attr("x1",w).attr("x2",M).attr("y1",function(D){var V=D.datum;return I(V)+(O?v.step()/2:0)}).attr("y2",function(D){var V=D.datum;return I(V)+(O?v.step()/2:0)}).style("stroke",function(D){var V=D.fillColor;return V}),B.selectAll("rect.threshold-hoverable-area").attr("x",w).attr("y",function(D){var V=D.datum;return I(V)}).attr("width",Math.abs(M-w)).classed("rotate",!1))}),this.services.events.addEventListener(P.Threshold.SHOW,function(d){r.setThresholdLabelPosition(d.detail),r.label.classed("hidden",!1)}),this.services.events.addEventListener(P.Threshold.HIDE,function(d){r.label.classed("hidden",!0)}),this.appendThresholdLabel(),this.addEventListeners()},e.prototype.getFormattedValue=function(n){var r=n.value,a=n.axisPosition,i=this.getOptions(),o=this.services.cartesianScales.getScaleTypeByPosition(a);if(o===et.TIME){var s=[W.LEFT,W.RIGHT].includes(a),u=this.services.cartesianScales.getMainXScale(),l=this.services.cartesianScales.getMainYScale(),c=s?l:u,h=b.getProperty(i,"timeScale"),f=cf(c.ticks());return lf(r,0,c.ticks(),f,h)}return r.toLocaleString("en")},e.prototype.appendThresholdLabel=function(){var n=U(this.services.domUtils.getHolder()),r=b.getProperty(this.getOptions(),"style","prefix");this.label=F.appendOrSelect(n,"div."+jt.prefix+"--"+r+"--threshold--label").classed("hidden",!0)},e.prototype.setThresholdLabelPosition=function(n){var r=n.event,a=n.datum,i=this.services.domUtils.getHolder(),o=qn(r,i),s=a.valueFormatter?a.valueFormatter(a.value):this.getFormattedValue(a);this.label.html((a.label||"Threshold")+": "+s).style("background-color",a.fillColor);var u=this.label.node(),l=this.positionService.findBestPlacementAt({left:o[0],top:o[1]},u,[Yt.RIGHT,Yt.LEFT,Yt.TOP,Yt.BOTTOM],function(){return{width:i.offsetWidth,height:i.offsetHeight}}),c=this.positionService.findPositionAt({left:o[0],top:o[1]},u,l);this.positionService.setElement(u,c)},e.prototype.constructDatumObj=function(n,r){var a={};return n.correspondingDatasets&&(a.group=b.getProperty(n,"correspondingDatasets",0)),a[n.mapsTo]=r.value,a},e.prototype.addEventListeners=function(){var n=this,r=this.getComponentContainer({withinChartClip:!0});r.selectAll("rect.threshold-hoverable-area").on("mouseover mousemove",function(a){U(this.parentNode).select("line.threshold-line").classed("active",!0),n.services.events.dispatchEvent(P.Threshold.SHOW,{event:a,hoveredElement:U(this),datum:U(this).datum()})}).on("mouseout",function(a){U(this.parentNode).select("line.threshold-line").classed("active",!1),n.services.events.dispatchEvent(P.Threshold.HIDE,{event:a,hoveredElement:U(this),datum:U(this).datum()})})},e}(vt),RI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ff=function(t){RI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="title",n.renderType=at.HTML,n}return e.prototype.render=function(){var n=this.getComponentContainer(),r=b.getProperty(this.getOptions(),"title"),a=n.selectAll("p.title").data([r]);if(a.enter().append("p").classed("title",!0).attr("role","heading").attr("aria-level",2).merge(a).html(function(o){return o}),a.node()&&a.node().offsetWidth<a.node().scrollWidth){var i=this;a.on("mouseover",function(o){i.services.events.dispatchEvent(P.Tooltip.SHOW,{event:o,hoveredElement:a,content:a.text()})}).on("mousemove",function(o){i.services.events.dispatchEvent(P.Tooltip.MOVE,{event:o})}).on("mouseout",function(){i.services.events.dispatchEvent(P.Tooltip.HIDE)})}a.exit().remove()},e.prototype.truncateTitle=function(n,r){if(!(r<=0)){var a=n.text();if(n.node().getComputedTextLength()>r){n.append("tspan").text("...");var i=F.appendOrSelect(n,"tspan").node().getComputedTextLength(),o=n.text(),s=this.getSubstringIndex(n.node(),0,o.length-1,r-i);n.html(o.substring(0,s-1)).append("tspan").text("...");var u=this;n.on("mouseover",function(l){u.services.events.dispatchEvent(P.Tooltip.SHOW,{event:l,hoveredElement:n,content:a})}).on("mousemove",function(l){u.services.events.dispatchEvent(P.Tooltip.MOVE,{event:l})}).on("mouseout",function(){u.services.events.dispatchEvent(P.Tooltip.HIDE)})}}},e.prototype.getMaxTitleWidth=function(){return F.getSVGElementSize(this.parent.node(),{useAttrs:!0}).width},e.prototype.getSubstringIndex=function(n,r,a,i){var o=Math.floor((a+r)/2);return n.getSubStringLength(0,o)>i?this.getSubstringIndex(n,r,o,i):n.getSubStringLength(0,o)<i?n.getSubStringLength(0,o+1)>i?o:this.getSubstringIndex(n,o,a,i):o},e}(vt),II=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),NI=function(t){II(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="meter-title",n.renderType=at.SVG,n}return e.prototype.render=function(){var n=b.getProperty(this.model.getDisplayData(),0),r=this.getOptions(),a=this.getComponentContainer(),i=r.data.groupMapsTo,o=b.getProperty(r,"meter","proportional");if(o)this.displayTotal(),this.displayBreakdownTitle();else{var s=a.selectAll("text.meter-title").data([n[i]]);s.enter().append("text").classed("meter-title",!0).merge(s).attr("x",0).attr("y","1em").text(function(c){return c}),s.exit().remove(),this.appendPercentage(),this.displayStatus()}var u=this.getMaxTitleWidth(),l=F.appendOrSelect(a,"text.meter-title");u>0&&l.node().getComputedTextLength()>u&&this.truncateTitle(l,u)},e.prototype.displayBreakdownTitle=function(){var n=this.getComponentContainer(),r=this.getOptions(),a=this.model.getMaximumDomain(this.model.getDisplayData()),i=b.getProperty(r,"meter","proportional","total"),o=b.getProperty(r,"meter","proportional","unit")?b.getProperty(r,"meter","proportional","unit"):"",s;if(a===i)s=null;else{var u=i!==null?i-a:a,l=b.getProperty(r,"meter","proportional","breakdownFormatter");s=l!==null?l({datasetsTotal:a,total:i}):a+" "+o+" used ("+u+" "+o+" available)"}var c=n.selectAll("text.proportional-meter-title").data([s]);c.enter().append("text").classed("proportional-meter-title",!0).merge(c).attr("x",0).attr("y","1em").text(function(p){return p}),c.exit().remove();var h=this.getMaxTitleWidth(),f=F.appendOrSelect(n,"text.proportional-meter-title");h>0&&f.node().getComputedTextLength()>h&&this.truncateTitle(f,h)},e.prototype.displayTotal=function(){var n=this.getComponentContainer(),r=this.getOptions(),a=b.getProperty(r,"meter","proportional","total"),i=a?b.getProperty(r,"meter","proportional","total"):this.model.getMaximumDomain(this.model.getDisplayData()),o=b.getProperty(r,"meter","proportional","unit")?b.getProperty(r,"meter","proportional","unit"):"",s=b.getProperty(r,"meter","proportional","totalFormatter"),u=s!==null?s(i):a+" "+o+" total",l=F.getSVGElementSize(this.services.domUtils.getMainContainer(),{useAttrs:!0}),c=l.width?l.width:this.parent.node().getAttribute("width"),h=n.selectAll("text.proportional-meter-total").data([u]);h.enter().append("text").classed("proportional-meter-total",!0).merge(h).attr("x",c).attr("y","1em").attr("text-anchor","end").text(function(f){return f}),h.exit().remove()},e.prototype.displayStatus=function(){var n=this,r=this.getComponentContainer(),a=F.getHTMLElementSize(this.services.domUtils.getMainContainer()),i=a.width?a.width:0,o=this.model.getStatus(),s=ie.status.indicatorSize/2,u=F.appendOrSelect(r,"g.status-indicator").attr("class",o!==null?"status-indicator status--"+o:"").attr("transform","translate("+(i-s)+", 0)"),l=o?[o]:[],c=u.selectAll("circle.status").data(l);c.enter().append("circle").merge(c).attr("class","status").attr("r",s).attr("cx",0).attr("cy","calc(1em / 2)");var h=u.selectAll("path.innerFill").data(l);h.enter().append("path").merge(h).attr("d",n.getStatusIconPathString(o)).attr("transform","translate(-"+s+", 0)").attr("class","innerFill"),h.exit().remove(),c.exit().remove()},e.prototype.appendPercentage=function(){var n=b.getProperty(this.model.getDisplayData(),0,"value"),r=this.getComponentContainer(),a=F.appendOrSelect(r,"text.meter-title"),i=b.getProperty(this.getOptions(),"meter","statusBar","percentageIndicator","enabled")===!0?[n]:[],o=r.selectAll("text.percent-value").data(i),s=ie.statusBar.paddingRight;o.enter().append("text").classed("percent-value",!0).merge(o).text(function(u){return u+"%"}).attr("x",+a.attr("x")+a.node().getComputedTextLength()+s).attr("y",a.attr("y")),o.exit().remove()},e.prototype.truncateTitle=function(n,r){t.prototype.truncateTitle.call(this,n,r);var a=F.appendOrSelect(this.parent,"tspan"),i=ie.statusBar.paddingRight,o=Math.ceil(a.node().getComputedTextLength()),s=F.appendOrSelect(this.parent,"text.percent-value");s.attr("x",+n.attr("x")+n.node().getComputedTextLength()+o+i)},e.prototype.getMaxTitleWidth=function(){var n=F.getHTMLElementSize(this.services.domUtils.getMainContainer()),r=b.getProperty(this.getOptions(),"meter","proportional"),a=n.width?n.width:this.parent.node().getAttribute("width");if(r!==null){var i=F.appendOrSelect(this.parent,"text.proportional-meter-total").node(),o=F.getSVGElementSize(i,{useBBox:!0}).width;return a-o-ie.total.paddingLeft}else{var s=F.appendOrSelect(this.parent,"text.percent-value"),u=ie.statusBar.paddingRight,l=s.node().getComputedTextLength(),c=F.appendOrSelect(this.parent,"g.status-indicator").node(),h=F.getSVGElementSize(c,{useBBox:!0}).width+ie.status.paddingLeft;return a-l-u-h}},e.prototype.getStatusIconPathString=function(n){switch(n){case Ea.SUCCESS:return"M6.875 11.3125 3.75 8.1875 4.74375 7.25 6.875 9.34375 11.50625 4.75 12.5 5.7375 Z";case Ea.DANGER:return"M10.7 11.5 4.5 5.3 5.3 4.5 11.5 10.7 Z";case Ea.WARNING:return"M7.9375,11.125 C7.41973305,11.125 7,11.544733 7,12.0625 C7,12.580267 7.41973305,13 7.9375,13 C8.45526695,13 8.875,12.580267 8.875,12.0625 C8.875,11.544733 8.45526695,11.125 7.9375,11.125 M7.3125, 3 8.5625, 3 8.5625, 9.875 7.3125, 9.875, 7.3125, 3 Z"}},e}(ff),BI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cm=function(t){BI(e,t);function e(n,r,a){var i=t.call(this,n,r,a)||this;return i.type="tooltip",i.renderType=at.HTML,i.isEventListenerAdded=!1,i.positionService=new cs,i.handleShowTooltip=function(o){var s=o.detail.data||o.detail.items,u=i.getTooltipHTML(o),l=F.appendOrSelect(i.tooltip,"div.content-box");if(b.getProperty(i.getOptions(),"tooltip","customHTML"))if(o.detail.content){var c='<div class="title-tooltip"><p>'+o.detail.content+"</p></div>";l.html(c)}else l.html(i.model.getOptions().tooltip.customHTML(s,u));else l.html(u);i.positionTooltip(o),i.tooltip.classed("hidden",!1).attr("aria-hidden",!1)},i.handleHideTooltip=function(){i.tooltip.classed("hidden",!0).attr("aria-hidden",!0)},i.init(),i}return e.prototype.addTooltipEventListener=function(){var n=this;this.services.events.addEventListener(P.Tooltip.MOVE,function(r){n.tooltip.classed("hidden")===!1&&n.positionTooltip(r)}),this.services.events.addEventListener(P.Tooltip.SHOW,this.handleShowTooltip),this.services.events.addEventListener(P.Tooltip.HIDE,this.handleHideTooltip),this.services.events.addEventListener(P.Chart.MOUSEOUT,this.handleHideTooltip)},e.prototype.removeTooltipEventListener=function(){this.services.events.removeEventListener(P.Tooltip.MOVE,null),this.services.events.removeEventListener(P.Tooltip.SHOW,this.handleShowTooltip),this.services.events.removeEventListener(P.Tooltip.HIDE,this.handleHideTooltip),this.services.events.removeEventListener(P.Chart.MOUSEOUT,this.handleHideTooltip)},e.prototype.getItems=function(n){return n.detail.items?n.detail.items:[]},e.prototype.formatItems=function(n){var r=this,a=this.getOptions(),i=b.getProperty(a,"tooltip","truncation","type"),o=b.getProperty(a,"tooltip","truncation","threshold"),s=b.getProperty(a,"tooltip","truncation","numCharacter");return i!==Qe.NONE?n.map(function(u){var l=u.labelIcon?12:0;return u.value=u.value?r.valueFormatter(u.value,u.label):u.value,u.label&&u.label.length+l>o&&(u.label=b.truncateLabel(u.label,i,s)),u.value&&u.value.length>o&&(u.value=b.truncateLabel(u.value,i,s)),u}):n},e.prototype.getTooltipHTML=function(n){var r;if(n.detail.content)r='<div class="title-tooltip"><p>'+n.detail.content+"</p></div>";else{var a=this.getItems(n),i=this.formatItems(a);r='<ul class="multi-tooltip">'+i.map(function(o){return`<li>
							<div class="datapoint-tooltip `+(o.bold?"bold":"")+`">
								`+(o.class?'<div class="tooltip-color '+o.class+'"></div>':"")+`
								`+(o.color?'<div style="background-color: '+o.color+'" class="tooltip-color"></div>':"")+`
								<div class="label">
								<p>`+(o.label||"")+`</p>
								`+(o.labelIcon?'<span class="label-icon"/>'+o.labelIcon+"</span>":"")+`
								</div>
								`+(o.value===void 0||o.value===null?"":'<p class="value"/>'+o.value+"</p>")+`
							</div>
						</li>`}).join("")+"</ul>"}return r},e.prototype.valueFormatter=function(n,r){var a=this.getOptions(),i=b.getProperty(a,"tooltip","valueFormatter");return i?i(n,r):typeof n.getTime=="function"?oi(n,"MMM d, yyyy"):n.toLocaleString()},e.prototype.render=function(){var n=this.getOptions(),r=b.getProperty(n,"tooltip","enabled");if(r){var a=U(this.services.domUtils.getHolder()),i=b.getProperty(n,"style","prefix");this.tooltip=F.appendOrSelect(a,"div."+jt.prefix+"--"+i+"--tooltip"),this.tooltip.style("max-width",null).attr("role","tooltip"),this.isEventListenerAdded||(this.addTooltipEventListener(),this.isEventListenerAdded=!0),this.tooltip.classed("hidden",!0)}else!r&&this.isEventListenerAdded&&(this.removeTooltipEventListener(),this.isEventListenerAdded=!1)},e.prototype.positionTooltip=function(n){var r=this.services.domUtils.getHolder(),a=this.tooltip.node(),i=this.getOptions(),o=b.getProperty(i,"zoomBar","top","enabled"),s=b.getProperty(n,"detail","mousePosition");if(!s)s=qn(b.getProperty(n,"detail","event"),r);else{var u=b.getProperty(i,"zoomBar","top","type"),l=se.height[u];o&&(s[1]+=l+se.spacerHeight)}var c,h=r.offsetWidth,f=r.offsetHeight,p;s[0]/h>.9?p=Yt.LEFT:s[0]/h<.1?p=Yt.RIGHT:p=this.positionService.findBestPlacementAt({left:s[0],top:s[1]},a,[Yt.RIGHT,Yt.LEFT,Yt.TOP,Yt.BOTTOM],function(){return{width:h,height:f}});var d=hd.horizontalOffset;p===Yt.LEFT&&(d*=-1),c=this.positionService.findPositionAt({left:s[0]+d,top:s[1]},a,p),this.positionService.setElement(a,c)},e}(vt),UI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),FI=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},VI=function(t){UI(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getItems=function(n){var r=this;if(n.detail.items)return n.detail.items;var a=n.detail.data;if(!a.length||!a[0])return[];var i=this.getOptions(),o=this.services.cartesianScales,s=o.getDomainIdentifier(),u=i.data.groupMapsTo,l=o.getDomainLabel(),c=o.getRangeLabel(),h=a[0][s],f;if(a.length===1){var p=a[0],d=o.getRangeIdentifier(p),m=p[d];f=FI([{label:l,value:h}],Array.isArray(m)&&m.length===2?[{label:"Start",value:m[0]},{label:"End",value:m[1]}]:[{label:c,value:p[d]}]),n.detail.additionalItems&&n.detail.additionalItems.forEach(function(g){return f.push({label:g.label,value:g.value})}),f.push({label:i.tooltip.groupLabel,value:p[u],color:this.model.getFillColor(p[u]),class:this.model.getColorClassName({classNameTypes:[rt.TOOLTIP],dataGroupName:p[u]})})}else if(a.length>1){f=[{label:l,value:h}],f=f.concat(a.map(function(g){return{label:g[u],value:g[o.getRangeIdentifier(g)],color:r.model.getFillColor(g[u]),class:r.model.getColorClassName({classNameTypes:[rt.TOOLTIP],dataGroupName:g[u]})}}).sort(function(g,y){return y.value-g.value}));var v=o.isDualAxes();if(!v&&b.getProperty(i,"tooltip","showTotal")===!0){var _=o.getRangeIdentifier();f.push({label:Ct(i,"tooltip.totalLabel")||"Total",value:a.reduce(function(g,y){return g+y[_]},0),bold:!0})}}return f},e}(Cm),$I=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Am=function(t){$I(e,t);function e(n,r,a){var i=t.call(this,n,r,a)||this;return i.type="chart-clip",i.renderType=at.SVG,i.chartClipId="chart-clip-id-"+Math.floor(Math.random()*99999999999),i.init(),i}return e.prototype.init=function(){this.model.set({chartClipId:this.chartClipId},{skipUpdate:!0})},e.prototype.render=function(n){this.createClipPath()},e.prototype.createClipPath=function(){var n=this.parent,r=this.services.cartesianScales,a=r.getMainXScale(),i=r.getMainYScale(),o=a.range(),s=o[0],u=o[1],l=i.range(),c=l[0],h=l[1];this.chartClipPath=F.appendOrSelect(n,"clipPath."+this.type).attr("id",this.chartClipId);var f=F.appendOrSelect(this.chartClipPath,"rect."+this.type);f.attr("x",s).attr("y",h).attr("width",u-s).attr("height",c-h),this.chartClipPath.merge(f).lower()},e}(vt),GI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),HI=function(t){GI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="canvas-chart-clip",n.chartClipId="canvas-chart-clip-id-"+Math.floor(Math.random()*99999999999),n}return e.prototype.createClipPath=function(){var n=this.parent,r=F.getSVGElementSize(this.parent,{useAttrs:!0}),a=r.width,i=r.height;this.chartClipPath=F.appendOrSelect(n,"clipPath."+this.type).attr("id",this.chartClipId);var o=F.appendOrSelect(this.chartClipPath,"rect."+this.type);o.attr("x",0).attr("y",0).attr("width",a).attr("height",i),this.chartClipPath.merge(o).lower()},e}(Am),zI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tn=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},WI=function(t){zI(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.type="highlight",a.renderType=at.SVG,a.positionService=new cs,a.highlightStrokeWidth=1,a}return e.prototype.render=function(n){n===void 0&&(n=!1);var r=b.getProperty(this.getOptions(),"axes"),a=[];Object.keys(r).forEach(function(p){if(Object.values(W).includes(p)){var d=r[p];d.highlights&&d.highlights.data.length>0&&a.push({axisPosition:p,highlightStartMapsTo:d.highlights.highlightStartMapsTo,highlightEndMapsTo:d.highlights.highlightEndMapsTo,labelMapsTo:d.highlights.labelMapsTo,highlight:d.highlights.data,color:d.highlights.color})}});var i=this.getComponentContainer({withinChartClip:!0}),o=i.selectAll("g.axis-highlight").data(a,function(p){return p.axisPosition});o.exit().attr("opacity",0).remove();var s=o.enter().append("g"),u=s.merge(o);u.attr("class",function(p){return"axis-highlight "+p.axisPosition});var l=u.selectAll("g.highlight-group").data(function(p){return p.highlight.map(function(d){return d.axisPosition=p.axisPosition,d.highlightStartMapsTo=p.highlightStartMapsTo,d.labelMapsTo=p.labelMapsTo,d.color=p.color,d.highlightEndMapsTo=p.highlightEndMapsTo,d})});l.exit().attr("opacity",0).remove();var c=l.enter().append("g");c.append("rect").attr("class","highlight-bar"),c.append("line").attr("class","highlight-line");var h=c.merge(l);h.attr("class","highlight-group");var f=this;u.each(function(p){var d=p.axisPosition,m=f.services.cartesianScales.getMainXScale(),v=f.services.cartesianScales.getMainYScale(),_=m.range(),g=_[0],y=_[1],O=v.range(),x=O[0],w=O[1],M=f.services.cartesianScales,T=M.getOrientation(),S=function(A){return M.getDomainValue(A)},C=function(A){return M.getRangeValue(A)},E=b.flipDomainAndRangeBasedOnOrientation(S,C,T),R=E[0],L=E[1],N=U(this);d===W.TOP||d===W.BOTTOM?N.selectAll("rect.highlight-bar").transition().call(function(A){return f.services.transitions.setupTransition({transition:A,name:"highlight-bar-update",animate:n})}).attr("y",Math.max(w+f.highlightStrokeWidth,0)).attr("height",Math.max(x-2*f.highlightStrokeWidth,0)).attr("x",function(A){var k=A.highlightStartMapsTo,I=Tn(A,["highlightStartMapsTo"]);return R(I[k])}).attr("width",function(A){var k=A.highlightStartMapsTo,I=A.highlightEndMapsTo,B=Tn(A,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(R(B[I])-R(B[k]),0)}).style("stroke",function(A){var k=A.color,I=A.labelMapsTo,B=Tn(A,["color","labelMapsTo"]);return k&&k.scale[B[I]]?k.scale[B[I]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",f.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",function(A){var k=A.color,I=A.labelMapsTo,B=Tn(A,["color","labelMapsTo"]);return k&&k.scale[B[I]]?k.scale[B[I]]:null}):N.selectAll("rect.highlight-bar").transition().call(function(A){return f.services.transitions.setupTransition({transition:A,name:"highlight-bar-update",animate:n})}).attr("x",g).attr("width",Math.max(y-g,0)).attr("y",function(A){var k=A.highlightEndMapsTo,I=Tn(A,["highlightEndMapsTo"]);return L(I[k])}).attr("height",function(A){var k=A.highlightStartMapsTo,I=A.highlightEndMapsTo,B=Tn(A,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(L(B[k])-L(B[I]),0)}).style("stroke",function(A){var k=A.color,I=A.labelMapsTo,B=Tn(A,["color","labelMapsTo"]);return k&&k.scale[B[I]]?k.scale[B[I]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",f.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",function(A){var k=A.color,I=A.labelMapsTo,B=Tn(A,["color","labelMapsTo"]);return k&&k.scale[B[I]]?k.scale[B[I]]:null})})},e}(vt),jI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pm=function(t){jI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="area",n.renderType=at.SVG,n.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement;n.parent.selectAll("path.area").transition("legend-hover-area").call(function(i){return n.services.transitions.setupTransition({transition:i,name:"legend-hover-area"})}).attr("opacity",function(i){return i.name!==a.datum().name?Re.opacity.unselected:Re.opacity.selected})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.area").transition("legend-mouseout-area").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-area"})}).attr("opacity",Re.opacity.selected)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.getComponentContainer({withinChartClip:!0}),i=[0,0],o=this.services.cartesianScales,s=o.getOrientation(),u=Ic().curve(this.services.curves.getD3Curve()).defined(function(T,S){var C=o.getRangeIdentifier(),E=T[C];return E!=null}),l=this.model.getGroupedData(this.configs.groups),c=b.getProperty(this.getOptions(),"bounds"),h=c&&l&&l.length===1;!h&&c&&console.warn("Bounds can only be shown when having 1 single datagroup, you've supplied "+l.length);var f=function(T,S){return h?o.getBoundedScaledValues(T,S)[0]:o.getRangeValue(0)},p=function(T,S){return h?o.getBoundedScaledValues(T,S)[1]:o.getRangeValue(T,S)};s===Ft.VERTICAL?(i=this.services.cartesianScales.getMainYScale().domain(),u.x(function(T,S){return o.getDomainValue(T,S)}).y0(function(T,S){return f(T,S)}).y1(function(T,S){return p(T,S)})):(i=this.services.cartesianScales.getMainXScale().domain(),u.x0(function(T,S){return f(T,S)}).x1(function(T,S){return p(T,S)}).y(function(T,S){return o.getDomainValue(T,S)}));var d=b.getProperty(this.getOptions(),"color","gradient","enabled"),m=l&&l.length===1&&d;l.length>1&&d&&console.error("Gradients can only be enabled when having 1 single dataset");var v=a.selectAll("path.area").data(l,function(T){return T.name}),_=U(this.services.domUtils.getMainContainer());if(v.exit().attr("opacity",0).remove(),!!l.length){if(m){var g=_.select("path."+this.model.getColorClassName({classNameTypes:[rt.STROKE],dataGroupName:l[0].name})).node(),y=void 0;if(g)y=getComputedStyle(g,null).getPropertyValue("stroke");else{var O=b.getProperty(this.model.getOptions(),"color","scale");if(O!==null){var x=Object.keys(O);y=O[x[0]]}}Wc.appendOrUpdateLinearGradient({svg:this.parent,id:this.services.domUtils.generateElementIDString(l[0].name.replace(" ","")+"_"+this.gradient_id),x1:"0%",x2:"0%",y1:"0%",y2:"100%",stops:Wc.getStops(i,y)})}else this.parent.selectAll("defs linearGradient").empty()||this.parent.selectAll("defs linearGradient").each(function(){this.parentNode.remove()});var w=this,M=v.enter().append("path");m?M.merge(v).style("fill",function(T){return"url(#"+r.services.domUtils.generateElementIDString(T.name.replace(" ","")+"_"+r.gradient_id)+")"}).attr("class","area").attr("class",function(T){return r.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:T.name,originalClassName:"area"})}).attr("d",function(T){var S=T.data;return u(S)}):(M.attr("opacity",0).merge(v).attr("class","area").attr("class",function(T){return r.model.getColorClassName({classNameTypes:[rt.FILL,rt.STROKE],dataGroupName:T.name,originalClassName:"area"})}).style("fill",function(T){return w.model.getFillColor(T.name)}).transition().call(function(T){return r.services.transitions.setupTransition({transition:T,name:"area-update-enter",animate:n})}).attr("opacity",h?1:Re.opacity.selected).attr("d",function(T){var S=T.data;return u(S)}),h&&M.attr("fill-opacity",Re.opacity.selected).style("stroke",function(T){return w.model.getStrokeColor(T.name)}).style("stroke-dasharray","2, 2").attr("stroke-width",.7+"px"))}},e.prototype.destroy=function(){var n=this.services.events;n.removeEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e}(vt),YI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dm=function(t){YI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="area-stacked",n.renderType=at.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions(),o=i.data.groupMapsTo;n.parent.selectAll("path.area").transition("legend-hover-area").call(function(s){return n.services.transitions.setupTransition({transition:s,name:"legend-hover-area"})}).attr("opacity",function(s){return b.getProperty(s,0,o)!==a.datum().name?Re.opacity.unselected:Re.opacity.selected})},n.handleLegendMouseOut=function(){n.parent.selectAll("path.area").transition("legend-mouseout-area").call(function(r){return n.services.transitions.setupTransition({transition:r,name:"legend-mouseout-area"})}).attr("opacity",Re.opacity.selected)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.getComponentContainer({withinChartClip:!0}),i=this,o=this.getOptions(),s=o.data.groupMapsTo,u=Object.keys(o.axes).some(function(v){return o.axes[v].percentage}),l=this.model.getStackedData({percentage:u,groups:this.configs.groups}),c=b.getProperty(l,0,0),h=this.services.cartesianScales.getDomainAxisPosition({firstDatum:c}),f=this.services.cartesianScales.getRangeAxisPosition({firstDatum:c}),p=this.services.cartesianScales.getScaleByPosition(f),d=a.selectAll("path.area").data(l,function(v){return b.getProperty(v,0,s)});this.areaGenerator=Ic().x(function(v,_){return r.services.cartesianScales.getValueThroughAxisPosition(h,v.data.sharedStackKey,_)}).y0(function(v){return p(v[0])}).y1(function(v){return p(v[1])}).curve(this.services.curves.getD3Curve()),d.exit().attr("opacity",0).remove();var m=d.enter().append("path").attr("opacity",0);m.merge(d).data(l,function(v){return b.getProperty(v,0,s)}).attr("class","area").attr("class",function(v){return r.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:b.getProperty(v,0,s),originalClassName:"area"})}).style("fill",function(v){return i.model.getFillColor(b.getProperty(v,0,s))}).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","area").attr("aria-label",function(v){return b.getProperty(v,0,s)}).transition().call(function(v){return r.services.transitions.setupTransition({transition:v,name:"area-update-enter",animate:n})}).attr("opacity",Re.opacity.selected).attr("d",this.areaGenerator)},e}(vt),qI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hf=function(t){qI(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBarWidth=function(n){var r=this.getOptions();if(r.bars.width)return r.bars.width;var a=this.model.getDisplayData().length,i=this.services.cartesianScales.getMainXScale(),o=F.getSVGElementSize(this.parent,{useAttrs:!0}).width;return i.step?Math.min(r.bars.maxWidth,i.step()/2):Math.min(r.bars.maxWidth,o*.25/a)},e.prototype.isOutsideZoomedDomain=function(n,r){var a=this.model.getDisplayData().length;if(a<=1)return!1;var i=this.model.get("zoomDomain");if(i!==void 0){var o=this.services.cartesianScales.getDomainScale();return n<o(i[0])||r>o(i[1])}return!1},e}(vt),KI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lm=function(t){KI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="simple-bar",n.renderType=at.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions().data.groupMapsTo;n.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-simple-bar"})}).attr("opacity",function(o){return o[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-simple-bar"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this,a=this.getOptions(),i=a.data.groupMapsTo,o=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),u=this.services.cartesianScales.getOrientation(),l=o.selectAll("path.bar").data(s,function(h){return h[i]});l.exit().attr("opacity",0).remove();var c=l.enter().append("path").attr("opacity",0);c.merge(l).classed("bar",!0).attr("width",this.getBarWidth.bind(this)).transition().call(function(h){return r.services.transitions.setupTransition({transition:h,name:"bar-update-enter",animate:n})}).attr("class",function(h){return r.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:h[i],originalClassName:"bar"})}).style("fill",function(h){return r.model.getFillColor(h[i])}).attr("d",function(h,f){var p=r.services.cartesianScales.getRangeIdentifier(),d=r.getBarWidth(),m=h[p],v=r.services.cartesianScales.getDomainValue(h,f)-d/2,_=v+d,g,y;if(Array.isArray(m)&&m.length===2)g=r.services.cartesianScales.getRangeValue(m[0]),y=r.services.cartesianScales.getRangeValue(m[1],f);else{var O=r.services.cartesianScales.getRangeScale(),x=O.domain()[0];g=r.services.cartesianScales.getRangeValue(Math.max(0,x)),y=r.services.cartesianScales.getRangeValue(h,f)}var w=Math.abs(y-g);if(w!==0&&w<2&&(m>0&&u===Ft.VERTICAL||m<0&&u===Ft.HORIZONTAL?y=g-2:y=g+2),!r.isOutsideZoomedDomain(v,_))return b.generateSVGPathString({x0:v,x1:_,y0:g,y1:y},u)}).attr("opacity",1).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(h){return h.value}),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this;this.parent.selectAll("path.bar").on("mouseover",function(r,a){var i=U(this);i.classed("hovered",!0),n.services.events.dispatchEvent(P.Bar.BAR_MOUSEOVER,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(P.Tooltip.SHOW,{event:r,hoveredElement:i,data:[a]})}).on("mousemove",function(r,a){n.services.events.dispatchEvent(P.Bar.BAR_MOUSEMOVE,{event:r,element:U(this),datum:a}),n.services.events.dispatchEvent(P.Tooltip.MOVE,{event:r})}).on("click",function(r,a){n.services.events.dispatchEvent(P.Bar.BAR_CLICK,{event:r,element:U(this),datum:a})}).on("mouseout",function(r,a){var i=U(this);i.classed("hovered",!1),n.services.events.dispatchEvent(P.Bar.BAR_MOUSEOUT,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:i})})},e.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e}(hf),XI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),km=function(t){XI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="grouped-bar",n.renderType=at.SVG,n.padding=5,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions().data.groupMapsTo;n.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})}).attr("opacity",function(o){return o[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-bar"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this,a=this.model.getDisplayData(this.configs.groups),i=this.getOptions(),o=i.data.groupMapsTo;this.setGroupScale();var s=this.getComponentContainer({withinChartClip:!0}),u=b.removeArrayDuplicates(a.map(function(d){var m=r.services.cartesianScales.getDomainIdentifier(d);return d[m]&&typeof d[m].toString=="function"?d[m].toString():d[m]})),l=s.selectAll("g.bars").data(u,function(d){return d});l.exit().attr("opacity",0).remove();var c=l.enter().append("g").classed("bars",!0).attr("role",ct.GROUP).attr("data-name","bars"),h=c.merge(l);h.transition().call(function(d){return r.services.transitions.setupTransition({transition:d,name:"bar-group-update-enter",animate:n})}).attr("transform",function(d,m){var v=r.services.cartesianScales.getDomainValue(d,m),_=v-r.getGroupWidth()/2;return r.services.cartesianScales.getOrientation()===Ft.VERTICAL?"translate("+_+", 0)":"translate(0, "+_+")"});var f=h.selectAll("path.bar").data(function(d){return r.getDataCorrespondingToLabel(d)},function(d){return d[o]});f.exit().attr("opacity",0).remove();var p=f.enter().append("path").attr("opacity",0);p.merge(f).classed("bar",!0).transition().call(function(d){return r.services.transitions.setupTransition({transition:d,name:"bar-update-enter",animate:n})}).attr("class",function(d){return r.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:d[o],originalClassName:"bar"})}).style("fill",function(d){return r.model.getFillColor(d[o])}).attr("d",function(d){var m=r.groupScale(d[o]),v=r.getBarWidth(),_=m,g=m+v,y=r.services.cartesianScales.getRangeAxisPosition({datum:d}),O=r.services.cartesianScales.getValueThroughAxisPosition(y,0),x=r.services.cartesianScales.getRangeValue(d);if(!r.isOutsideZoomedDomain(_,g))return b.generateSVGPathString({x0:_,x1:g,y0:O,y1:x},r.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(d){return d.value}),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this;this.parent.selectAll("path.bar").on("mouseover",function(r,a){var i=U(this);i.classed("hovered",!0),n.services.events.dispatchEvent(P.Bar.BAR_MOUSEOVER,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(P.Tooltip.SHOW,{event:r,hoveredElement:i,data:[a]})}).on("mousemove",function(r,a){var i=U(this);n.services.events.dispatchEvent(P.Bar.BAR_MOUSEMOVE,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(P.Tooltip.MOVE,{event:r})}).on("click",function(r,a){n.services.events.dispatchEvent(P.Bar.BAR_CLICK,{event:r,element:U(this),datum:a})}).on("mouseout",function(r,a){var i=U(this);i.classed("hovered",!1),n.services.events.dispatchEvent(P.Bar.BAR_MOUSEOUT,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:i})})},e.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.getDataCorrespondingToLabel=function(n){var r=this,a=this.model.getDisplayData(this.configs.groups);return a.filter(function(i){var o=r.services.cartesianScales.getDomainIdentifier(i);return i[o]===n})},e.prototype.getGroupWidth=function(){var n=this.model.getGroupedData(this.configs.groups),r=this.getTotalGroupPadding();return this.getBarWidth()*n.length+r},e.prototype.getTotalGroupPadding=function(){var n=this.model.getGroupedData(this.configs.groups);if(n.length===1)return 0;var r=this.services.cartesianScales.getDomainScale(),a=Math.min(5,5*(r.step()/70));return a*(n.length-1)},e.prototype.getBarWidth=function(){var n=this.getOptions(),r=b.getProperty(n,"bars","width"),a=b.getProperty(n,"bars","maxWidth");if(r!==null&&(a===null||r<=a))return r;var i=this.model.getGroupedData(this.configs.groups),o=i.length,s=this.getTotalGroupPadding(),u=this.services.cartesianScales.getDomainScale();return Math.min(a,(u.step()-s)/o)},e.prototype.setGroupScale=function(){var n=this.model.getActiveDataGroupNames(this.configs.groups);this.groupScale=To().domain(n).rangeRound([0,this.getGroupWidth()])},e}(hf),ZI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rm=function(t){ZI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="stacked-bar",n.renderType=at.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.model.getOptions().data.groupMapsTo;n.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})}).attr("opacity",function(o){return o[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-bar"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this,a=this.getComponentContainer({withinChartClip:!0}),i=this.getOptions(),o=i.data.groupMapsTo,s=this.model.getStackedData({groups:this.configs.groups,divergent:!0}),u=this.model.getActiveDataGroupNames(),l=a.selectAll("g.bars").data(s,function(h){return b.getProperty(h,0,o)});l.exit().attr("opacity",0).remove(),l.enter().append("g").classed("bars",!0).attr("role",ct.GROUP).attr("data-name","bars");var c=a.selectAll("g.bars").selectAll("path.bar").data(function(h){return h},function(h){return h.data.sharedStackKey});c.exit().remove(),c.enter().append("path").merge(c).classed("bar",!0).transition().call(function(h){return r.services.transitions.setupTransition({transition:h,name:"bar-update-enter",animate:n})}).attr("class",function(h){return r.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:h[o],originalClassName:"bar"})}).style("fill",function(h){return r.model.getFillColor(h[o])}).attr("d",function(h,f){var p=h.data.sharedStackKey,d=r.getBarWidth(),m=r.services.cartesianScales.getDomainValue(p,f)-d/2,v=m+d,_=r.services.cartesianScales.getRangeValue(h[0],f),g=r.services.cartesianScales.getRangeValue(h[1],f);if(!r.isOutsideZoomedDomain(m,v)){if(Math.abs(g-_)>0&&Math.abs(g-_)>i.bars.dividerSize){var y=h[0]<0&&h[1]<=0;y&&u.length>1?r.services.cartesianScales.getOrientation()===Ft.VERTICAL?g+=h[1]===0?2:1:g-=(h[1]===0,1):y||(r.services.cartesianScales.getOrientation()===Ft.VERTICAL?g+=1:g-=1)}return b.generateSVGPathString({x0:m,x1:v,y0:_,y1:g},r.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(h){return h[1]-h[0]}),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this.getOptions(),r=n.data.groupMapsTo,a=this;this.parent.selectAll("path.bar").on("mouseover",function(i,o){var s,u=U(this);u.classed("hovered",!0),a.services.events.dispatchEvent(P.Bar.BAR_MOUSEOVER,{event:i,element:u,datum:o});var l=a.model.getDisplayData(a.configs.groups),c=l.find(function(p){var d=a.services.cartesianScales.getDomainIdentifier(p),m=a.services.cartesianScales.getRangeIdentifier(p);return p[m]===o.data[o[r]]&&p[d].toString()===o.data.sharedStackKey&&p[r]===o[r]});if(c===void 0){var h=a.services.cartesianScales.getDomainIdentifier(),f=a.services.cartesianScales.getRangeIdentifier();c=(s={},s[h]=o.data.sharedStackKey,s[f]=o.data[o[r]],s[r]=o[r],s)}a.services.events.dispatchEvent(P.Tooltip.SHOW,{event:i,hoveredElement:u,data:[c]})}).on("mousemove",function(i,o){var s=U(this);a.services.events.dispatchEvent(P.Bar.BAR_MOUSEMOVE,{event:i,element:s,datum:o}),a.services.events.dispatchEvent(P.Tooltip.MOVE,{event:i})}).on("click",function(i,o){a.services.events.dispatchEvent(P.Bar.BAR_CLICK,{event:i,element:U(this),datum:o})}).on("mouseout",function(i,o){var s=U(this);s.classed("hovered",!1),a.services.events.dispatchEvent(P.Bar.BAR_MOUSEOUT,{event:i,element:s,datum:o}),a.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:s})})},e.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e}(hf),QI=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),JI=function(t){QI(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="boxplot",n.renderType=at.SVG,n}return e.prototype.render=function(n){var r=this,a=this.getComponentContainer({withinChartClip:!0}),i=this.getOptions(),o=i.data.groupMapsTo,s=this.model.getDataGroupNames(),u=this.services.cartesianScales.getMainXScale(),l=this.services.cartesianScales.getMainYScale(),c=u.range(),h=c[0],f=c[1],p=l.range(),d=p[0],m=p[1],v=f-h,_=d-m;if(v!==0){var g=this.services.cartesianScales,y=g.getOrientation(),O=y===Ft.VERTICAL,x=b.flipDomainAndRangeBasedOnOrientation(function(k,I){return r.services.cartesianScales.getDomainValue(k,I)},function(k,I){return r.services.cartesianScales.getRangeValue(k,I)},y),w=x[0],M=x[1],T=Math.floor((O?v:_)/s.length),S=Math.min(T/2,16),C=this.model.getBoxplotData(),E=a.selectAll(".box-group").data(C);E.exit().remove();var R=E.enter().append("g").attr("class","box-group"),L=E.merge(R);R.append("path").merge(E.select("path.vertical-line.start")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[rt.STROKE],originalClassName:"vertical-line start"})}).attr("stroke-width",he.strokeWidth.default).attr("fill","none").transition().call(function(k){return r.services.transitions.setupTransition({transition:k,name:"boxplot-update-verticalstartline",animate:n})}).attr("d",function(k){var I=g.getDomainValue(k[o]),B=I,D=g.getRangeValue(k.whiskers.min),V=g.getRangeValue(k.quartiles.q_25);return b.generateSVGPathString({x0:I,x1:B,y0:D,y1:V},y)}),R.append("path").merge(E.select("path.vertical-line.end")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[rt.STROKE],originalClassName:"vertical-line end"})}).attr("stroke-width",he.strokeWidth.default).attr("fill","none").transition().call(function(k){return r.services.transitions.setupTransition({transition:k,name:"boxplot-update-verticalendline",animate:n})}).attr("d",function(k){var I=g.getDomainValue(k[o]),B=I,D=g.getRangeValue(k.whiskers.max),V=g.getRangeValue(k.quartiles.q_75);return b.generateSVGPathString({x0:I,x1:B,y0:D,y1:V},y)}),R.append("path").merge(E.select("path.box")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[rt.FILL,rt.STROKE],originalClassName:"box"})}).attr("fill-opacity",he.box.opacity.default).attr("stroke-width",he.strokeWidth.default).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","box").attr("aria-label",function(k){return k[o]}).transition().call(function(k){return r.services.transitions.setupTransition({transition:k,name:"boxplot-update-quartiles",animate:n})}).attr("d",function(k){var I=g.getDomainValue(k[o])-S/2,B=I+S,D=g.getRangeValue(Math[O?"max":"min"](k.quartiles.q_75,k.quartiles.q_25)),V=D+Math.abs(g.getRangeValue(k.quartiles.q_75)-g.getRangeValue(k.quartiles.q_25));return b.generateSVGPathString({x0:I,x1:B,y0:D,y1:V},y)}),R.append("path").merge(E.select("path.highlight-area")).attr("class","highlight-area").attr("opacity",0).attr("d",function(k){var I=g.getDomainValue(k[o])-S/2,B=I+S,D=g.getRangeValue(k.whiskers.min),V=g.getRangeValue(k.whiskers.max);return b.generateSVGPathString({x0:I,x1:B,y0:D,y1:V},y)}),R.append("path").merge(E.select("path.whisker.start")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[rt.STROKE],originalClassName:"whisker start"})}).attr("stroke-width",he.strokeWidth.thicker).attr("fill","none").transition().call(function(k){return r.services.transitions.setupTransition({transition:k,name:"boxplot-update-startingwhisker",animate:n})}).attr("d",function(k){var I=g.getDomainValue(k[o])-S/4,B=I+S/2,D=g.getRangeValue(k.whiskers.min),V=g.getRangeValue(k.whiskers.min);return b.generateSVGPathString({x0:I,x1:B,y0:D,y1:V},y)}),R.append("path").merge(E.select("path.median")).attr("fill","none").attr("class",function(){return r.model.getColorClassName({classNameTypes:[rt.STROKE],originalClassName:"median"})}).attr("stroke-width",2).transition().call(function(k){return r.services.transitions.setupTransition({transition:k,name:"boxplot-update-median",animate:n})}).attr("d",function(k){var I=g.getDomainValue(k[o])-S/2,B=I+S,D=g.getRangeValue(k.quartiles.q_50),V=D;return b.generateSVGPathString({x0:I,x1:B,y0:D,y1:V},y)}),R.append("path").merge(E.select("path.whisker.end")).attr("class",function(){return r.model.getColorClassName({classNameTypes:[rt.STROKE],originalClassName:"whisker end"})}).attr("stroke-width",he.strokeWidth.thicker).attr("fill","none").transition().call(function(k){return r.services.transitions.setupTransition({transition:k,name:"boxplot-update-endingwhisker",animate:n})}).attr("d",function(k){var I=g.getDomainValue(k[o])-S/4,B=I+S/2,D=g.getRangeValue(k.whiskers.max),V=g.getRangeValue(k.whiskers.max);return b.generateSVGPathString({x0:I,x1:B,y0:D,y1:V},y)});var N=L.selectAll("circle.outlier").data(function(k){return k.outliers.map(function(I){var B;return B={min:k.whiskers.min,max:k.whiskers.max},B[o]=k[o],B.value=I,B})});N.exit().remove();var A=N.enter().append("circle");N.merge(A).attr("r",he.circle.radius).attr("class",function(){return r.model.getColorClassName({classNameTypes:[rt.FILL,rt.STROKE],originalClassName:"outlier"})}).attr("fill-opacity",he.circle.opacity.default).attr("cx",w).transition().call(function(k){return r.services.transitions.setupTransition({transition:k,name:"boxplot-update-circles",animate:n})}).attr("cy",M),this.addBoxEventListeners(),this.addCircleEventListeners()}},e.prototype.addBoxEventListeners=function(){var n=this,r=this.getOptions(),a=r.data.groupMapsTo;this.parent.selectAll("path.highlight-area").on("mouseover",function(i,o){var s=U(this),u=U(this.parentNode);u.select("path.box").classed("hovered",!0).attr("fill-opacity",he.box.opacity.hovered),n.services.events.dispatchEvent(P.Tooltip.SHOW,{event:i,hoveredElement:s,items:[{label:r.tooltip.groupLabel,value:o[a],class:n.model.getColorClassName({classNameTypes:[rt.TOOLTIP]})},{label:"Minimum",value:o.whiskers.min},{label:"Q1",value:o.quartiles.q_25},{label:"Median",value:o.quartiles.q_50},{label:"Q3",value:o.quartiles.q_75},{label:"Maximum",value:o.whiskers.max},{label:"IQR",value:o.quartiles.q_75-o.quartiles.q_25}]}),n.services.events.dispatchEvent(P.Boxplot.BOX_MOUSEOVER,{event:i,element:s,datum:o})}).on("mousemove",function(i,o){var s=U(this);n.services.events.dispatchEvent(P.Boxplot.BOX_MOUSEMOVE,{event:i,element:s,datum:o}),n.services.events.dispatchEvent(P.Tooltip.MOVE,{event:i})}).on("click",function(i,o){n.services.events.dispatchEvent(P.Boxplot.BOX_CLICK,{event:i,element:U(this),datum:o})}).on("mouseout",function(i,o){var s=U(this),u=U(this.parentNode);u.select("path.box").classed("hovered",!1).attr("fill-opacity",he.box.opacity.default),n.services.events.dispatchEvent(P.Boxplot.BOX_MOUSEOUT,{event:i,element:s,datum:o}),n.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:s})})},e.prototype.addCircleEventListeners=function(){var n=this,r=this.getOptions(),a=r.data.groupMapsTo,i=this.services.cartesianScales.getRangeIdentifier();this.parent.selectAll("circle").on("mouseover",function(o,s){var u=U(this);u.classed("hovered",!0).attr("fill-opacity",he.circle.opacity.hovered).classed("unfilled",!1),n.services.events.dispatchEvent(P.Tooltip.SHOW,{event:o,hoveredElement:u,items:[{label:r.tooltip.groupLabel,value:s[a],class:n.model.getColorClassName({classNameTypes:[rt.TOOLTIP]})},{label:"Outlier",value:s[i]}]}),n.services.events.dispatchEvent(P.Boxplot.OUTLIER_MOUSEOVER,{event:o,element:u,datum:s})}).on("mousemove",function(o,s){var u=U(this);n.services.events.dispatchEvent(P.Boxplot.OUTLIER_MOUSEMOVE,{event:o,element:u,datum:s}),n.services.events.dispatchEvent(P.Tooltip.MOVE,{event:o})}).on("click",function(o,s){n.services.events.dispatchEvent(P.Boxplot.OUTLIER_CLICK,{event:o,element:U(this),datum:s})}).on("mouseout",function(o,s){var u=U(this);u.classed("hovered",!1).attr("fill-opacity",he.circle.opacity.default),n.services.events.dispatchEvent(P.Boxplot.OUTLIER_MOUSEOUT,{event:o,element:u,datum:s}),n.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:u})})},e}(vt),tN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ve=function(t){tN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="scatter",n.renderType=at.SVG,n.handleChartHolderOnHover=function(r){n.parent.selectAll("circle.dot").transition("chart-holder-hover-scatter").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"chart-holder-hover-scatter"})}).attr("opacity",1)},n.handleChartHolderOnMouseOut=function(r){n.parent.selectAll("circle.dot").transition("chart-holder-mouseout-scatter").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"chart-holder-mouseout-scatter"})}).attr("opacity",0)},n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions().data.groupMapsTo;n.parent.selectAll("circle.dot").transition("legend-hover-scatter").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-scatter"})}).attr("opacity",function(o){return o[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("circle.dot").transition("legend-mouseout-scatter").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-scatter"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut);var r=this.configs.fadeInOnChartHolderMouseover;r&&(n.addEventListener(P.Chart.MOUSEOVER,this.handleChartHolderOnHover),n.addEventListener(P.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut))},e.prototype.filterBasedOnZoomDomain=function(n){var r=this.services.cartesianScales.getDomainIdentifier(n),a=this.model.get("zoomDomain");return a!==void 0?n.filter(function(i){return i[r].getTime()>=a[0].getTime()&&i[r].getTime()<=a[1].getTime()}):n},e.prototype.getScatterData=function(){var n=this,r=this.getOptions(),a=this.configs.stacked,i;if(a){var o=Object.keys(r.axes).some(function(s){return r.axes[s].percentage});i=this.model.getStackedData({groups:this.configs.groups,percentage:o})}else i=this.model.getDisplayData(this.configs.groups).filter(function(s){var u=n.services.cartesianScales.getRangeIdentifier(s);return s[u]!==void 0&&s[u]!==null});return this.filterBasedOnZoomDomain(i)},e.prototype.render=function(n){var r=b.getProperty(this.getOptions(),"points","enabled")||b.getProperty(this.getOptions(),"bubble","enabled");if(!!r){var a=this.getComponentContainer({withinChartClip:!0}),i=this.getOptions(),o=i.data.groupMapsTo,s=this.services.cartesianScales.getDomainIdentifier(),u=a.selectAll("circle.dot").data(this.getScatterData(),function(h){return h[o]+"-"+h[s]});u.exit().attr("opacity",0).remove();var l=u.enter().append("circle").classed("dot",!0).attr("opacity",0),c=l.merge(u);this.styleCircles(c,n),this.addEventListeners()}},e.prototype.isDatapointThresholdAnomaly=function(n,r){var a=this,i=this.configs.handleThresholds;if(!i)return!1;var o=this.services.cartesianScales,s=o.getOrientation(),u=b.flipDomainAndRangeBasedOnOrientation(this.services.cartesianScales.getHighestDomainThreshold(),this.services.cartesianScales.getHighestRangeThreshold(),s),l=u[0],c=u[1],h=b.flipDomainAndRangeBasedOnOrientation(function(v,_){return a.services.cartesianScales.getDomainValue(v,_)},function(v,_){return a.services.cartesianScales.getRangeValue(v,_)},s),f=h[0],p=h[1],d=f(n,r),m=p(n,r);if(c&&l)return m<=c.scaleValue&&d>=l.scaleValue;if(c)return m<=c.scaleValue;if(l)return d>=l.scaleValue},e.prototype.styleCircles=function(n,r){var a=this,i=this.getOptions(),o=i.points,s=o.filled,u=o.fillOpacity,l=this.services,c=l.cartesianScales;l.transitions;var h=i.data.groupMapsTo,f=function(g,y){return c.getDomainValue(g,y)},p=function(g,y){return c.getRangeValue(g,y)},d=b.flipDomainAndRangeBasedOnOrientation(f,p,c.getOrientation()),m=d[0],v=d[1],_=this.configs.fadeInOnChartHolderMouseover;n.raise().classed("dot",!0).attr("class",function(g){var y=c.getDomainIdentifier(g),O=a.model.getIsFilled(g[h],g[y],g,s),x=O?[rt.FILL,rt.STROKE]:[rt.STROKE];return a.model.getColorClassName({classNameTypes:x,dataGroupName:g[h],originalClassName:"dot"})}).classed("threshold-anomaly",function(g,y){return a.isDatapointThresholdAnomaly(g,y)}).classed("filled",function(g){var y=c.getDomainIdentifier(g);return a.model.getIsFilled(g[h],g[y],g,s)}).classed("unfilled",function(g){var y=c.getDomainIdentifier(g);return!a.model.getIsFilled(g[h],g[y],g,s)}).transition().call(function(g){return a.services.transitions.setupTransition({transition:g,name:"scatter-update-enter",animate:r})}).attr("cx",m).attr("cy",v).attr("r",i.points.radius).style("fill",function(g){var y=c.getDomainIdentifier(g);if(a.model.getIsFilled(g[h],g[y],g,s))return a.model.getFillColor(g[h],g[y],g)}).style("stroke",function(g){var y=c.getDomainIdentifier(g);return a.model.getStrokeColor(g[h],g[y],g)}).attr("fill-opacity",s?u:1).attr("opacity",_?0:1).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","point").attr("aria-label",function(g){var y=c.getRangeIdentifier(g);return g[y]}),this.addEventListeners()},e.prototype.getTooltipAdditionalItems=function(n){return null},e.prototype.addEventListeners=function(){var n=this,r=n.getOptions().data.groupMapsTo;this.parent.selectAll("circle").on("mouseover",function(a,i){var o=U(this);o.classed("hovered",!0).attr("class",function(s){return n.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:s[r],originalClassName:o.attr("class")})}).style("fill",function(s){var u=n.services.cartesianScales.getDomainIdentifier(s);return n.model.getFillColor(s[r],s[u],s)}).classed("unfilled",!1),n.services.events.dispatchEvent(P.Tooltip.SHOW,{event:a,hoveredElement:o,data:[i],additionalItems:n.getTooltipAdditionalItems(i)}),n.services.events.dispatchEvent(P.Scatter.SCATTER_MOUSEOVER,{event:a,element:o,datum:i})}).on("mousemove",function(a,i){var o=U(this);n.services.events.dispatchEvent(P.Scatter.SCATTER_MOUSEMOVE,{event:a,element:o,datum:i}),n.services.events.dispatchEvent(P.Tooltip.MOVE,{event:a})}).on("click",function(a,i){n.services.events.dispatchEvent(P.Scatter.SCATTER_CLICK,{event:a,element:U(this),datum:i})}).on("mouseout",function(a,i){var o=U(this);if(o.classed("hovered",!1),!n.configs.filled){var s=n.getOptions().points.filled,u=n.services.cartesianScales.getDomainIdentifier(i),l=n.model.getIsFilled(i[r],i[u],i,s);o.classed("unfilled",!l).style("fill",function(c){return l||s?n.model.getFillColor(c[r],c[u],c):null})}n.services.events.dispatchEvent(P.Scatter.SCATTER_MOUSEOUT,{event:a,element:o,datum:i}),n.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:o})})},e.prototype.destroy=function(){this.parent.selectAll("circle").on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),n.removeEventListener(P.Chart.MOUSEOVER,this.handleChartHolderOnHover),n.removeEventListener(P.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut)},e}(vt),eN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nN=function(t){eN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="bubble",n.renderType=at.SVG,n}return e.prototype.getRadiusScale=function(n){var r=this.getOptions(),a=r.bubble.radiusMapsTo,i=n.data(),o=i.map(function(c){return c[a]}).filter(function(c){return c}),s=F.getHTMLElementSize(this.services.domUtils.getMainContainer()),u=o.length>0,l=u?en(o):[1,1];return bn().domain(l).range(u?r.bubble.radiusRange(s,i):[4,4])},e.prototype.styleCircles=function(n,r){var a=this,i=this.getOptions(),o=i.bubble.radiusMapsTo,s=this.getRadiusScale(n),u=i.data.groupMapsTo,l=this.services.cartesianScales,c=function(m,v){return l.getDomainValue(m,v)},h=function(m,v){return l.getRangeValue(m,v)},f=b.flipDomainAndRangeBasedOnOrientation(c,h,l.getOrientation()),p=f[0],d=f[1];n.raise().classed("dot",!0).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-label",function(m){var v=l.getRangeIdentifier(m);return m[v]}).transition().call(function(m){return a.services.transitions.setupTransition({transition:m,name:"bubble-update-enter",animate:r})}).attr("cx",p).attr("cy",d).attr("r",function(m){return s(m[o]||1)}).attr("class",function(m){return a.model.getColorClassName({classNameTypes:[rt.FILL,rt.STROKE],dataGroupName:m[u],originalClassName:"dot"})}).style("fill",function(m){var v=a.services.cartesianScales.getDomainIdentifier(m);return a.model.getFillColor(m[u],m[v],m)}).style("stroke",function(m){var v=a.services.cartesianScales.getDomainIdentifier(m);return a.model.getStrokeColor(m[u],m[v],m)}).attr("fill-opacity",i.bubble.fillOpacity).attr("opacity",1)},e.prototype.getTooltipAdditionalItems=function(n){var r=b.getProperty(this.getOptions(),"bubble");return[{label:b.getProperty(r,"radiusLabel"),value:n[b.getProperty(r,"radiusMapsTo")]}]},e}(Ve),rN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),aN=function(t){rN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="bullet",n.renderType=at.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions().data.groupMapsTo;n.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-simple-bar"})}).attr("opacity",function(o){return o[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-simple-bar"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this,a=this.getOptions(),i=a.data.groupMapsTo,o=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),u=this.services.cartesianScales.getRangeScale(),l=this.services.cartesianScales.getRangeIdentifier(),c=u.range(),h=c[0],f=c[1],p=u.domain();p[0];var d=p[1],m=function(){var y=[];s.forEach(function(w){w.ranges?w.ranges.forEach(function(M,T){M!=null&&M<d&&y.push({datum:w,value:M,order:T+1})}):y.push({datum:w,order:1})});var O=F.appendOrSelect(o,"g.range-boxes").selectAll("path.range-box").data(y,function(w){return w[i]+"-"+w.order});O.exit().attr("opacity",0).remove();var x=O.enter().append("path").attr("opacity",0);x.merge(O).attr("class",function(w){return"range-box order-"+w.order}).transition().call(function(w){return r.services.transitions.setupTransition({transition:w,name:"bullet-range-box-update-enter",animate:n})}).attr("d",function(w,M){var T=16,S,C,E,R;return w.order===1?(S=r.services.cartesianScales.getDomainValue(w.datum,M)-T/2,C=S+T,E=f-2,R=h+1):(S=r.services.cartesianScales.getDomainValue(w.datum,M)-T/2,C=S+T,E=r.services.cartesianScales.getRangeValue(w.value,M),R=f),b.generateSVGPathString({x0:S,x1:C,y0:E,y1:R},r.services.cartesianScales.getOrientation())}).attr("opacity",1)},v=function(){var y=F.appendOrSelect(o,"g.bars").selectAll("path.bar").data(s,function(x){return x[i]});y.exit().attr("opacity",0).remove();var O=y.enter().append("path").attr("opacity",0);O.merge(y).classed("bar",!0).transition().call(function(x){return r.services.transitions.setupTransition({transition:x,name:"bullet-bar-update-enter",animate:n})}).attr("class",function(x){return r.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:x[i],originalClassName:"bar"})}).style("fill",function(x){return r.model.getFillColor(x[i])}).attr("d",function(x,w){var M=8,T=r.services.cartesianScales.getDomainValue(x,w)-M/2,S=T+M,C=r.services.cartesianScales.getRangeValue(0)+1,E=r.services.cartesianScales.getRangeValue(x,w);return b.generateSVGPathString({x0:T,x1:S,y0:C,y1:E},r.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(x){return x.value})},_=function(){var y=F.appendOrSelect(o,"g.markers").selectAll("path.marker").data(s.filter(function(x){return b.getProperty(x,"marker")!==null}),function(x){return x[i]});y.exit().attr("opacity",0).remove();var O=y.enter().append("path").attr("opacity",0);O.merge(y).classed("marker",!0).transition().call(function(x){return r.services.transitions.setupTransition({transition:x,name:"bullet-marker-update-enter",animate:n})}).attr("d",function(x,w){var M=24,T=r.services.cartesianScales.getDomainValue(x,w)-M/2,S=T+M,C=r.services.cartesianScales.getRangeValue(x.marker,w),E=C;return b.generateSVGPathString({x0:T,x1:S,y0:C,y1:E},r.services.cartesianScales.getOrientation())}).attr("opacity",1)},g=function(){var y=[];s.filter(function(w){return b.getProperty(w,"marker")!==null}).forEach(function(w){var M=w.marker,T=w[l];y=y.concat([{datum:w,value:M*.25,barValue:T},{datum:w,value:M*.5,barValue:T},{datum:w,value:M*.75,barValue:T}])});var O=F.appendOrSelect(o,"g.quartiles").selectAll("path.quartile").data(y,function(w){return w[i]});O.exit().attr("opacity",0).remove();var x=O.enter().append("path").attr("opacity",0);x.merge(O).attr("class",function(w){return"quartile "+(w.value<=w.barValue?"over-bar":"")}).transition().call(function(w){return r.services.transitions.setupTransition({transition:w,name:"bullet-quartile-update-enter",animate:n})}).attr("d",function(w,M){var T=w.datum,S=w.value,C=4;T.ranges&&T.ranges.indexOf(S)!==-1&&(C=8);var E=r.services.cartesianScales.getDomainValue(T,M)-C/2,R=E+C,L=r.services.cartesianScales.getRangeValue(S,M),N=L;return b.generateSVGPathString({x0:E,x1:R,y0:L,y1:N},r.services.cartesianScales.getOrientation())}).attr("opacity",1)};m(),v(),_(),g(),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this,r=this.getOptions(),a=r.data.groupMapsTo,i=this.services.cartesianScales.getRangeIdentifier();this.parent.selectAll("path.bar").on("mouseover",function(o,s){var u=U(this);u.classed("hovered",!0),n.services.events.dispatchEvent(P.Bar.BAR_MOUSEOVER,{event:o,element:u,datum:s});var l=b.getProperty(r,"bullet","performanceAreaTitles"),c=n.model.getMatchingRangeIndexForDatapoint(s);n.services.events.dispatchEvent(P.Tooltip.SHOW,{event:o,hoveredElement:u,items:[{label:r.tooltip.groupLabel||"Group",value:s[a],class:n.model.getColorClassName({classNameTypes:[rt.TOOLTIP],dataGroupName:s[a]})},{label:"Value",value:s[i]},{label:"Target",value:s.marker},{label:"Percentage",value:Math.floor(s[i]/s.marker*100)+"%"},{label:"Performance",value:l[c]}]})}).on("mousemove",function(o,s){n.services.events.dispatchEvent(P.Bar.BAR_MOUSEMOVE,{event:o,element:U(this),datum:s}),n.services.events.dispatchEvent(P.Tooltip.MOVE,{event:o})}).on("click",function(o,s){n.services.events.dispatchEvent(P.Bar.BAR_CLICK,{event:o,element:U(this),datum:s})}).on("mouseout",function(o,s){var u=U(this);u.classed("hovered",!1),n.services.events.dispatchEvent(P.Bar.BAR_MOUSEOUT,{event:o,element:u,datum:s}),n.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:u})})},e.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e}(vt),iN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oN=function(t){iN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="histogram",n.renderType=at.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions(),o=i.data.groupMapsTo;n.parent.selectAll("path.bar").transition("legend-hover-bar").call(function(s){return n.services.transitions.setupTransition({transition:s,name:"legend-hover-bar"})}).attr("opacity",function(s){return s[o]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-bar"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this,a=this.getComponentContainer(),i=this.model.getOptions(),o=i.groupIdentifier,s=i.data.groupMapsTo,u=this.model.getBinnedStackedData(),l=this.services.cartesianScales.getMainXScale(),c=a.selectAll("g.bars").data(u,function(f){return Ct(f,"0."+s)});c.exit().attr("opacity",0).remove(),c.enter().append("g").classed("bars",!0).attr("role",ct.GROUP);var h=a.selectAll("g.bars").selectAll("path.bar").data(function(f){return f});h.exit().remove(),h.enter().append("path").merge(h).classed("bar",!0).attr(o,function(f,p){return p}).transition().call(function(f){return r.services.transitions.setupTransition({transition:f,name:"histogram-bar-update-enter",animate:n})}).attr("class",function(f){return r.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:f[s],originalClassName:"bar"})}).style("fill",function(f){return r.model.getFillColor(f[s])}).attr("d",function(f,p){var d=Ct(f,"data");if(!!d){var m=l(d.x1)-l(d.x0)-1,v=r.services.cartesianScales.getDomainValue(d.x0,p),_=v+m,g=r.services.cartesianScales.getRangeValue(f[0],p),y=r.services.cartesianScales.getRangeValue(f[1],p);return Math.abs(y-g)>0&&Math.abs(y-g)>i.bars.dividerSize&&(r.services.cartesianScales.getOrientation()===Ft.VERTICAL?y+=1:y-=1),b.generateSVGPathString({x0:v,x1:_,y0:g,y1:y},r.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",function(f){return b.getProperty(f,"data",f[s])}),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this.model.getOptions(),r=n.data.groupMapsTo,a=this;this.parent.selectAll("path.bar").on("mouseover",function(i,o){var s=U(this);s.classed("hovered",!0);var u=parseFloat(Ct(o,"data.x0")),l=parseFloat(Ct(o,"data.x1")),c=a.services.cartesianScales.getRangeAxisPosition(),h=a.services.cartesianScales.getScaleLabel(c);a.services.events.dispatchEvent(P.Tooltip.SHOW,{event:i,hoveredElement:s,items:[{label:Ct(n,"bins.rangeLabel")||"Range",value:u+" \u2013 "+l},{label:n.tooltip.groupLabel||"Group",value:o[r],class:a.model.getColorClassName({classNameTypes:[rt.TOOLTIP],dataGroupName:o[r]})},{label:h,value:Ct(o,"data."+o[r])}]})}).on("mousemove",function(i,o){a.services.events.dispatchEvent(P.Tooltip.MOVE,{event:i})}).on("mouseout",function(i,o){var s=U(this);s.classed("hovered",!1),a.services.events.dispatchEvent(P.Tooltip.HIDE)})},e.prototype.destroy=function(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e}(vt),sN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zr=function(t){sN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="line",n.renderType=at.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement;n.parent.selectAll("path.line").transition("legend-hover-line").call(function(i){return n.services.transitions.setupTransition({transition:i,name:"legend-hover-line"})}).attr("opacity",function(i){return i.name!==a.datum().name?Ie.opacity.unselected:Ie.opacity.selected})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.line").transition("legend-mouseout-line").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-line"})}).attr("opacity",Ie.opacity.selected)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.getComponentContainer({withinChartClip:!0}),i=this.services,o=i.cartesianScales,s=i.curves,u=function(x,w){return o.getDomainValue(x,w)},l=function(x,w){return o.getRangeValue(x,w)},c=b.flipDomainAndRangeBasedOnOrientation(u,l,o.getOrientation()),h=c[0],f=c[1],p=this.getOptions(),d=Bo().x(h).y(f).curve(s.getD3Curve()).defined(function(x,w){var M=o.getRangeIdentifier(x),T=x[M];return T!=null}),m=[];if(this.configs.stacked){var v=Object.keys(p.axes).some(function(x){return p.axes[x].percentage}),_=p.data.groupMapsTo,g=this.model.getStackedData({groups:this.configs.groups,percentage:v});m=g.map(function(x){var w=r.services.cartesianScales.getDomainIdentifier(x),M=r.services.cartesianScales.getRangeIdentifier(x);return{name:b.getProperty(x,0,_),data:x.map(function(T){var S;return S={},S[w]=T.data.sharedStackKey,S[_]=T[_],S[M]=T[1],S}),hidden:!b.some(x,function(T){return T[0]!==T[1]})}})}else m=this.model.getGroupedData(this.configs.groups);var y=a.selectAll("path.line").data(m,function(x){return x.name});y.exit().attr("opacity",0).remove();var O=y.enter().append("path").classed("line",!0).attr("opacity",0);O.merge(y).data(m,function(x){return x.name}).attr("class",function(x){return r.model.getColorClassName({classNameTypes:[rt.STROKE],dataGroupName:x.name,originalClassName:"line"})}).style("stroke",function(x){return r.model.getStrokeColor(x.name)}).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","line").attr("aria-label",function(x){var w=x.data;return w.map(function(M){var T=r.services.cartesianScales.getRangeIdentifier(M);return M[T]}).join(",")}).transition().call(function(x){return r.services.transitions.setupTransition({transition:x,name:"line-update-enter",animate:n})}).attr("opacity",function(x){return x.hidden?0:1}).attr("d",function(x){var w=x.data;return d(w)})},e.prototype.destroy=function(){var n=this.services.events;n.removeEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e}(vt),uN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lN=function(t){uN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="lollipop",n.renderType=at.SVG,n.handleScatterOnHover=function(r){var a=r.detail,i=n.getOptions(),o=i.data.groupMapsTo;n.parent.selectAll("line.line").attr("stroke-width",function(s){return s[o]!==a.datum[o]?Ie.weight.unselected:Ie.weight.selected})},n.handleScatterOnMouseOut=function(r){n.parent.selectAll("line.line").attr("stroke-width",Ie.weight.unselected)},n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions(),o=i.data.groupMapsTo;n.parent.selectAll("line.line").transition("legend-hover-line").call(function(s){return n.services.transitions.setupTransition({transition:s,name:"legend-hover-line"})}).attr("opacity",function(s){return s[o]!==a.datum().name?Ie.opacity.unselected:Ie.opacity.selected})},n.handleLegendMouseOut=function(r){n.parent.selectAll("line.line").transition("legend-mouseout-line").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-line"})}).attr("opacity",Ie.opacity.selected)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this,a=this.getComponentContainer({withinChartClip:!0}),i=this.model.getOptions(),o=i.data.groupMapsTo,s=this.services.cartesianScales,u=s.getMainXScale(),l=s.getMainYScale(),c=s.getDomainIdentifier(),h=function(O,x){return s.getDomainValue(O,x)},f=function(O,x){return s.getRangeValue(O,x)},p=s.getOrientation(),d=b.flipDomainAndRangeBasedOnOrientation(h,f,p),m=d[0],v=d[1],_=a.selectAll("line.line").data(this.getScatterData(),function(O){return O[o]+"-"+O[c]});_.exit().attr("opacity",0).remove();var g=_.enter().append("line").attr("opacity",0),y=g.merge(_).classed("line",!0).attr("class",function(O){return r.model.getColorClassName({classNameTypes:[rt.STROKE],dataGroupName:O[o],originalClassName:"line"})}).transition().call(function(O){return r.services.transitions.setupTransition({transition:O,name:"lollipop-line-update-enter",animate:n})}).style("stroke",function(O){return r.model.getFillColor(O[o],O[c],O)}).attr("opacity",1);p===Ft.HORIZONTAL?y.attr("y1",v).attr("y2",v).attr("x1",u.range()[0]).attr("x2",function(O,x){return m(O,x)-i.points.radius}):y.attr("x1",m).attr("x2",m).attr("y1",l.range()[0]).attr("y2",function(O,x){return v(O,x)+i.points.radius}),this.addScatterPointEventListeners()},e.prototype.addScatterPointEventListeners=function(){this.services.events.addEventListener(P.Scatter.SCATTER_MOUSEOVER,this.handleScatterOnHover),this.services.events.addEventListener(P.Scatter.SCATTER_MOUSEOUT,this.handleScatterOnMouseOut)},e.prototype.destroy=function(){var n=this.services.events;n.removeEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),n.removeEventListener(P.Scatter.SCATTER_MOUSEOVER,this.handleScatterOnHover),n.removeEventListener(P.Scatter.SCATTER_MOUSEOUT,this.handleScatterOnMouseOut)},e}(Ve),cN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Im=function(t){cN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="scatter-stacked",n.renderType=at.SVG,n}return e.prototype.render=function(n){var r=this,a=b.getProperty(this.getOptions(),"points","enabled");if(!!a){var i=this.getComponentContainer({withinChartClip:!0}),o=this.getOptions(),s=o.data.groupMapsTo,u=Object.keys(o.axes).some(function(m){return o.axes[m].percentage}),l=this.model.getStackedData({groups:this.configs.groups,percentage:u}),c=i.selectAll("g.dots").data(l,function(m){return b.getProperty(m,0,s)});c.exit().attr("opacity",0).remove();var h=c.enter().append("g").classed("dots",!0).attr("role",ct.GROUP),f=h.merge(c).selectAll("circle.dot").data(function(m){return m});f.exit().attr("opacity",0).remove();var p=f.enter().append("circle").classed("dot",!0).attr("opacity",0),d=p.merge(f).datum(function(m){var v,_=m[s],g=r.services.cartesianScales.getDomainIdentifier(m),y=r.services.cartesianScales.getRangeIdentifier(m);return v={},v[s]=_,v[g]=m.data.sharedStackKey,v[y]=m[1],v});this.styleCircles(d,n),this.addEventListeners()}},e.prototype.getTooltipData=function(n,r){var a=this,i=this.getOptions(),o=i.data.groupMapsTo,s=Object.keys(i.axes).some(function(c){return i.axes[c].percentage}),u=this.model.getStackedData({groups:this.configs.groups,percentage:s}),l=[];return u.forEach(function(c,h){c.forEach(function(f,p){var d,m=f[o],v=f.data.sharedStackKey,_=f.data[m],g=f[1],y=a.services.cartesianScales.getDomainIdentifier(f),O=a.services.cartesianScales.getRangeIdentifier(f);_!=null&&n===a.services.cartesianScales.getDomainValue(v)&&r===a.services.cartesianScales.getRangeValue(g)&&(s&&(_=a.model.getStackedData({groups:a.configs.groups})[h][p].data[m]),_!==null&&l.push((d={},d[o]=m,d[y]=v,d[O]=_,d)))})}),this.model.getDisplayData(this.configs.groups).filter(function(c){var h=a.services.cartesianScales.getDomainIdentifier(c),f=a.services.cartesianScales.getRangeIdentifier(c);return l.find(function(p){return p[o]==c[o]&&p[h]==c[h]&&p[f]==c[f]})!==void 0})},e}(Ve),fN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function hN(t,e){var n=this,r=Ya(this._current,t);return function(a){return n._current=r(a),e(n._current)}}var Nm=function(t){fN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="pie",n.renderType=at.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions().data.groupMapsTo;n.parent.selectAll("path.slice").transition("legend-hover-bar").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})}).attr("opacity",function(o){return o.data[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("path.slice").transition("legend-mouseout-bar").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-bar"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.getInnerRadius=function(){return Ot.innerRadius},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this,i=this.getComponentContainer(),o=this.getOptions(),s=o.data.groupMapsTo,u=o.pie.valueMapsTo,l=this.model.getDisplayData().filter(function(N){return N[u]>0}),c=this.computeRadius();this.arc=ri().innerRadius(this.getInnerRadius()).outerRadius(c),this.hoverArc=ri().innerRadius(this.getInnerRadius()).outerRadius(c+Ot.hoverArc.outerRadiusOffset);var h=B2().value(function(N){return N[u]}).sort(b.getProperty(o,"pie","sortFunction")).padAngle(Ot.padAngle),f=h(l),p=F.appendOrSelect(i,"g.slices").attr("role",ct.GROUP).attr("data-name","slices"),d=p.selectAll("path.slice").data(f,function(N){return N.data[s]});d.exit().attr("opacity",0).remove();var m=d.enter().append("path").classed("slice",!0).attr("opacity",0),v=m.merge(d).attr("class",function(N){return r.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:N.data[s],originalClassName:"slice"})}).style("fill",function(N){return a.model.getFillColor(N.data[s])}).attr("d",this.arc);v.transition().call(function(N){return r.services.transitions.setupTransition({transition:N,name:"pie_slice_enter_update",animate:n})}).attr("opacity",1).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","slice").attr("aria-label",function(N){return N[u]+", "+(b.convertValueToPercentage(N.data[u],l,u)+"%")}).attrTween("d",function(N){return hN.bind(this)(N,a.arc)});var _=o.pie.labels.enabled,g=_?f.filter(function(N){return N.data[u]>0}):[],y=F.appendOrSelect(i,"g.labels").attr("role",ct.GROUP).attr("data-name","labels"),O=y.selectAll("text.pie-label").data(g,function(N){return N.data[s]});O.exit().attr("opacity",0).remove();var x=O.enter().append("text").classed("pie-label",!0),w=[];x.merge(O).style("text-anchor","middle").text(function(N){return o.pie.labels.formatter?o.pie.labels.formatter(N):b.convertValueToPercentage(N.data[u],l,u)+"%"}).datum(function(N){var A=c+7,k=(N.endAngle-N.startAngle)/2+N.startAngle,I=k/Math.PI*180,B=this.getComputedTextLength();return N.textOffsetX=B/2,N.textOffsetY=I>90&&I<270?10:0,N.xPosition=(N.textOffsetX+A)*Math.sin(k),N.yPosition=(N.textOffsetY+A)*-Math.cos(k),N}).attr("transform",function(N,A){var k=g.length,I=(N.endAngle-N.startAngle)*(180/Math.PI);if(A>=k-2&&I<Ot.callout.minSliceDegree){var B=void 0,D=void 0;return N.index===k-1?(B=N.xPosition+Ot.callout.offsetX+Ot.callout.textMargin+N.textOffsetX,D=N.yPosition-Ot.callout.offsetY,N.direction=Sa.RIGHT,w.push(N)):(B=N.xPosition-Ot.callout.offsetX-N.textOffsetX-Ot.callout.textMargin,D=N.yPosition-Ot.callout.offsetY,N.direction=Sa.LEFT,w.push(N)),"translate("+B+", "+D+")"}return"translate("+N.xPosition+", "+N.yPosition+")"}),this.renderCallouts(w);var M=b.getProperty(o,"donut")?"donut":"pie",T=b.getProperty(o,M,"alignment"),S=F.getSVGElementSize(this.getParent(),{useAttrs:!0}).width,C=_?Ot.xOffset:0,E=_?Ot.yOffset:0,R=c+C;T===Ht.CENTER?R=S/2:T===Ht.RIGHT&&(R=S-c-Ot.xOffset);var L=c+E;w.length>0&&(L+=Ot.yOffsetCallout),i.attr("x",R+7).attr("y",L),this.addEventListeners()},e.prototype.renderCallouts=function(n){var r=F.appendOrSelect(this.getComponentContainer(),"g.callouts").attr("role",ct.GROUP).attr("data-name","callouts"),a=r.selectAll("g.callout").data(n);a.exit().remove();var i=a.enter().append("g").classed("callout",!0).attr("role",ct.GROUP).attr("aria-roledescription","label callout");i.merge(a).datum(function(u){var l=u.xPosition,c=u.yPosition,h=u.direction;return h===Sa.RIGHT?(u.startPos={x:l,y:c+u.textOffsetY},u.endPos={x:l+Ot.callout.offsetX,y:c-Ot.callout.offsetY+u.textOffsetY},u.intersectPointX=u.endPos.x-Ot.callout.horizontalLineLength):(u.startPos={x:l,y:c+u.textOffsetY},u.endPos={x:l-Ot.callout.offsetX,y:c-Ot.callout.offsetY+u.textOffsetY},u.intersectPointX=u.endPos.x+Ot.callout.horizontalLineLength),u});var o=i.append("line").classed("vertical-line",!0);o.merge(r.selectAll("line.vertical-line")).datum(function(u){return U(this.parentNode).datum()}).style("stroke-width","1px").attr("x1",function(u){return u.startPos.x}).attr("y1",function(u){return u.startPos.y}).attr("x2",function(u){return u.intersectPointX}).attr("y2",function(u){return u.endPos.y});var s=i.append("line").classed("horizontal-line",!0);s.merge(r.selectAll("line.horizontal-line")).datum(function(u){return U(this.parentNode).datum()}).style("stroke-width","1px").attr("x1",function(u){return u.intersectPointX}).attr("y1",function(u){return u.endPos.y}).attr("x2",function(u){return u.endPos.x}).attr("y2",function(u){return u.endPos.y})},e.prototype.addEventListeners=function(){var n=this;this.parent.selectAll("path.slice").on("mouseover",function(r,a){var i=U(this);i.classed("hovered",!0).transition("pie_slice_mouseover").call(function(u){return n.services.transitions.setupTransition({transition:u,name:"pie_slice_mouseover"})}).attr("d",n.hoverArc),n.services.events.dispatchEvent(P.Pie.SLICE_MOUSEOVER,{event:r,element:U(this),datum:a});var o=n.getOptions().data.groupMapsTo,s=n.getOptions().pie.valueMapsTo;n.services.events.dispatchEvent(P.Tooltip.SHOW,{event:r,hoveredElement:i,items:[{label:a.data[o],value:a.data[s]}]})}).on("mousemove",function(r,a){var i=U(this);n.services.events.dispatchEvent(P.Pie.SLICE_MOUSEMOVE,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(P.Tooltip.MOVE,{event:r})}).on("click",function(r,a){n.services.events.dispatchEvent(P.Pie.SLICE_CLICK,{event:r,element:U(this),datum:a})}).on("mouseout",function(r,a){var i=U(this);i.classed("hovered",!1).transition("pie_slice_mouseout").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"pie_slice_mouseout"})}).attr("d",n.arc),n.services.events.dispatchEvent(P.Pie.SLICE_MOUSEOUT,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:i})})},e.prototype.computeRadius=function(){var n=F.getSVGElementSize(this.parent,{useAttrs:!0}),r=n.width,a=n.height,i=this.getOptions(),o=Math.min(r,a)/2,s=i.pie.labels.enabled;return s?o+Ot.radiusOffset:o},e}(vt),dN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bm="4,10 8,6 12,10",Um="12,6 8,10 4,6",pN=function(t){dN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="gauge",n.renderType=at.SVG,n}return e.prototype.getValue=function(){var n,r,a=this.model.getData(),i=(r=(n=a.find(function(o){return o.group==="value"}))===null||n===void 0?void 0:n.value,r!=null?r:null);return i},e.prototype.getValueRatio=function(){var n=b.clamp(this.getValue(),0,100);return n/100},e.prototype.getDelta=function(){var n,r,a=this.model.getData(),i=(r=(n=a.find(function(o){return o.group==="delta"}))===null||n===void 0?void 0:n.value,r!=null?r:null);return i},e.prototype.getArcRatio=function(){var n=this.getOptions(),r=b.getProperty(n,"gauge","type"),a=r===Fn.FULL?1:.5;return a},e.prototype.getArcSize=function(){return this.getArcRatio()*Math.PI*2},e.prototype.getStartAngle=function(){var n=this.getArcSize();return n===2*Math.PI?0:-n/2},e.prototype.getArrow=function(n){var r=this.getOptions(),a=b.getProperty(r,"gauge","deltaArrow","direction");switch(a){case to.UP:return Bm;case to.DOWN:return Um;default:return n>0?Bm:Um}},e.prototype.render=function(n){var r=this,a=this.getComponentContainer().attr("width","100%").attr("height","100%"),i=this.getOptions(),o=this.getValue(),s=this.getValueRatio(),u=this.getArcSize(),l=this.getStartAngle(),c=s*u,h=l+c,f=l+u,p=this.computeRadius(),d=this.getInnerRadius();this.backgroundArc=ri().innerRadius(d).outerRadius(p).startAngle(h).endAngle(f),this.arc=ri().innerRadius(d).outerRadius(p).startAngle(l).endAngle(h),F.appendOrSelect(a,"path.arc-background").attr("d",this.backgroundArc);var m=a.selectAll("path.arc-foreground").data([o]),v=m.enter().append("path");v.merge(m).attr("class",this.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:"value",originalClassName:"arc-foreground"})).style("fill",function(O){return b.getProperty(r.getOptions(),"color","scale","value")}).attr("d",this.arc).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","value").attr("aria-label",function(O){return O}),this.drawValueNumber(),this.drawDelta(),m.exit().remove();var _=b.getProperty(i,"gauge","alignment"),g=F.getSVGElementSize(this.getParent(),{useAttrs:!0}).width,y=p;_===Ht.CENTER?y=g/2:_===Ht.RIGHT&&(y=g-p),a.attr("x",y).attr("y",p),this.addEventListeners()},e.prototype.drawValueNumber=function(){var n=this.getComponentContainer(),r=this.getOptions(),a=b.getProperty(r,"gauge","type"),i=this.getValue(),o=this.getDelta(),s=this.computeRadius(),u=b.getProperty(r,"gauge","valueFontSize"),l=b.getProperty(r,"gauge","deltaFontSize"),c=b.getProperty(r,"gauge","numberSpacing"),h=b.getProperty(r,"gauge","showPercentageSymbol"),f=0;a===Fn.FULL&&!o?f=l(s):a===Fn.SEMI&&o&&(f=-(l(s)+c));var p=F.appendOrSelect(n,"g.gauge-numbers").attr("transform","translate(0, "+f+")"),d=u(s),m=F.appendOrSelect(p,"g.gauge-value-number"),v=b.getProperty(r,"gauge","numberFormatter"),_=m.selectAll("text.gauge-value-number").data([i]);_.enter().append("text").attr("class","gauge-value-number").merge(_).style("font-size",d+"px").attr("text-anchor","middle").text(function(S){return v(S)});var g=F.getSVGElementSize(F.appendOrSelect(n,"text.gauge-value-number"),{useBBox:!0}).width,y=d/2,O=h?"%":"",x=F.appendOrSelect(m,"text.gauge-value-symbol").style("font-size",y+"px").attr("x",g/2).text(O),w=F.getSVGElementSize(x,{useBBox:!0}),M=w.width,T=w.height;x.attr("y","-"+T/2+"px"),m.attr("transform","translate(-"+M/2+", 0)")},e.prototype.drawDelta=function(){var n=this,r=this.getComponentContainer(),a=this.getOptions(),i=this.getDelta(),o=this.computeRadius(),s=i?b.getProperty(a,"gauge","deltaFontSize"):function(){return 0},u=i?b.getProperty(a,"gauge","numberFormatter"):function(){return null},l=b.getProperty(a,"gauge","deltaArrow","size"),c=b.getProperty(a,"gauge","numberSpacing"),h=b.getProperty(a,"gauge","showPercentageSymbol"),f=F.appendOrSelect(r,"g.gauge-numbers"),p=F.appendOrSelect(f,"g.gauge-delta").attr("transform","translate(0, "+(s(o)+c)+")"),d=F.appendOrSelect(p,"text.gauge-delta-number"),m=h?"%":"";d.data(i===null?[]:[i]),d.enter().append("text").classed("gauge-delta-number",!0).merge(d).attr("text-anchor","middle").style("font-size",s(o)+"px").text(function(y){return""+u(y)+m});var v=F.getSVGElementSize(F.appendOrSelect(r,".gauge-delta-number"),{useBBox:!0}).width,_=b.getProperty(a,"gauge","deltaArrow","enabled"),g=p.selectAll("svg.gauge-delta-arrow").data(i!==null&&_?[i]:[]);g.enter().append("svg").merge(g).attr("class","gauge-delta-arrow").attr("x",-l(o)-v/2).attr("y",-l(o)/2-s(o)*.35).attr("width",l(o)).attr("height",l(o)).attr("viewBox","0 0 16 16").each(function(){var y=U(this);F.appendOrSelect(y,"rect.gauge-delta-arrow-backdrop").attr("width","16").attr("height","16").attr("fill","none");var O=b.getProperty(a,"gauge","status");F.appendOrSelect(y,"polygon.gauge-delta-arrow").attr("class",O!==null?"gauge-delta-arrow status--"+O:"").attr("points",n.getArrow(i))}),g.exit().remove(),d.exit().remove()},e.prototype.getInnerRadius=function(){var n=this.computeRadius(),r=b.getProperty(this.getOptions(),"gauge","arcWidth");return n-r},e.prototype.addEventListeners=function(){var n=this;this.parent.selectAll("path.arc-foreground").on("mouseover",function(r,a){n.services.events.dispatchEvent(P.Gauge.ARC_MOUSEOVER,{event:r,element:U(this),datum:a})}).on("mousemove",function(r,a){var i=U(this);n.services.events.dispatchEvent(P.Gauge.ARC_MOUSEMOVE,{event:r,element:i,datum:a})}).on("click",function(r,a){n.services.events.dispatchEvent(P.Gauge.ARC_CLICK,{event:r,element:U(this),datum:a})}).on("mouseout",function(r,a){var i=U(this);n.services.events.dispatchEvent(P.Gauge.ARC_MOUSEOUT,{event:r,element:i,datum:a})})},e.prototype.computeRadius=function(){var n=this.getOptions(),r=b.getProperty(n,"gauge","type"),a=F.getSVGElementSize(this.parent,{useAttrs:!0}),i=a.width,o=a.height,s=r===Fn.SEMI?Math.min(i/2,o):Math.min(i/2,o/2);return s},e}(vt),vN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gN=function(t){vN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="donut",n.renderType=at.SVG,n}return e.prototype.render=function(n){var r=this;n===void 0&&(n=!0),t.prototype.render.call(this,n);var a=this;if(this.model.isDataEmpty()){this.getComponentContainer().select("g.center").remove();return}var i=F.appendOrSelect(this.getComponentContainer(),"g.center"),o=this.getOptions(),s=this.computeRadius(),u=b.getProperty(o,"donut","center","label");F.appendOrSelect(i,"text.donut-figure").attr("text-anchor","middle").style("dominant-baseline",function(){return u===null||u===""?"central":"initial"}).style("font-size",function(){return o.donut.center.numberFontSize(s)}).transition().call(function(l){return r.services.transitions.setupTransition({transition:l,name:"donut-figure-enter-update",animate:n})}).tween("text",function(){return a.centerNumberTween(U(this))}),u!==null&&u!==""&&F.appendOrSelect(i,"text.donut-title").attr("text-anchor","middle").style("font-size",function(){return o.donut.center.titleFontSize(s)}).attr("y",o.donut.center.titleYPosition(s)).text(u)},e.prototype.getInnerRadius=function(){var n=this.computeRadius();return n*(3/4)},e.prototype.centerNumberTween=function(n){var r=this.getOptions(),a=b.getProperty(r,"donut","center","number");a===null&&(a=this.model.getDisplayData().reduce(function(u,l){return u+l[r.pie.valueMapsTo]},0));var i=parseInt(n.text().replace(/[, ]+/g,""),10)||0,o;i%1==0&&a%1==0?o=kv:o=we;var s=o(i,a);return function(u){var l=r.donut.center.numberFormatter;n.text(l(s(u)))}},e}(Nm),mN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oe=function(t){mN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="skeleton",n}return e.prototype.render=function(){var n=b.getProperty(this.getOptions(),"data","loading");n?this.renderSkeleton(n):this.removeSkeleton()},e.prototype.renderSkeleton=function(n){if(this.configs.skeleton===Bt.GRID)this.renderGridSkeleton(n);else if(this.configs.skeleton===Bt.VERT_OR_HORIZ)this.renderVertOrHorizSkeleton(n);else if(this.configs.skeleton===Bt.PIE)this.renderPieSkeleton(n);else if(this.configs.skeleton===Bt.DONUT)this.renderDonutSkeleton(n);else throw new Error('"'+this.configs.skeleton+'" is not a valid Skeleton type.')},e.prototype.renderGridSkeleton=function(n){this.setScales(),this.drawBackdrop(n),this.drawXGrid(n),this.drawYGrid(n),n&&this.setShimmerEffect("shimmer-lines")},e.prototype.renderVertOrHorizSkeleton=function(n){var r=this.services.cartesianScales.getOrientation();this.setScales(),this.drawBackdrop(n),r===Ft.VERTICAL&&this.drawYGrid(n),r===Ft.HORIZONTAL&&this.drawXGrid(n),this.setShimmerEffect("shimmer-lines")},e.prototype.renderPieSkeleton=function(n){var r=this.computeOuterRadius(),a=0;this.drawRing(r,a,n),n&&this.setShimmerEffect("shimmer-areas")},e.prototype.renderDonutSkeleton=function(n){var r=this.computeOuterRadius(),a=this.computeInnerRadius();this.drawRing(r,a,n),n&&this.setShimmerEffect("shimmer-areas")},e.prototype.setScales=function(){var n=this.services.cartesianScales.getMainXScale().range(),r=this.services.cartesianScales.getMainYScale().range();this.xScale=bn().domain([0,1]).range(n),this.yScale=bn().domain([0,1]).range(r)},e.prototype.drawBackdrop=function(n){var r=this.parent,a=F.getSVGElementSize(r,{useAttrs:!0}),i=a.width,o=a.height;this.backdrop=F.appendOrSelect(r,"svg.chart-skeleton.DAII").attr("width",i).attr("height",o);var s=F.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");s.attr("width","100%").attr("height","100%");var u=this.xScale.range(),l=u[0];u[1];var c=this.yScale.range();c[0];var h=c[1];this.backdrop.merge(s).attr("x",l).attr("y",h),s.classed("shimmer-effect-lines",n).classed("empty-state-lines",!n).style("stroke",n?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},e.prototype.drawXGrid=function(n){var r=this.backdrop.attr("width"),a=b.getProperty(this.getOptions(),"grid","x","numberOfTicks"),i=this.xScale.ticks(a).map(function(u){return u*r}),o=F.appendOrSelect(this.backdrop,"g.x.skeleton"),s=o.selectAll("line").data(i);s.enter().append("line").merge(s).attr("x1",function(u){return u}).attr("x2",function(u){return u}).attr("y1",0).attr("y2","100%"),o.selectAll("line").classed("shimmer-effect-lines",n).classed("empty-state-lines",!n).style("stroke",n?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},e.prototype.drawYGrid=function(n){var r=this.backdrop.attr("height"),a=this.backdrop.attr("width"),i=b.getProperty(this.getOptions(),"grid","y","numberOfTicks"),o=this.xScale.ticks(i).map(function(l){return l*r}),s=F.appendOrSelect(this.backdrop,"g.y.skeleton"),u=s.selectAll("line").data(o);u.enter().append("line").merge(u).attr("x1",0).attr("x2",a).attr("y1",function(l){return l}).attr("y2",function(l){return l}),s.selectAll("line").classed("shimmer-effect-lines",n).classed("empty-state-lines",!n).style("stroke",n?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},e.prototype.drawRing=function(n,r,a){a===void 0&&(a=!0);var i=this.parent,o=F.getSVGElementSize(i,{useAttrs:!0}),s=o.width,u=o.height,l=F.appendOrSelect(i,"svg.chart-skeleton").attr("width",s).attr("height",u),c=r===0?"pie":"donut",h=b.getProperty(this.getOptions(),c,"alignment");F.appendOrSelect(l,"rect.chart-skeleton-area-container").attr("width",s).attr("height",u).attr("fill","none");var f=ri().innerRadius(r).outerRadius(n).startAngle(0).endAngle(Math.PI*2),p=n+Math.abs(Ot.radiusOffset),d=n+(Math.min(s,u)-n*2)/2,m=F.appendOrSelect(l,"path").attr("class","skeleton-area-shape").attr("transform","translate("+p+", "+d+")").attr("d",f).classed("shimmer-effect-areas",a).classed("empty-state-areas",!a).style("fill",a?"url(#"+this.services.domUtils.generateElementIDString("shimmer-areas")+")":null),v=n+Ot.xOffset;h===Ht.CENTER?v=s/2:h===Ht.RIGHT&&(v=s-n-Ot.xOffset);var _=n+Ot.yOffset;m.attr("transform","translate("+v+", "+_+")")},e.prototype.computeOuterRadius=function(){var n=F.getSVGElementSize(this.parent,{useAttrs:!0}),r=n.width,a=n.height,i=Math.min(r,a)/2;return i+Ot.radiusOffset},e.prototype.computeInnerRadius=function(){return this.computeOuterRadius()*(3/4)},e.prototype.setShimmerEffect=function(n){var r=2e3,a=1e3,i=.2,o="stop-bg-shimmer",s="stop-shimmer",u=this.parent.select(".chart-skeleton"),l=F.getSVGElementSize(this.parent,{useAttrs:!0}).width,c=0,h=l,f=F.appendOrSelect(u,"defs").lower(),p=F.appendOrSelect(f,"linearGradient").attr("id",this.services.domUtils.generateElementIDString(n)).attr("class",n).attr("x1",c-3*i*l).attr("x2",h).attr("y1",0).attr("y2",0).attr("gradientUnits","userSpaceOnUse").attr("gradientTransform","translate(0, 0)"),d=`
			<stop class="`+o+'" offset="'+c+`"></stop>
			<stop class="`+s+'" offset="'+(c+i)+`"></stop>
			<stop class="`+o+'" offset="'+(c+2*i)+`"></stop>
		`;p.html(d),m();function m(){p.attr("gradientTransform","translate("+(c-3*i*l)+", 0)").transition().duration(r).delay(a).ease(ux).attr("gradientTransform","translate("+(h+3*i*l)+", 0)").on("end",m)}},e.prototype.removeSkeleton=function(){var n=this.parent.select(".chart-skeleton");n.remove()},e}(vt),yN=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_N=function(t){yN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="skeleton-lines",n}return e.prototype.render=function(){var n=b.getProperty(this.getOptions(),"data","loading"),r=!b.getProperty(this.getOptions(),"grid","x","enabled")&&!b.getProperty(this.getOptions(),"grid","y","enabled")&&!b.getProperty(this.getOptions(),"axes","bottom","visible")&&!b.getProperty(this.getOptions(),"axes","left","visible");n&&!r?t.prototype.renderGridSkeleton.call(this,n):n&&r?this.renderSparklineSkeleton(n):this.removeSkeleton()},e.prototype.renderSparklineSkeleton=function(n){this.setScales(),this.drawBackdrop(n),this.drawSparkline(n),this.updateBackdropStyle(),n&&this.setShimmerEffect("shimmer-lines")},e.prototype.drawSparkline=function(n){var r=this.backdrop.attr("width"),a=[100],i=F.appendOrSelect(this.backdrop,"g.y.skeleton"),o=i.selectAll("line").data(a);o.enter().append("line").merge(o).attr("x1",0).attr("x2",r).attr("y1",function(s){return s}).attr("y2",function(s){return s}),i.selectAll("line").classed("shimmer-effect-lines",n).classed("empty-state-lines",!n).style("stroke",n?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},e.prototype.updateBackdropStyle=function(){var n=this.parent;this.backdrop=F.appendOrSelect(n,"svg.chart-skeleton.DAII");var r=F.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");r.classed("shimmer-effect-lines",!1).classed("shimmer-effect-sparkline",!0).style("stroke",null)},e}(oe);function bN(t,e){return t.parent===e.parent?1:2}function xN(t){return t.reduce(wN,0)/t.length}function wN(t,e){return t+e.x}function ON(t){return 1+t.reduce(TN,0)}function TN(t,e){return Math.max(t,e.y)}function SN(t){for(var e;e=t.children;)t=e[0];return t}function EN(t){for(var e;e=t.children;)t=e[e.length-1];return t}function MN(){var t=bN,e=1,n=1,r=!1;function a(i){var o,s=0;i.eachAfter(function(f){var p=f.children;p?(f.x=xN(p),f.y=ON(p)):(f.x=o?s+=t(f,o):0,f.y=0,o=f)});var u=SN(i),l=EN(i),c=u.x-t(u,l)/2,h=l.x+t(l,u)/2;return i.eachAfter(r?function(f){f.x=(f.x-i.x)*e,f.y=(i.y-f.y)*n}:function(f){f.x=(f.x-c)/(h-c)*e,f.y=(1-(i.y?f.y/i.y:1))*n})}return a.separation=function(i){return arguments.length?(t=i,a):t},a.size=function(i){return arguments.length?(r=!1,e=+i[0],n=+i[1],a):r?null:[e,n]},a.nodeSize=function(i){return arguments.length?(r=!0,e=+i[0],n=+i[1],a):r?[e,n]:null},a}function CN(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function AN(){return this.eachAfter(CN)}function PN(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function DN(t,e){for(var n=this,r=[n],a,i,o=-1;n=r.pop();)if(t.call(e,n,++o,this),a=n.children)for(i=a.length-1;i>=0;--i)r.push(a[i]);return this}function LN(t,e){for(var n=this,r=[n],a=[],i,o,s,u=-1;n=r.pop();)if(a.push(n),i=n.children)for(o=0,s=i.length;o<s;++o)r.push(i[o]);for(;n=a.pop();)t.call(e,n,++u,this);return this}function kN(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function RN(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,a=r&&r.length;--a>=0;)n+=r[a].value;e.value=n})}function IN(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function NN(t){for(var e=this,n=BN(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var a=r.length;t!==n;)r.splice(a,0,t),t=t.parent;return r}function BN(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),a=null;for(t=n.pop(),e=r.pop();t===e;)a=t,t=n.pop(),e=r.pop();return a}function UN(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function FN(){return Array.from(this)}function VN(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function $N(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*GN(){var t=this,e,n=[t],r,a,i;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(a=0,i=r.length;a<i;++a)n.push(r[a]);while(n.length)}function li(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=WN)):e===void 0&&(e=zN);for(var n=new ci(t),r,a=[n],i,o,s,u;r=a.pop();)if((o=e(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,s=u-1;s>=0;--s)a.push(i=o[s]=new ci(o[s])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(YN)}function HN(){return li(this).eachBefore(jN)}function zN(t){return t.children}function WN(t){return Array.isArray(t)?t[1]:null}function jN(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function YN(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ci(t){this.data=t,this.depth=this.height=0,this.parent=null}ci.prototype=li.prototype={constructor:ci,count:AN,each:PN,eachAfter:LN,eachBefore:DN,find:kN,sum:RN,sort:IN,path:NN,ancestors:UN,descendants:FN,leaves:VN,links:$N,copy:HN,[Symbol.iterator]:GN};function qN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KN(t){for(var e=t.length,n,r;e;)r=Math.random()*e--|0,n=t[e],t[e]=t[r],t[r]=n;return t}function XN(t){for(var e=0,n=(t=KN(Array.from(t))).length,r=[],a,i;e<n;)a=t[e],i&&Fm(i,a)?++e:(i=QN(r=ZN(r,a)),e=0);return i}function ZN(t,e){var n,r;if(df(e,t))return[e];for(n=0;n<t.length;++n)if(ds(e,t[n])&&df(fi(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(ds(fi(t[n],t[r]),e)&&ds(fi(t[n],e),t[r])&&ds(fi(t[r],e),t[n])&&df(Vm(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function ds(t,e){var n=t.r-e.r,r=e.x-t.x,a=e.y-t.y;return n<0||n*n<r*r+a*a}function Fm(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,a=e.y-t.y;return n>0&&n*n>r*r+a*a}function df(t,e){for(var n=0;n<e.length;++n)if(!Fm(t,e[n]))return!1;return!0}function QN(t){switch(t.length){case 1:return JN(t[0]);case 2:return fi(t[0],t[1]);case 3:return Vm(t[0],t[1],t[2])}}function JN(t){return{x:t.x,y:t.y,r:t.r}}function fi(t,e){var n=t.x,r=t.y,a=t.r,i=e.x,o=e.y,s=e.r,u=i-n,l=o-r,c=s-a,h=Math.sqrt(u*u+l*l);return{x:(n+i+u/h*c)/2,y:(r+o+l/h*c)/2,r:(h+a+s)/2}}function Vm(t,e,n){var r=t.x,a=t.y,i=t.r,o=e.x,s=e.y,u=e.r,l=n.x,c=n.y,h=n.r,f=r-o,p=r-l,d=a-s,m=a-c,v=u-i,_=h-i,g=r*r+a*a-i*i,y=g-o*o-s*s+u*u,O=g-l*l-c*c+h*h,x=p*d-f*m,w=(d*O-m*y)/(x*2)-r,M=(m*v-d*_)/x,T=(p*y-f*O)/(x*2)-a,S=(f*_-p*v)/x,C=M*M+S*S-1,E=2*(i+w*M+T*S),R=w*w+T*T-i*i,L=-(C?(E+Math.sqrt(E*E-4*C*R))/(2*C):R/E);return{x:r+w+M*L,y:a+T+S*L,r:L}}function $m(t,e,n){var r=t.x-e.x,a,i,o=t.y-e.y,s,u,l=r*r+o*o;l?(i=e.r+n.r,i*=i,u=t.r+n.r,u*=u,i>u?(a=(l+u-i)/(2*l),s=Math.sqrt(Math.max(0,u/l-a*a)),n.x=t.x-a*r-s*o,n.y=t.y-a*o+s*r):(a=(l+i-u)/(2*l),s=Math.sqrt(Math.max(0,i/l-a*a)),n.x=e.x+a*r-s*o,n.y=e.y+a*o+s*r)):(n.x=e.x+n.r,n.y=e.y)}function Gm(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,a=e.y-t.y;return n>0&&n*n>r*r+a*a}function Hm(t){var e=t._,n=t.next._,r=e.r+n.r,a=(e.x*n.r+n.x*e.r)/r,i=(e.y*n.r+n.y*e.r)/r;return a*a+i*i}function ps(t){this._=t,this.next=null,this.previous=null}function tB(t){if(!(a=(t=qN(t)).length))return 0;var e,n,r,a,i,o,s,u,l,c,h;if(e=t[0],e.x=0,e.y=0,!(a>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(a>2))return e.r+n.r;$m(n,e,r=t[2]),e=new ps(e),n=new ps(n),r=new ps(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<a;++s){$m(e._,n._,r=t[s]),r=new ps(r),u=n.next,l=e.previous,c=n._.r,h=e._.r;do if(c<=h){if(Gm(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}c+=u._.r,u=u.next}else{if(Gm(l._,r._)){e=l,e.next=n,n.previous=e,--s;continue t}h+=l._.r,l=l.previous}while(u!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,i=Hm(e);(r=r.next)!==n;)(o=Hm(r))<i&&(e=r,i=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=XN(e),s=0;s<a;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}function eB(t){return t==null?null:zm(t)}function zm(t){if(typeof t!="function")throw new Error;return t}function ir(){return 0}function Wr(t){return function(){return t}}function nB(t){return Math.sqrt(t.value)}function rB(){var t=null,e=1,n=1,r=ir;function a(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(Wm(t)).eachAfter(pf(r,.5)).eachBefore(jm(1)):i.eachBefore(Wm(nB)).eachAfter(pf(ir,1)).eachAfter(pf(r,i.r/Math.min(e,n))).eachBefore(jm(Math.min(e,n)/(2*i.r))),i}return a.radius=function(i){return arguments.length?(t=eB(i),a):t},a.size=function(i){return arguments.length?(e=+i[0],n=+i[1],a):[e,n]},a.padding=function(i){return arguments.length?(r=typeof i=="function"?i:Wr(+i),a):r},a}function Wm(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function pf(t,e){return function(n){if(r=n.children){var r,a,i=r.length,o=t(n)*e||0,s;if(o)for(a=0;a<i;++a)r[a].r+=o;if(s=tB(r),o)for(a=0;a<i;++a)r[a].r-=o;n.r=s+o}}}function jm(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function aB(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function iB(t,e,n,r,a){for(var i=t.children,o,s=-1,u=i.length,l=t.value&&(r-e)/t.value;++s<u;)o=i[s],o.y0=n,o.y1=a,o.x0=e,o.x1=e+=o.value*l}function oB(t,e){return t.parent===e.parent?1:2}function vf(t){var e=t.children;return e?e[0]:t.t}function gf(t){var e=t.children;return e?e[e.length-1]:t.t}function sB(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function uB(t){for(var e=0,n=0,r=t.children,a=r.length,i;--a>=0;)i=r[a],i.z+=e,i.m+=e,e+=i.s+(n+=i.c)}function lB(t,e,n){return t.a.parent===e.parent?t.a:n}function vs(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}vs.prototype=Object.create(ci.prototype);function cB(t){for(var e=new vs(t,0),n,r=[e],a,i,o,s;n=r.pop();)if(i=n._.children)for(n.children=new Array(s=i.length),o=s-1;o>=0;--o)r.push(a=n.children[o]=new vs(i[o],o)),a.parent=n;return(e.parent=new vs(null,0)).children=[e],e}function fB(){var t=oB,e=1,n=1,r=null;function a(l){var c=cB(l);if(c.eachAfter(i),c.parent.m=-c.z,c.eachBefore(o),r)l.eachBefore(u);else{var h=l,f=l,p=l;l.eachBefore(function(g){g.x<h.x&&(h=g),g.x>f.x&&(f=g),g.depth>p.depth&&(p=g)});var d=h===f?1:t(h,f)/2,m=d-h.x,v=e/(f.x+d+m),_=n/(p.depth||1);l.eachBefore(function(g){g.x=(g.x+m)*v,g.y=g.depth*_})}return l}function i(l){var c=l.children,h=l.parent.children,f=l.i?h[l.i-1]:null;if(c){uB(l);var p=(c[0].z+c[c.length-1].z)/2;f?(l.z=f.z+t(l._,f._),l.m=l.z-p):l.z=p}else f&&(l.z=f.z+t(l._,f._));l.parent.A=s(l,f,l.parent.A||h[0])}function o(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function s(l,c,h){if(c){for(var f=l,p=l,d=c,m=f.parent.children[0],v=f.m,_=p.m,g=d.m,y=m.m,O;d=gf(d),f=vf(f),d&&f;)m=vf(m),p=gf(p),p.a=l,O=d.z+g-f.z-v+t(d._,f._),O>0&&(sB(lB(d,l,h),l,O),v+=O,_+=O),g+=d.m,v+=f.m,y+=m.m,_+=p.m;d&&!gf(p)&&(p.t=d,p.m+=g-_),f&&!vf(m)&&(m.t=f,m.m+=v-y,h=l)}return h}function u(l){l.x*=e,l.y=l.depth*n}return a.separation=function(l){return arguments.length?(t=l,a):t},a.size=function(l){return arguments.length?(r=!1,e=+l[0],n=+l[1],a):r?null:[e,n]},a.nodeSize=function(l){return arguments.length?(r=!0,e=+l[0],n=+l[1],a):r?[e,n]:null},a}function hB(t,e,n,r,a){for(var i=t.children,o,s=-1,u=i.length,l=t.value&&(a-n)/t.value;++s<u;)o=i[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l}var dB=(1+Math.sqrt(5))/2;function pB(t,e,n,r,a,i){for(var o=[],s=e.children,u,l,c=0,h=0,f=s.length,p,d,m=e.value,v,_,g,y,O,x,w;c<f;){p=a-n,d=i-r;do v=s[h++].value;while(!v&&h<f);for(_=g=v,x=Math.max(d/p,p/d)/(m*t),w=v*v*x,O=Math.max(g/w,w/_);h<f;++h){if(v+=l=s[h].value,l<_&&(_=l),l>g&&(g=l),w=v*v*x,y=Math.max(g/w,w/_),y>O){v-=l;break}O=y}o.push(u={value:v,dice:p<d,children:s.slice(c,h)}),u.dice?iB(u,n,r,a,m?r+=d*v/m:i):hB(u,n,r,m?n+=p*v/m:a,i),m-=v,c=h}return o}var vB=function t(e){function n(r,a,i,o,s){pB(e,r,a,i,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(dB);function gB(){var t=vB,e=!1,n=1,r=1,a=[0],i=ir,o=ir,s=ir,u=ir,l=ir;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(h),a=[0],e&&f.eachBefore(aB),f}function h(f){var p=a[f.depth],d=f.x0+p,m=f.y0+p,v=f.x1-p,_=f.y1-p;v<d&&(d=v=(d+v)/2),_<m&&(m=_=(m+_)/2),f.x0=d,f.y0=m,f.x1=v,f.y1=_,f.children&&(p=a[f.depth+1]=i(f)/2,d+=l(f)-p,m+=o(f)-p,v-=s(f)-p,_-=u(f)-p,v<d&&(d=v=(d+v)/2),_<m&&(m=_=(m+_)/2),t(f,d,m,v,_))}return c.round=function(f){return arguments.length?(e=!!f,c):e},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(t=zm(f),c):t},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(i=typeof f=="function"?f:Wr(+f),c):i},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:Wr(+f),c):o},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:Wr(+f),c):s},c.paddingBottom=function(f){return arguments.length?(u=typeof f=="function"?f:Wr(+f),c):u},c.paddingLeft=function(f){return arguments.length?(l=typeof f=="function"?f:Wr(+f),c):l},c}var mB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jr=6,yB=function(t){mB(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="tree",n.renderType=at.SVG,n}return e.prototype.getLongestLabel=function(n){var r=this,a="";return n.forEach(function(i){var o=i.children?r.getLongestLabel(i.children):"";(o.length>a.length||i.name.length>a.length)&&(a=o.length>i.name.length?o:i.name)}),a},e.prototype.getMockLabelWidth=function(n,r){var a=n.append("text").attr("dy","0.31em").attr("x",0).attr("text-anchor","end").text(r),i=F.getSVGElementSize(a.node(),{useBBox:!0}).width;return a.remove(),i},e.prototype.render=function(n){var r=this,a=this.getComponentContainer();a.html("");var i=F.getSVGElementSize(this.parent,{useAttrs:!0}),o=i.width,s=i.height;if(!(o<1||s<1)){var u=this.model.getOptions(),l=this.model.getDisplayData(),c=b.getProperty(u,"tree","rootTitle")||"Tree",h=this.getMockLabelWidth(a,c),f=this.getLongestLabel(l),p=this.getMockLabelWidth(a,f),d={top:0,right:0,bottom:0,left:h>0?h+jr:30-jr},m=li({name:c,children:l}),v=10,_=o/6,g=function(S){var C=m.descendants().reverse(),E=m.links(),R=m,L=m;m.eachBefore(function(G){G.x<R.x&&(R=G),G.x>L.x&&(L=G)});var N=L.x-R.x,A=a.transition().call(function(G){return r.services.transitions.setupTransition({transition:G,name:"tree-update-viewbox",animate:!0})}).attr("viewBox",[-d.left,R.x,o,N]),k=T.selectAll("g").data(C,function(G){return G.id}),I=r,B=k.enter().append("g").attr("transform",function(){return"translate("+S.y0+","+S.x0+")"}).attr("class",function(G){return G.depth!==0&&G.children&&G.children.length>0?"clickable":null}).on("mouseover",function(G,K){I.services.events.dispatchEvent(P.Tree.NODE_MOUSEOVER,{event:G,element:U(this),datum:K})}).on("click",function(G,K){K.depth!==0&&(K.children=K.children?null:K._children,g(K)),I.services.events.dispatchEvent(P.Tree.NODE_CLICK,{event:G,element:U(this),datum:K})}).on("mouseout",function(G,K){I.services.events.dispatchEvent(P.Tree.NODE_MOUSEOUT,{event:G,element:U(this),datum:K})});B.append("circle").attr("r",2.5).attr("class",function(G){return G._children?"parent":"child"}).attr("stroke-width",10),B.append("text").attr("dy","0.31em").attr("x",function(G){return G._children?-jr:jr}).attr("text-anchor",function(G){return G._children?"end":"start"}).text(function(G){return G.data.name}).clone(!0).attr("class","text-stroke").lower(),k.merge(B).transition(A).attr("transform",function(G){return"translate("+G.y+","+G.x+")"}).attr("fill-opacity",1).attr("stroke-opacity",1),k.exit().transition(A).remove().attr("transform",function(){return"translate("+S.y+","+S.x+")"}).attr("fill-opacity",0).attr("stroke-opacity",0);var D=M.selectAll("path").data(E,function(G){return G.target.id}),V=D.enter().append("path").attr("d",function(G){var K={x:S.x0,y:S.y0};return w({source:K,target:K})});D.merge(V).transition(A).attr("d",w),D.exit().transition(A).remove().attr("d",function(){var G={x:S.x,y:S.y};return w({source:G,target:G})}),m.eachBefore(function(G){G.x0=G.x,G.y0=G.y})},y=m.descendants(),O=y[y.length-1].depth,x=b.getProperty(u,"tree","type")===Ji.DENDROGRAM?MN().size([s,o-p-O*jr-h]):fB().nodeSize([v,_]).size([s,o-p-O*jr-h]),w=W2().x(function(S){return S.y}).y(function(S){return S.x});m.x0=_/2,m.y0=0,m.descendants().forEach(function(S,C){S.id=C,S._children=S.children}),x(m),a.attr("viewBox",[-d.left,-d.top,o,v]).style("user-select","none");var M=a.append("g").attr("class","links"),T=a.append("g").attr("class","nodes");g(m)}},e}(vt),_B="#000000",bB="#ffffff",xB="#fcf4d6",wB="#fddc69",OB="#f1c21b",TB="#d2a106",SB="#b28600",EB="#8e6a00",MB="#684e00",CB="#483700",AB="#302400",PB="#1c1500",DB={10:xB,20:wB,30:OB,40:TB,50:SB,60:EB,70:MB,80:CB,90:AB,100:PB},LB="#fff2e8",kB="#ffd9be",RB="#ffb784",IB="#ff832b",NB="#eb6200",BB="#ba4e00",UB="#8a3800",FB="#5e2900",VB="#3e1a00",$B="#231000",GB={10:LB,20:kB,30:RB,40:IB,50:NB,60:BB,70:UB,80:FB,90:VB,100:$B},HB="#fff1f1",zB="#ffd7d9",WB="#ffb3b8",jB="#ff8389",YB="#fa4d56",qB="#da1e28",KB="#a2191f",XB="#750e13",ZB="#520408",QB="#2d0709",JB={10:HB,20:zB,30:WB,40:jB,50:YB,60:qB,70:KB,80:XB,90:ZB,100:QB},tU="#fff0f7",eU="#ffd6e8",nU="#ffafd2",rU="#ff7eb6",aU="#ee5396",iU="#d02670",oU="#9f1853",sU="#740937",uU="#510224",lU="#2a0a18",cU={10:tU,20:eU,30:nU,40:rU,50:aU,60:iU,70:oU,80:sU,90:uU,100:lU},fU="#f6f2ff",hU="#e8daff",dU="#d4bbff",pU="#be95ff",vU="#a56eff",gU="#8a3ffc",mU="#6929c4",yU="#491d8b",_U="#31135e",bU="#1c0f30",xU={10:fU,20:hU,30:dU,40:pU,50:vU,60:gU,70:mU,80:yU,90:_U,100:bU},wU="#edf5ff",OU="#d0e2ff",TU="#a6c8ff",SU="#78a9ff",EU="#4589ff",MU="#0f62fe",CU="#0043ce",AU="#002d9c",PU="#001d6c",DU="#001141",LU={10:wU,20:OU,30:TU,40:SU,50:EU,60:MU,70:CU,80:AU,90:PU,100:DU},kU="#e5f6ff",RU="#bae6ff",IU="#82cfff",NU="#33b1ff",BU="#1192e8",UU="#0072c3",FU="#00539a",VU="#003a6d",$U="#012749",GU="#061727",HU={10:kU,20:RU,30:IU,40:NU,50:BU,60:UU,70:FU,80:VU,90:$U,100:GU},zU="#d9fbfb",WU="#9ef0f0",jU="#3ddbd9",YU="#08bdba",qU="#009d9a",KU="#007d79",XU="#005d5d",ZU="#004144",QU="#022b30",JU="#081a1c",tF={10:zU,20:WU,30:jU,40:YU,50:qU,60:KU,70:XU,80:ZU,90:QU,100:JU},eF="#defbe6",nF="#a7f0ba",rF="#6fdc8c",aF="#42be65",iF="#24a148",oF="#198038",sF="#0e6027",uF="#044317",lF="#022d0d",cF="#071908",fF={10:eF,20:nF,30:rF,40:aF,50:iF,60:oF,70:sF,80:uF,90:lF,100:cF},hF="#f2f4f8",dF="#dde1e6",pF="#c1c7cd",vF="#a2a9b0",gF="#878d96",mF="#697077",yF="#4d5358",_F="#343a3f",bF="#21272a",xF="#121619",wF={10:hF,20:dF,30:pF,40:vF,50:gF,60:mF,70:yF,80:_F,90:bF,100:xF},OF="#f4f4f4",TF="#e0e0e0",SF="#c6c6c6",EF="#a8a8a8",MF="#8d8d8d",CF="#6f6f6f",AF="#525252",PF="#393939",DF="#262626",LF="#161616",kF={10:OF,20:TF,30:SF,40:EF,50:MF,60:CF,70:AF,80:PF,90:DF,100:LF},RF="#f7f3f2",IF="#e5e0df",NF="#cac5c4",BF="#ada8a8",UF="#8f8b8b",FF="#726e6e",VF="#565151",$F="#3c3838",GF="#272525",HF="#171414",zF={10:RF,20:IF,30:NF,40:BF,50:UF,60:FF,70:VF,80:$F,90:GF,100:HF},Ym={black:{100:_B},blue:LU,coolGray:wF,cyan:HU,gray:kF,green:fF,magenta:cU,orange:GB,purple:xU,red:JB,teal:tF,warmGray:zF,white:{0:bB},yellow:DB},WF=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jF=function(t){if(!t)return null;for(var e=0,n=Object.keys(Ym);e<n.length;e++)for(var r=n[e],a=Ym[r],i=0,o=Object.keys(a);i<o.length;i++){var s=o[i],u=a[s];if(u===t)return s}return null},qm=function(){var t=U(this.parentNode).select("rect.leaf"),e=getComputedStyle(t.node(),null).getPropertyValue("fill"),n=nn(e),r;if(n&&(r=jF(n?n.hex():null)),r==null){var a=sc(n).l;r=Math.abs(a*100-100)}return r>50?"white":"black"},YF=0,qF=function(t){WF(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="treemap",n.renderType=at.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement;n.parent.selectAll("g[data-name='leaf']").transition("legend-hover-treemap").call(function(i){return n.services.transitions.setupTransition({transition:i,name:"legend-hover-treemap"})}).attr("opacity",function(i){return i.parent.data.name===a.datum().name?1:.3})},n.handleLegendMouseOut=function(r){n.parent.selectAll("g[data-name='leaf']").transition("legend-mouseout-treemap").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-treemap"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.getComponentContainer(),i=this.model.getData(),o=this.model.getDisplayData(),s=this.model.getOptions(),u=b.getProperty(window,"location"),l=F.getSVGElementSize(a,{useAttrs:!0}),c=l.width,h=l.height,f=li({name:s.title||"Treemap",children:o}).sum(function(y){return y.value}).sort(function(y,O){return O.value-y.value});bv(i,function(y){return bv(y.children,function(O){return O.value})});var p=gB().size([c,h]).paddingInner(1).paddingOuter(0).round(!0)(f);this.services.transitions;var d=a.selectAll("g[data-name='leaf']").data(p.leaves(),function(y){return y.data.name});d.exit().attr("opacity",0).remove();var m=d.enter().append("g").attr("data-name","leaf").attr("data-uid",function(){return YF++}),v=m.merge(d);v.attr("data-name","leaf").transition().call(function(y){return r.services.transitions.setupTransition({transition:y,name:"treemap-group-update",animate:n})}).attr("transform",function(y){return"translate("+y.x0+","+y.y0+")"});var _=v.selectAll("rect.leaf").data(function(y){return[y]});_.exit().attr("width",0).attr("height",0).remove();var g=_.enter().append("rect").classed("leaf",!0);g.merge(_).attr("width",0).attr("height",0).attr("id",function(){var y=U(this.parentNode).attr("data-uid");return s.style.prefix+"-leaf-"+y}).attr("class",function(y){for(;y.depth>1;)y=y.parent;return r.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:y.data.name,originalClassName:"leaf"})}).transition().call(function(y){return r.services.transitions.setupTransition({transition:y,name:"treemap-leaf-update-enter",animate:n})}).attr("width",function(y){return y.x1-y.x0}).attr("height",function(y){return y.y1-y.y0}).style("fill",function(y){for(;y.depth>1;)y=y.parent;return r.model.getFillColor(y.data.name)}),v.selectAll("clipPath").data(function(y){return y.data.showLabel!==!0?[]:[1]},function(y){return y}).join(function(y){y.append("clipPath").attr("id",function(){var O=U(this.parentNode).attr("data-uid");return s.style.prefix+"-clip-"+O}).append("use").attr("xlink:href",function(){var O=U(this.parentNode.parentNode).attr("data-uid"),x=s.style.prefix+"-leaf-"+O;return new URL("#"+x,u)+""})},function(y){return null},function(y){return y.remove()}),v.selectAll("text").data(function(y){if(y.data.showLabel!==!0)return[];for(var O=y;O.depth>1;)O=O.parent;var x=sc(r.model.getFillColor(O.data.name));return[{text:y.data.name,color:x.l<.5?"white":"black"}]},function(y){return y}).join(function(y){var O=y.append("text").text(function(x){return x.text}).style("fill",qm).attr("x",7).attr("y",18);u&&O.attr("clip-path",function(){var x=U(this.parentNode).attr("data-uid"),w=s.style.prefix+"-clip-"+x;return"url("+(new URL("#"+w,u)+"")+")"})},function(y){return y.text(function(O){return O.text}).style("fill",qm)},function(y){return y.remove()}),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this;this.parent.selectAll("rect.leaf").on("mouseover",function(r,a){for(var i=U(this),o=getComputedStyle(this,null).getPropertyValue("fill"),s=a;s.depth>1;)s=s.parent;i.transition("graph_element_mouseover_fill_update").call(function(u){return n.services.transitions.setupTransition({transition:u,name:"graph_element_mouseover_fill_update"})}).style("fill",function(u){var l=n.model.getFillColor(u.parent.data.name);return l&&(o=l),nn(o).darker(.7).toString()}),n.services.events.dispatchEvent(P.Tooltip.SHOW,{event:r,hoveredElement:i,items:[{color:o,label:s.data.name,bold:!0},{label:a.data.name,value:a.data.value}]}),n.services.events.dispatchEvent(P.Treemap.LEAF_MOUSEOVER,{event:r,element:i,datum:a})}).on("mousemove",function(r,a){var i=U(this);n.services.events.dispatchEvent(P.Treemap.LEAF_MOUSEMOVE,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(P.Tooltip.MOVE,{event:r})}).on("click",function(r,a){n.services.events.dispatchEvent(P.Treemap.LEAF_CLICK,{event:r,element:U(this),datum:a})}).on("mouseout",function(r,a){var i=U(this);i.classed("hovered",!1);for(var o=a;o.depth>1;)o=o.parent;i.transition().call(function(s){return n.services.transitions.setupTransition({transition:s,name:"graph_element_mouseout_fill_update"})}).style("fill",function(s){return n.model.getFillColor(s.parent.data.name)}),n.services.events.dispatchEvent(P.Treemap.LEAF_MOUSEOUT,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:i})})},e}(vt);function Km(t){var e=KF(Xm(t),360);return Sn(e,[0,10])||Sn(e,[350,0])?{textAnchor:Le.START,dominantBaseline:ke.MIDDLE}:Sn(e,[10,80])?{textAnchor:Le.START,dominantBaseline:ke.HANGING}:Sn(e,[80,100])?{textAnchor:Le.MIDDLE,dominantBaseline:ke.HANGING}:Sn(e,[100,170])?{textAnchor:Le.END,dominantBaseline:ke.HANGING}:Sn(e,[170,190])?{textAnchor:Le.END,dominantBaseline:ke.MIDDLE}:Sn(e,[190,260])?{textAnchor:Le.END,dominantBaseline:ke.BASELINE}:Sn(e,[260,280])?{textAnchor:Le.MIDDLE,dominantBaseline:ke.BASELINE}:{textAnchor:Le.START,dominantBaseline:ke.BASELINE}}function KF(t,e){return(t%e+e)%e}function Sn(t,e){var n=e[0],r=e[1];return t>=n&&t<=r}function Xm(t){return t*(180/Math.PI)}function Lt(t,e,n){n===void 0&&(n={x:0,y:0});var r=e*Math.cos(t)+n.x,a=e*Math.sin(t)+n.y;return{x:isNaN(r)?0:r,y:isNaN(a)?0:a}}function XF(t,e){return e*Math.sin(t-Math.PI/2)}var ZF=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),QF=function(t){ZF(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="radar",n.renderType=at.SVG,n.getLabelDimensions=function(r){var a=F.appendOrSelect(n.getComponentContainer(),"g.tmp-tick"),i=F.appendOrSelect(a,"text").text(r),o=F.getSVGElementSize(i.node(),{useBBox:!0}),s=o.width,u=o.height;return a.remove(),{width:s,height:u}},n.normalizeFlatData=function(r){var a=n.getOptions(),i=b.getProperty(a,"radar","axes"),o=i.angle,s=i.value,u=b.getProperty(a,"data","groupMapsTo"),l=b.flatMapDeep(n.uniqueKeys.map(function(c){return n.uniqueGroups.map(function(h){var f;return f={},f[o]=c,f[u]=h,f[s]=null,f})}));return b.merge(l,r)},n.normalizeGroupedData=function(r){var a=n.getOptions(),i=b.getProperty(a,"radar","axes"),o=i.angle,s=i.value,u=b.getProperty(a,"data","groupMapsTo");return r.map(function(l){var c=l.name,h=l.data,f=n.uniqueKeys.map(function(p){var d;return d={},d[u]=c,d[o]=p,d[s]=null,d});return{name:c,data:b.merge(f,h)}})},n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement;n.parent.selectAll("g.blobs path").transition("legend-hover-blob").call(function(i){return n.services.transitions.setupTransition({transition:i,name:"legend-hover-blob"})}).style("fill-opacity",function(i){return i.name!==a.datum().name?_n.opacity.unselected:_n.opacity.selected}).style("stroke-opacity",function(i){return i.name!==a.datum().name?_n.opacity.unselected:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("g.blobs path").transition("legend-mouseout-blob").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-blob"})}).style("fill-opacity",_n.opacity.selected).style("stroke-opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.getComponentContainer(),i=F.getSVGElementSize(a,{useAttrs:!0}),o=i.width,s=i.height,u=this.model.getData(),l=this.model.getGroupedData(),c=this.getOptions(),h=b.getProperty(c,"data","groupMapsTo"),f=b.getProperty(c,"radar","axes","value"),p=b.getProperty(c,"radar","axes"),d=p.angle,m=p.value,v=_n,_=v.xLabelPadding,g=v.yLabelPadding,y=v.yTicksNumber,O=v.minRange,x=v.xAxisRectHeight;this.uniqueKeys=Array.from(new Set(u.map(function($){return $[d]}))),this.uniqueGroups=Array.from(new Set(u.map(function($){return $[h]}))),this.fullDataNormalized=this.normalizeFlatData(u),this.groupedDataNormalized=this.normalizeGroupedData(l);var w=this.getLabelDimensions(this.uniqueKeys[0]).height,M=2*(w+g),T=Math.min(o,s),S=T-M,C=S/2;if(!(C<=0)){var E=To().domain(this.fullDataNormalized.map(function($){return $[d]})).range([0,2*Math.PI].map(function($){return $-Math.PI/2})),R=kr(this.fullDataNormalized.map(function($){return $[m]})),L=bn().domain([R>=0?0:R,Xn(this.fullDataNormalized.map(function($){return $[m]}))]).range([O,C]).nice(y),N=L.ticks(y),A=function($){return r.model.getFillColor($)},k=V2().angle(function($){return E($[d])+Math.PI/2}).radius(function($){return L($[m])}).curve(Ig),I=this.uniqueKeys.map(function($){var z=r.getLabelDimensions($).width,q=XF(E($),C);return z+q}),B=Xn(I),D={x:B+_,y:s/2},V=F.appendOrSelect(a,"g.y-axes").attr("role",ct.GROUP),G=V.selectAll("path").data(N,function($){return $}),K=function($){return r.uniqueKeys.map(function(z){var q;return q={},q[d]=z,q[m]=$,q})};G.join(function($){return $.append("path").attr("opacity",0).attr("transform","translate("+D.x+", "+D.y+")").attr("fill","none").call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_y_axes_enter",animate:n})}).attr("opacity",1).attr("d",function(q){return k(K(q))})})},function($){return $.call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_y_axes_update",animate:n})}).attr("opacity",1).attr("transform","translate("+D.x+", "+D.y+")").attr("d",function(q){return k(K(q))})})},function($){return $.call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_y_axes_exit",animate:n})}).attr("d",function(q){return k(K(q))}).attr("opacity",0).remove()})});var st=F.appendOrSelect(a,"g.x-axes").attr("role",ct.GROUP),tt=st.selectAll("line").data(this.uniqueKeys,function($){return $});tt.join(function($){return $.append("line").attr("opacity",0).attr("class",function(z){return"x-axis-"+b.kebabCase(z)}).attr("stroke-dasharray","0").attr("x1",function(z){return Lt(E(z),0,D).x}).attr("y1",function(z){return Lt(E(z),0,D).y}).attr("x2",function(z){return Lt(E(z),0,D).x}).attr("y2",function(z){return Lt(E(z),0,D).y}).call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_x_axes_enter",animate:n})}).attr("opacity",1).attr("x1",function(q){return Lt(E(q),L.range()[0],D).x}).attr("y1",function(q){return Lt(E(q),L.range()[0],D).y}).attr("x2",function(q){return Lt(E(q),L.range()[1],D).x}).attr("y2",function(q){return Lt(E(q),L.range()[1],D).y})})},function($){return $.call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_x_axes_update",animate:n})}).attr("opacity",1).attr("x1",function(q){return Lt(E(q),L.range()[0],D).x}).attr("y1",function(q){return Lt(E(q),L.range()[0],D).y}).attr("x2",function(q){return Lt(E(q),L.range()[1],D).x}).attr("y2",function(q){return Lt(E(q),L.range()[1],D).y})})},function($){return $.call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_x_axes_exit",animate:n})}).attr("opacity",0).remove()})});var Y=F.appendOrSelect(a,"g.x-labels").attr("role",ct.GROUP),Q=Y.selectAll("text").data(this.uniqueKeys);Q.join(function($){return $.append("text").text(function(z){return z}).attr("opacity",0).attr("x",function(z){return Lt(E(z),L.range()[1]+_,D).x}).attr("y",function(z){return Lt(E(z),L.range()[1]+_,D).y}).style("text-anchor",function(z){return Km(E(z)).textAnchor}).style("dominant-baseline",function(z){return Km(E(z)).dominantBaseline}).call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_x_labels_enter",animate:n})}).attr("opacity",1)})},function($){return $.call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_x_labels_update",animate:n})}).attr("opacity",1).attr("x",function(q){return Lt(E(q),L.range()[1]+_,D).x}).attr("y",function(q){return Lt(E(q),L.range()[1]+_,D).y})})},function($){return $.call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_x_labels_exit",animate:n})}).attr("opacity",0).remove()})});var J=F.appendOrSelect(a,"g.blobs").attr("role",ct.GROUP),ot=J.selectAll("path").data(this.groupedDataNormalized,function($){return $.name});ot.join(function($){return $.append("path").attr("class",function(z){return r.model.getColorClassName({classNameTypes:[rt.FILL,rt.STROKE],dataGroupName:z.name,originalClassName:"blob"})}).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-label",function(z){return z.name}).attr("opacity",0).attr("transform",n?function(){return"translate("+D.x+", "+D.y+") scale("+(1+Math.random()*.35)+")"}:"translate("+D.x+", "+D.y+")").style("fill",function(z){return A(z.name)}).style("fill-opacity",_n.opacity.selected).style("stroke",function(z){return A(z.name)}).call(function(z){var q=z.transition().call(function(qt){return r.services.transitions.setupTransition({transition:qt,name:"radar_blobs_enter",animate:n})});n&&q.delay(function(){return Math.random()*30}).attr("transform","translate("+D.x+", "+D.y+")"),q.attr("opacity",1).attr("d",function(qt){return k(qt.data)})})},function($){$.attr("class",function(z){return r.model.getColorClassName({classNameTypes:[rt.FILL,rt.STROKE],dataGroupName:z.name,originalClassName:"blob"})}).style("fill",function(z){return A(z.name)}).style("stroke",function(z){return A(z.name)}),$.call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_blobs_update",animate:n})}).attr("opacity",1).attr("transform","translate("+D.x+", "+D.y+")").attr("d",function(q){return k(q.data)})})},function($){return $.call(function(z){var q=z.transition().call(function(qt){return r.services.transitions.setupTransition({transition:qt,name:"radar_blobs_exit",animate:n})});n&&q.delay(function(){return Math.random()*30}).attr("transform",function(){return"translate("+D.x+", "+D.y+") scale("+(1+Math.random()*.35)+")"}),q.attr("opacity",0).remove()})});var j=F.appendOrSelect(a,"g.dots").attr("role",ct.GROUP),Z=j.selectAll("circle").data(this.fullDataNormalized.filter(function($){return b.getProperty($,m)!==null}));Z.join(function($){return $.append("circle").attr("role",ct.GRAPHICS_SYMBOL).attr("aria-label",function(z){return z[f]})},function($){return $},function($){return $.remove()}).attr("class",function($){return r.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:$[h],originalClassName:b.kebabCase($[d])})}).attr("cx",function($){return Lt(E($[d]),L($[m]),D).x}).attr("cy",function($){return Lt(E($[d]),L($[m]),D).y}).attr("r",0).attr("opacity",0).style("fill",function($){return A($[h])});var ut=F.appendOrSelect(a,"g.x-axes-rect").attr("role",ct.GROUP),H=ut.selectAll("rect").data(this.uniqueKeys);H.join(function($){return $.append("rect")},function($){return $},function($){return $.remove()}).attr("x",D.x).attr("y",D.y-x/2).attr("width",L.range()[1]).attr("height",x).style("fill","red").style("fill-opacity",0).attr("transform",function($){return"rotate("+Xm(E($))+", "+D.x+", "+D.y+")"});var dt=F.appendOrSelect(a,"g.y-labels").attr("role",ct.GROUP),lt=dt.selectAll("text").data(en(N));lt.join(function($){return $.append("text").attr("opacity",0).text(function(z){return z}).attr("x",function(z){return Lt(-Math.PI/2,L(z),D).x+g}).attr("y",function(z){return Lt(-Math.PI/2,L(z),D).y}).style("text-anchor","start").style("dominant-baseline","middle").call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_y_labels_enter",animate:n})}).attr("opacity",1)})},function($){return $.call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_y_labels_update",animate:n})}).text(function(q){return q}).attr("opacity",1).attr("x",function(q){return Lt(-Math.PI/2,L(q),D).x+g}).attr("y",function(q){return Lt(-Math.PI/2,L(q),D).y})})},function($){return $.call(function(z){return z.transition().call(function(q){return r.services.transitions.setupTransition({transition:q,name:"radar_y_labels_exit",animate:n})}).attr("opacity",0).remove()})});var mt=b.getProperty(c,"radar","alignment"),It=this.getAlignmentXOffset(mt,a,this.getParent());a.attr("x",It),this.addEventListeners()}},e.prototype.getAlignmentXOffset=function(n,r,a){var i=F.getSVGElementSize(r,{useBBox:!0}),o=F.getSVGElementSize(a,{useAttrs:!0}).width,s=0;return n===Ht.CENTER?s=Math.floor((o-i.width)/2):n===Ht.RIGHT&&(s=o-i.width),s},e.prototype.destroy=function(){this.parent.selectAll(".x-axes-rect > rect").on("mouseover",null).on("mousemove",null).on("mouseout",null);var n=this.services.events;n.removeEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.addEventListeners=function(){var n=this,r=b.getProperty(this.getOptions(),"radar").axes.angle;this.parent.selectAll(".x-axes-rect > rect").on("mouseover",function(a,i){var o=U(this);n.services.events.dispatchEvent(P.Radar.X_AXIS_MOUSEOVER,{event:a,element:o,datum:i});var s=n.parent.select(".x-axes .x-axis-"+b.kebabCase(i)),u=n.parent.selectAll(".dots circle."+b.kebabCase(i));s.classed("hovered",!0).attr("stroke-dasharray","4 4"),u.classed("hovered",!0).attr("opacity",1).attr("r",_n.dotsRadius);var l=n.fullDataNormalized.filter(function(p){return p[r]===i}),c=n.getOptions(),h=c.data.groupMapsTo,f=b.getProperty(c,"radar","axes","value");n.services.events.dispatchEvent(P.Tooltip.SHOW,{event:a,hoveredElement:o,items:l.filter(function(p){return typeof p[f]=="number"}).map(function(p){return{label:p[h],value:p[f],color:n.model.getFillColor(p[h]),class:n.model.getColorClassName({classNameTypes:[rt.TOOLTIP],dataGroupName:p[h]})}})})}).on("mousemove",function(a,i){var o=U(this);n.services.events.dispatchEvent(P.Radar.X_AXIS_MOUSEMOVE,{event:a,element:o,datum:i}),n.services.events.dispatchEvent(P.Tooltip.MOVE,{event:a})}).on("click",function(a,i){n.services.events.dispatchEvent(P.Radar.X_AXIS_CLICK,{event:a,element:U(this),datum:i})}).on("mouseout",function(a,i){var o=U(this),s=n.parent.select(".x-axes .x-axis-"+b.kebabCase(i)),u=n.parent.selectAll(".dots circle."+b.kebabCase(i));s.classed("hovered",!1).attr("stroke-dasharray","0"),u.classed("hovered",!1).attr("opacity",0).attr("r",0),n.services.events.dispatchEvent(P.Radar.X_AXIS_MOUSEOUT,{event:a,element:o,datum:i}),n.services.events.dispatchEvent(P.Tooltip.HIDE)})},e}(vt),JF=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tV=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},eV=function(t){JF(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="circle-pack",n.renderType=at.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement;n.parent.selectAll("circle.node").transition("legend-hover-circlepack").call(function(i){return n.services.transitions.setupTransition({transition:i,name:"legend-hover-circlepack"})}).attr("opacity",function(i){return i.data.dataGroupName===a.datum().name?1:$n.circles.fillOpacity})},n.handleLegendMouseOut=function(r){n.parent.selectAll("circle.node").transition("legend-mouseout-circlepack").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-circlepack"})}).attr("opacity",1)},n}return e.prototype.render=function(n){var r=this,a=this.getComponentContainer({withinChartClip:!0}),i=F.getSVGElementSize(this.parent,{useAttrs:!0}),o=i.width,s=i.height;if(!(o<1||s<1)){var u=this.model.getDisplayData(),l=this.model.hasParentNode(),c=this.model.getHierarchyLevel(),h=this.getOptions(),f=b.getProperty(h,"canvasZoom","enabled");l&&b.getProperty(u,0,"children")&&(u=b.getProperty(u,0,"children"));var p=li({children:u}).sum(function(g){return g.value}).sort(function(g,y){return y.value-g.value}),d=rB().size([o,s]).padding(function(g){return g.depth>=1?$n.padding.children+3:$n.padding.mainGroup+3}),m=d(p).descendants().splice(1).filter(function(g){return g.depth<=c}),v=a.selectAll("circle.node").data(m);v.exit().attr("width",0).attr("height",0).remove();var _=v.enter().append("circle").classed("node",!0);_.merge(v).attr("class",function(g){var y=f&&c===3?r.getZoomClass(g):"";return r.model.getColorClassName({classNameTypes:[rt.FILL,rt.STROKE],dataGroupName:g.data.dataGroupName,originalClassName:g.children?"node "+y:"node node-leaf "+y})}).style("fill",function(g){return r.model.getFillColor(g.data.dataGroupName)}).style("stroke",function(g){return r.model.getFillColor(g.data.dataGroupName)}).attr("cx",function(g){return g.x}).attr("cy",function(g){return g.y}).transition("circlepack-leaf-update-enter").call(function(g){return r.services.transitions.setupTransition({transition:g,name:"circlepack-leaf-update-enter"})}).attr("r",function(g){return g.r}).attr("opacity",1).attr("fill-opacity",$n.circles.fillOpacity),f===!0&&this.focal&&(this.services.canvasZoom.zoomIn(this.focal,_,Or),this.setBackgroundListeners()),l||this.addLegendListeners(),this.addEventListeners()}},e.prototype.unhighlightChildren=function(n){var r=this,a=n.map(function(i){return i.data});this.parent.selectAll("circle.node").filter(function(i){return a.some(function(o){return o===i.data})&&i.depth>1}).style("stroke",function(i){return r.model.getFillColor(i.data.dataGroupName)})},e.prototype.highlightChildren=function(n){var r=n.map(function(a){return a.data});this.parent.selectAll("circle.node").filter(function(a){return r.some(function(i){return i===a.data})&&a.depth>1}).style("stroke",$n.circles.hover.stroke)},e.prototype.getZoomClass=function(n){return this.model.getHierarchyLevel()===3&&this.focal&&(n.data===this.focal.data||this.focal.children.some(function(r){return r.data===n.data}))?"focal":"non-focal"},e.prototype.addLegendListeners=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.removeBackgroundListeners=function(){var n=U(this.services.domUtils.getMainContainer());n.on("click",function(){return null})},e.prototype.setBackgroundListeners=function(){var n=U(this.services.domUtils.getMainContainer()),r=this,a=this.parent.selectAll("circle.node"),i=b.getProperty(pv,"canvasZoomSettings");n.on("click",function(){r.focal=null,r.model.updateHierarchyLevel(2),n.classed("zoomed-in",!1),r.services.canvasZoom.zoomOut(a,i)})},e.prototype.getZoomIcon=function(){return`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10">
			<polygon points="5.93 3.71 4.45 3.71 4.45 2.23 3.71 2.23 3.71 3.71 2.23 3.71 2.23 4.45 3.71 4.45 3.71 5.93 4.45 5.93 4.45 4.45 5.93 4.45 5.93 3.71"/>
			<path d="M7.2,6.67a4,4,0,0,0,1-2.59A4.08,4.08,0,1,0,4.07,8.15h0a4,4,0,0,0,2.59-1L9.48,10,10,9.48Zm-3.12.77A3.34,3.34,0,1,1,7.41,4.08,3.34,3.34,0,0,1,4.08,7.44Z"/>
		</svg>`},e.prototype.addEventListeners=function(){var n=this;this.parent.selectAll("circle.node").on("mouseover",function(r,a){var i=U(this);i.classed("hovered",!0);var o=n.model.getHierarchyLevel(),s=o>2&&!i.classed("focal"),u=b.getProperty(n.model.getOptions(),"canvasZoom","enabled"),l=!1;if(!s){var c=[],h=[],f=null;if(a.children){a.depth>1&&u&&(l=!0,i.classed("clickable",!0)),c=a.children.map(function(m){if(m!==null)return typeof m.data.value=="number"?{label:m.data.name,value:m.data.value}:{label:m.data.name,labelIcon:u&&o<=2?n.getZoomIcon():null,value:m.value}});var p=n.model.getOptions();h=[{label:Ct(p,"tooltip.totalLabel")||"Total",value:a.value,bold:!0}],n.highlightChildren(a.children)}else f=a.value;var d=getComputedStyle(this,null).getPropertyValue("fill");n.services.events.dispatchEvent(P.Tooltip.SHOW,{event:r,hoveredElement:i,items:tV([{color:d,label:a.data.name,labelIcon:l&&u&&o<=2?n.getZoomIcon():null,value:f}],c,h)})}n.services.events.dispatchEvent(P.CirclePack.CIRCLE_MOUSEOVER,{event:r,element:i,datum:a})}).on("mousemove",function(r,a){var i=U(this);n.services.events.dispatchEvent(P.CirclePack.CIRCLE_MOUSEMOVE,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(P.Tooltip.MOVE,{event:r})}).on("mouseout",function(r,a){var i=U(this);i.classed("hovered",!1),a.children&&n.unhighlightChildren(a.children),n.services.events.dispatchEvent(P.CirclePack.CIRCLE_MOUSEOUT,{event:r,element:i,datum:a}),n.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:i})}).on("click",function(r,a){var i=U(this),o=i.classed("non-focal"),s=b.getProperty(n.getOptions(),"canvasZoom","enabled")&&n.model.getHierarchyLevel()>2;if(s){var u=n.parent.selectAll("circle.node"),l=U(n.services.domUtils.getMainContainer());l.classed("zoomed-in",!1),n.focal=null,n.model.updateHierarchyLevel(2),n.services.canvasZoom.zoomOut(u,Or)}else if(a.depth===2&&a.children&&!o){var u=n.parent.selectAll("circle.node"),l=U(n.services.domUtils.getMainContainer());l.classed("zoomed-in",!0),n.focal=a,n.model.updateHierarchyLevel(3),n.services.canvasZoom.zoomIn(a,u,Or),r.stopPropagation()}n.services.events.dispatchEvent(P.CirclePack.CIRCLE_CLICK,{event:r,element:i,datum:a})})},e.prototype.destroy=function(){this.parent.selectAll("circle.node").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("click",null);var n=this.services.events;n.removeEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),this.removeBackgroundListeners()},e}(vt),nV={value:function(){}};function Zm(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new gs(n)}function gs(t){this._=t}function rV(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}gs.prototype=Zm.prototype={constructor:gs,on:function(t,e){var n=this._,r=rV(t+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(t=r[i]).type)&&(a=aV(n[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<o;)if(a=(t=r[i]).type)n[a]=Qm(n[a],t.name,e);else if(e==null)for(a in n)n[a]=Qm(n[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gs(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};function aV(t,e){for(var n=0,r=t.length,a;n<r;++n)if((a=t[n]).name===e)return a.value}function Qm(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=nV,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var iV=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dispatch:Zm}),oV=MA(iV),sV=oV.dispatch,mf=Math.PI/180,hi=1<<11>>5,ms=1<<11,uV=function(){var t=[256,256],e=lV,n=cV,r=fV,a=Jm,i=Jm,o=hV,s=dV,u=ty,l=[],c=1/0,h=sV("word","end"),f=null,p=Math.random,d={},m=bV;d.canvas=function(g){return arguments.length?(m=En(g),d):m},d.start=function(){var g=v(m()),y=_V((t[0]>>5)*t[1]),O=null,x=l.length,w=-1,M=[],T=l.map(function(C,E){return C.text=e.call(this,C,E),C.font=n.call(this,C,E),C.style=a.call(this,C,E),C.weight=i.call(this,C,E),C.rotate=o.call(this,C,E),C.size=~~r.call(this,C,E),C.padding=s.call(this,C,E),C}).sort(function(C,E){return E.size-C.size});return f&&clearInterval(f),f=setInterval(S,0),S(),d;function S(){for(var C=Date.now();Date.now()-C<c&&++w<x&&f;){var E=T[w];E.x=t[0]*(p()+.5)>>1,E.y=t[1]*(p()+.5)>>1,pV(g,E,T,w),E.hasText&&_(y,E,O)&&(M.push(E),h.call("word",d,E),O?gV(O,E):O=[{x:E.x+E.x0,y:E.y+E.y0},{x:E.x+E.x1,y:E.y+E.y1}],E.x-=t[0]>>1,E.y-=t[1]>>1)}w>=x&&(d.stop(),h.call("end",d,M,O))}},d.stop=function(){return f&&(clearInterval(f),f=null),d};function v(g){g.width=g.height=1;var y=Math.sqrt(g.getContext("2d").getImageData(0,0,1,1).data.length>>2);g.width=(hi<<5)/y,g.height=ms/y;var O=g.getContext("2d");return O.fillStyle=O.strokeStyle="red",O.textAlign="center",{context:O,ratio:y}}function _(g,y,O){t[0],t[1];for(var x=y.x,w=y.y,M=Math.sqrt(t[0]*t[0]+t[1]*t[1]),T=u(t),S=p()<.5?1:-1,C=-S,E,R,L;(E=T(C+=S))&&(R=~~E[0],L=~~E[1],!(Math.min(Math.abs(R),Math.abs(L))>=M));)if(y.x=x+R,y.y=w+L,!(y.x+y.x0<0||y.y+y.y0<0||y.x+y.x1>t[0]||y.y+y.y1>t[1])&&(!O||!vV(y,g,t[0]))&&(!O||mV(y,O))){for(var N=y.sprite,A=y.width>>5,k=t[0]>>5,I=y.x-(A<<4),B=I&127,D=32-B,V=y.y1-y.y0,G=(y.y+y.y0)*k+(I>>5),K,st=0;st<V;st++){K=0;for(var tt=0;tt<=A;tt++)g[G+tt]|=K<<D|(tt<A?(K=N[st*A+tt])>>>B:0);G+=k}return delete y.sprite,!0}return!1}return d.timeInterval=function(g){return arguments.length?(c=g==null?1/0:g,d):c},d.words=function(g){return arguments.length?(l=g,d):l},d.size=function(g){return arguments.length?(t=[+g[0],+g[1]],d):t},d.font=function(g){return arguments.length?(n=En(g),d):n},d.fontStyle=function(g){return arguments.length?(a=En(g),d):a},d.fontWeight=function(g){return arguments.length?(i=En(g),d):i},d.rotate=function(g){return arguments.length?(o=En(g),d):o},d.text=function(g){return arguments.length?(e=En(g),d):e},d.spiral=function(g){return arguments.length?(u=xV[g]||g,d):u},d.fontSize=function(g){return arguments.length?(r=En(g),d):r},d.padding=function(g){return arguments.length?(s=En(g),d):s},d.random=function(g){return arguments.length?(p=g,d):p},d.on=function(){var g=h.on.apply(h,arguments);return g===h?d:g},d};function lV(t){return t.text}function cV(){return"serif"}function Jm(){return"normal"}function fV(t){return Math.sqrt(t.value)}function hV(){return(~~(Math.random()*6)-3)*30}function dV(){return 1}function pV(t,e,n,r){if(!e.sprite){var a=t.context,i=t.ratio;a.clearRect(0,0,(hi<<5)/i,ms/i);var o=0,s=0,u=0,l=n.length;for(--r;++r<l;){e=n[r],a.save(),a.font=e.style+" "+e.weight+" "+~~((e.size+1)/i)+"px "+e.font;var c=a.measureText(e.text+"m").width*i,h=e.size<<1;if(e.rotate){var f=Math.sin(e.rotate*mf),p=Math.cos(e.rotate*mf),d=c*p,m=c*f,v=h*p,_=h*f;c=Math.max(Math.abs(d+_),Math.abs(d-_))+31>>5<<5,h=~~Math.max(Math.abs(m+v),Math.abs(m-v))}else c=c+31>>5<<5;if(h>u&&(u=h),o+c>=hi<<5&&(o=0,s+=u,u=0),s+h>=ms)break;a.translate((o+(c>>1))/i,(s+(h>>1))/i),e.rotate&&a.rotate(e.rotate*mf),a.fillText(e.text,0,0),e.padding&&(a.lineWidth=2*e.padding,a.strokeText(e.text,0,0)),a.restore(),e.width=c,e.height=h,e.xoff=o,e.yoff=s,e.x1=c>>1,e.y1=h>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=c}for(var g=a.getImageData(0,0,(hi<<5)/i,ms/i).data,y=[];--r>=0;)if(e=n[r],!!e.hasText){for(var c=e.width,O=c>>5,h=e.y1-e.y0,x=0;x<h*O;x++)y[x]=0;if(o=e.xoff,o==null)return;s=e.yoff;for(var w=0,M=-1,T=0;T<h;T++){for(var x=0;x<c;x++){var S=O*T+(x>>5),C=g[(s+T)*(hi<<5)+(o+x)<<2]?1<<31-x%32:0;y[S]|=C,w|=C}w?M=T:(e.y0++,h--,T--,s++)}e.y1=e.y0+M,e.sprite=y.slice(0,(e.y1-e.y0)*O)}}}function vV(t,e,n){n>>=5;for(var r=t.sprite,a=t.width>>5,i=t.x-(a<<4),o=i&127,s=32-o,u=t.y1-t.y0,l=(t.y+t.y0)*n+(i>>5),c,h=0;h<u;h++){c=0;for(var f=0;f<=a;f++)if((c<<s|(f<a?(c=r[h*a+f])>>>o:0))&e[l+f])return!0;l+=n}return!1}function gV(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function mV(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function ty(t){var e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function yV(t){var e=4,n=e*t[0]/t[1],r=0,a=0;return function(i){var o=i<0?-1:1;switch(Math.sqrt(1+4*o*i)-o&3){case 0:r+=n;break;case 1:a+=e;break;case 2:r-=n;break;default:a-=e;break}return[r,a]}}function _V(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function bV(){return document.createElement("canvas")}function En(t){return typeof t=="function"?t:function(){return t}}var xV={archimedean:ty,rectangular:yV},wV=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),OV=function(t){wV(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="wordcloud",n.renderType=at.SVG,n.handleLegendOnHover=function(r){var a=r.detail.hoveredElement,i=n.getOptions().data.groupMapsTo;n.parent.selectAll("text.word").transition("legend-hover-wordcloud").call(function(o){return n.services.transitions.setupTransition({transition:o,name:"legend-hover-wordcloud"})}).attr("opacity",function(o){return o[i]!==a.datum().name?.3:1})},n.handleLegendMouseOut=function(r){n.parent.selectAll("text.word").transition("legend-mouseout-wordcloud").call(function(a){return n.services.transitions.setupTransition({transition:a,name:"legend-mouseout-wordcloud"})}).attr("opacity",1)},n}return e.prototype.init=function(){var n=this.services.events;n.addEventListener(P.Legend.ITEM_HOVER,this.handleLegendOnHover),n.addEventListener(P.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)},e.prototype.render=function(n){n===void 0&&(n=!0);var r=this,a=this.getComponentContainer().attr("width","100%").attr("height","100%"),i=this.model.getDisplayData(),o=this.getFontSizeScale(i),s=this.getOptions(),u=s.wordCloud,l=u.fontSizeMapsTo,c=u.wordMapsTo,h=s.data.groupMapsTo,f=F.getSVGElementSize(a,{useAttrs:!0}),p=f.width,d=f.height;if(p===0||d===0)return;var m=uV().size([p,d]).words(i.map(function(_){var g;return g={},g[h]=_[h],g.text=_[c],g.size=_[l],g.value=_[l],g})).padding(5).rotate(0).fontSize(function(_){return o(_.size)}).on("end",v);m.start();function v(_){var g=F.appendOrSelect(a,"g.words");g.attr("transform","translate("+m.size()[0]/2+", "+m.size()[1]/2+")");var y=g.selectAll("text").data(_,function(x){return x[h]+"-"+x.text});y.exit().attr("opacity",0).remove();var O=y.enter().append("text").attr("opacity",0);O.merge(y).style("font-size",function(x){return x.size+"px"}).text(function(x){return x.text}).attr("class",function(x){return r.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:x[h],originalClassName:"word "+(x.size>32?"light":"")})}).style("fill",function(x){return r.model.getFillColor(x[h],x.text,x)}).attr("text-anchor","middle").transition().call(function(x){return r.services.transitions.setupTransition({transition:x,name:"wordcloud-text-update-enter",animate:n})}).attr("transform",function(x){return"translate("+x.x+", "+x.y+")"}).attr("opacity",1)}this.addEventListeners()},e.prototype.getFontSizeScale=function(n){var r=this.getOptions(),a=r.wordCloud.fontSizeMapsTo,i=n.map(function(l){return l[a]}).filter(function(l){return l}),o=F.getHTMLElementSize(this.services.domUtils.getMainContainer()),s=i.length>0,u=s?en(i):[1,1];return bn().domain(u).range(s?r.wordCloud.fontSizeRange(o,n):[4,4])},e.prototype.addEventListeners=function(){var n=this.getOptions(),r=n.data.groupMapsTo,a=this,i=b.debounce(function(o){var s=a.parent.selectAll("text.word").transition("wordcloud-word-mouse-highlight").call(function(u){return a.services.transitions.setupTransition({transition:u,name:"wordcloud-word-mouse-highlight"})});o===null?s.attr("opacity",1):s.attr("opacity",function(){return o===this?1:.3})},6);this.parent.selectAll("text.word").on("mouseover",function(o,s){var u=this;i(u),a.services.events.dispatchEvent(P.WordCloud.WORD_MOUSEOVER,{event:o,element:U(this),datum:s}),a.services.events.dispatchEvent(P.Tooltip.SHOW,{event:o,hoveredElement:u,items:[{label:n.tooltip.wordLabel,value:s.text},{label:n.tooltip.valueLabel,value:s.value},{label:n.tooltip.groupLabel,value:s[r],class:a.model.getColorClassName({classNameTypes:[rt.TOOLTIP],dataGroupName:s[r]})}]})}).on("mousemove",function(o,s){var u=U(this);a.services.events.dispatchEvent(P.WordCloud.WORD_MOUSEMOVE,{element:u,datum:s}),a.services.events.dispatchEvent(P.Tooltip.MOVE,{event:o})}).on("click",function(o,s){a.services.events.dispatchEvent(P.WordCloud.WORD_CLICK,{event:o,element:U(this),datum:s})}).on("mouseout",function(o,s){var u=U(this);i(null),a.services.events.dispatchEvent(P.WordCloud.WORD_MOUSEOUT,{event:o,element:u,datum:s}),a.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:u})})},e}(vt);function ey(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function TV(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function yf(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let a of t)(a=+e(a,++r,t))&&(n+=a)}return n}function SV(t,e){return t.sourceLinks.length?t.depth:e-1}function ys(t){return function(){return t}}function ny(t,e){return _s(t.source,e.source)||t.index-e.index}function ry(t,e){return _s(t.target,e.target)||t.index-e.index}function _s(t,e){return t.y0-e.y0}function _f(t){return t.value}function EV(t){return t.index}function MV(t){return t.nodes}function CV(t){return t.links}function ay(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function iy({nodes:t}){for(const e of t){let n=e.y0,r=n;for(const a of e.sourceLinks)a.y0=n+a.width/2,n+=a.width;for(const a of e.targetLinks)a.y1=r+a.width/2,r+=a.width}}function AV(){let t=0,e=0,n=1,r=1,a=24,i=8,o,s=EV,u=SV,l,c,h=MV,f=CV,p=6;function d(){const A={nodes:h.apply(null,arguments),links:f.apply(null,arguments)};return m(A),v(A),_(A),g(A),x(A),iy(A),A}d.update=function(A){return iy(A),A},d.nodeId=function(A){return arguments.length?(s=typeof A=="function"?A:ys(A),d):s},d.nodeAlign=function(A){return arguments.length?(u=typeof A=="function"?A:ys(A),d):u},d.nodeSort=function(A){return arguments.length?(l=A,d):l},d.nodeWidth=function(A){return arguments.length?(a=+A,d):a},d.nodePadding=function(A){return arguments.length?(i=o=+A,d):i},d.nodes=function(A){return arguments.length?(h=typeof A=="function"?A:ys(A),d):h},d.links=function(A){return arguments.length?(f=typeof A=="function"?A:ys(A),d):f},d.linkSort=function(A){return arguments.length?(c=A,d):c},d.size=function(A){return arguments.length?(t=e=0,n=+A[0],r=+A[1],d):[n-t,r-e]},d.extent=function(A){return arguments.length?(t=+A[0][0],n=+A[1][0],e=+A[0][1],r=+A[1][1],d):[[t,e],[n,r]]},d.iterations=function(A){return arguments.length?(p=+A,d):p};function m({nodes:A,links:k}){for(const[B,D]of A.entries())D.index=B,D.sourceLinks=[],D.targetLinks=[];const I=new Map(A.map((B,D)=>[s(B,D,A),B]));for(const[B,D]of k.entries()){D.index=B;let{source:V,target:G}=D;typeof V!="object"&&(V=D.source=ay(I,V)),typeof G!="object"&&(G=D.target=ay(I,G)),V.sourceLinks.push(D),G.targetLinks.push(D)}if(c!=null)for(const{sourceLinks:B,targetLinks:D}of A)B.sort(c),D.sort(c)}function v({nodes:A}){for(const k of A)k.value=k.fixedValue===void 0?Math.max(yf(k.sourceLinks,_f),yf(k.targetLinks,_f)):k.fixedValue}function _({nodes:A}){const k=A.length;let I=new Set(A),B=new Set,D=0;for(;I.size;){for(const V of I){V.depth=D;for(const{target:G}of V.sourceLinks)B.add(G)}if(++D>k)throw new Error("circular link");I=B,B=new Set}}function g({nodes:A}){const k=A.length;let I=new Set(A),B=new Set,D=0;for(;I.size;){for(const V of I){V.height=D;for(const{source:G}of V.targetLinks)B.add(G)}if(++D>k)throw new Error("circular link");I=B,B=new Set}}function y({nodes:A}){const k=ey(A,D=>D.depth)+1,I=(n-t-a)/(k-1),B=new Array(k);for(const D of A){const V=Math.max(0,Math.min(k-1,Math.floor(u.call(null,D,k))));D.layer=V,D.x0=t+V*I,D.x1=D.x0+a,B[V]?B[V].push(D):B[V]=[D]}if(l)for(const D of B)D.sort(l);return B}function O(A){const k=TV(A,I=>(r-e-(I.length-1)*o)/yf(I,_f));for(const I of A){let B=e;for(const D of I){D.y0=B,D.y1=B+D.value*k,B=D.y1+o;for(const V of D.sourceLinks)V.width=V.value*k}B=(r-B+o)/(I.length+1);for(let D=0;D<I.length;++D){const V=I[D];V.y0+=B*(D+1),V.y1+=B*(D+1)}R(I)}}function x(A){const k=y(A);o=Math.min(i,(r-e)/(ey(k,I=>I.length)-1)),O(k);for(let I=0;I<p;++I){const B=Math.pow(.99,I),D=Math.max(1-B,(I+1)/p);M(k,B,D),w(k,B,D)}}function w(A,k,I){for(let B=1,D=A.length;B<D;++B){const V=A[B];for(const G of V){let K=0,st=0;for(const{source:Y,value:Q}of G.targetLinks){let J=Q*(G.layer-Y.layer);K+=L(Y,G)*J,st+=J}if(!(st>0))continue;let tt=(K/st-G.y0)*k;G.y0+=tt,G.y1+=tt,E(G)}l===void 0&&V.sort(_s),T(V,I)}}function M(A,k,I){for(let B=A.length,D=B-2;D>=0;--D){const V=A[D];for(const G of V){let K=0,st=0;for(const{target:Y,value:Q}of G.sourceLinks){let J=Q*(Y.layer-G.layer);K+=N(G,Y)*J,st+=J}if(!(st>0))continue;let tt=(K/st-G.y0)*k;G.y0+=tt,G.y1+=tt,E(G)}l===void 0&&V.sort(_s),T(V,I)}}function T(A,k){const I=A.length>>1,B=A[I];C(A,B.y0-o,I-1,k),S(A,B.y1+o,I+1,k),C(A,r,A.length-1,k),S(A,e,0,k)}function S(A,k,I,B){for(;I<A.length;++I){const D=A[I],V=(k-D.y0)*B;V>1e-6&&(D.y0+=V,D.y1+=V),k=D.y1+o}}function C(A,k,I,B){for(;I>=0;--I){const D=A[I],V=(D.y1-k)*B;V>1e-6&&(D.y0-=V,D.y1-=V),k=D.y0-o}}function E({sourceLinks:A,targetLinks:k}){if(c===void 0){for(const{source:{sourceLinks:I}}of k)I.sort(ry);for(const{target:{targetLinks:I}}of A)I.sort(ny)}}function R(A){if(c===void 0)for(const{sourceLinks:k,targetLinks:I}of A)k.sort(ry),I.sort(ny)}function L(A,k){let I=A.y0-(A.sourceLinks.length-1)*o/2;for(const{target:B,width:D}of A.sourceLinks){if(B===k)break;I+=D+o}for(const{source:B,width:D}of k.targetLinks){if(B===A)break;I-=D}return I}function N(A,k){let I=k.y0-(k.targetLinks.length-1)*o/2;for(const{source:B,width:D}of k.targetLinks){if(B===A)break;I+=D+o}for(const{target:B,width:D}of A.sourceLinks){if(B===k)break;I-=D}return I}return d}var bf=Math.PI,xf=2*bf,or=1e-6,PV=xf-or;function wf(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function oy(){return new wf}wf.prototype=oy.prototype={constructor:wf,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,a,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(t,e,n,r,a){t=+t,e=+e,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,s=n-t,u=r-e,l=i-t,c=o-e,h=l*l+c*c;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>or)if(!(Math.abs(c*s-u*l)>or)||!a)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var f=n-i,p=r-o,d=s*s+u*u,m=f*f+p*p,v=Math.sqrt(d),_=Math.sqrt(h),g=a*Math.tan((bf-Math.acos((d+h-m)/(2*v*_)))/2),y=g/_,O=g/v;Math.abs(y-1)>or&&(this._+="L"+(t+y*l)+","+(e+y*c)),this._+="A"+a+","+a+",0,0,"+ +(c*f>l*p)+","+(this._x1=t+O*s)+","+(this._y1=e+O*u)}},arc:function(t,e,n,r,a,i){t=+t,e=+e,n=+n,i=!!i;var o=n*Math.cos(r),s=n*Math.sin(r),u=t+o,l=e+s,c=1^i,h=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>or||Math.abs(this._y1-l)>or)&&(this._+="L"+u+","+l),!!n&&(h<0&&(h=h%xf+xf),h>PV?this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>or&&(this._+="A"+n+","+n+",0,"+ +(h>=bf)+","+c+","+(this._x1=t+n*Math.cos(a))+","+(this._y1=e+n*Math.sin(a))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function sy(t){return function(){return t}}function DV(t){return t[0]}function LV(t){return t[1]}var kV=Array.prototype.slice;function RV(t){return t.source}function IV(t){return t.target}function NV(t){var e=RV,n=IV,r=DV,a=LV,i=null;function o(){var s,u=kV.call(arguments),l=e.apply(this,u),c=n.apply(this,u);if(i||(i=s=oy()),t(i,+r.apply(this,(u[0]=l,u)),+a.apply(this,u),+r.apply(this,(u[0]=c,u)),+a.apply(this,u)),s)return i=null,s+""||null}return o.source=function(s){return arguments.length?(e=s,o):e},o.target=function(s){return arguments.length?(n=s,o):n},o.x=function(s){return arguments.length?(r=typeof s=="function"?s:sy(+s),o):r},o.y=function(s){return arguments.length?(a=typeof s=="function"?s:sy(+s),o):a},o.context=function(s){return arguments.length?(i=s==null?null:s,o):i},o}function BV(t,e,n,r,a){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,a,r,a)}function UV(){return NV(BV)}function FV(t){return[t.source.x1,t.y0]}function VV(t){return[t.target.x0,t.y1]}function $V(){return UV().source(FV).target(VV)}var GV=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),HV=function(t){GV(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="alluvial",n.renderType=at.SVG,n}return e.prototype.render=function(n){var r=this,a=this.getComponentContainer({withinChartClip:!0});a.html("");var i=F.getSVGElementSize(a,{useAttrs:!0}),o=i.width,s=i.height;if(!(o<1||s<1)){var u=this.model.getOptions(),l=this.model.getDisplayData(),c=_e.minNodePadding;u.alluvial.nodePadding>_e.minNodePadding&&(c=u.alluvial.nodePadding);var h=AV().nodeId(function(v){return v.name}).nodeWidth(_e.nodeWidth).nodePadding(c).extent([[2,30],[o-2,s]]);this.graph=h({nodes:u.alluvial.nodes.map(function(v){return Object.assign({},v)}),links:l.map(function(v){return Object.assign({},v)})}),this.graph.nodes=this.graph.nodes.filter(function(v){return v.value!==0});var f={};this.graph.nodes.forEach(function(v){var _,g=v.x0;v.category&&(f[g]=(_=v)===null||_===void 0?void 0:_.category)});var p=a.append("g").classed("header-arrows",!0).selectAll("g").data(Object.keys(f)).join("g").attr("transform",function(v){return"translate("+v+", 0)"});p.append("text").attr("id",function(v,_){return r.services.domUtils.generateElementIDString("alluvial-category-"+_)}).style("font-size","14px").text(function(v){return f[v]?f[v]:""}).attr("y",20).attr("x",function(v,_){var g=r.services.domUtils.generateElementIDString("alluvial-category-"+_),y=F.getSVGElementSize(U("text#"+g),{useBBox:!0}).width,O=0;return v+O>=y&&(O=-y+4),O}),a.append("g").attr("fill","none").selectAll("g").data(this.graph.links).join("path").classed("link",!0).attr("d",$V()).attr("id",function(v){return r.services.domUtils.generateElementIDString("alluvial-line-"+v.index)}).attr("class",function(v){return u.alluvial.monochrome?r.model.getColorClassName({classNameTypes:[rt.STROKE],dataGroupName:0,originalClassName:"link"}):r.model.getColorClassName({classNameTypes:[rt.STROKE],dataGroupName:v.source.index,originalClassName:"link"})}).style("stroke",function(v){return r.model.getFillColor(v.source.name)}).attr("stroke-width",function(v){return Math.max(1,v.width)}).style("stroke-opacity",_e.opacity.default).attr("aria-label",function(v){return v.source.name+" \u2192 "+v.target.name+" ("+v.value+(u.alluvial.units?" "+u.alluvial.units:"")+")"});var d=a.append("g").selectAll("g").data(this.graph.nodes).enter().append("g").attr("id",function(v){return r.services.domUtils.generateElementIDString("alluvial-node-"+v.index)}).classed("node-group",!0).attr("transform",function(v){return"translate("+v.x0+", "+v.y0+")"});d.append("rect").classed("node",!0).attr("height",function(v){return v.y1-v.y0}).attr("width",function(v){return v.x1-v.x0}).attr("fill","black");var m=d.append("g").attr("id",function(v){return r.services.domUtils.generateElementIDString("alluvial-node-title-"+v.index)});m.append("text").attr("id",function(v){return r.services.domUtils.generateElementIDString("alluvial-node-text-"+v.index)}).attr("class","node-text").style("font-size","12px").attr("text-anchor","start").attr("fill","white").attr("x",4).attr("dy",13).text(function(v){return v.name+" ("+v.value+")"}).attr("aria-label",function(v){return v.name+" ("+v.value+")"}),m.append("rect").classed("node-text-bg",!0).attr("width",function(v,_){var g=r.services.domUtils.generateElementIDString("alluvial-node-text-"+_),y=F.getSVGElementSize(U("text#"+g),{useBBox:!0}).width;return y+8}).attr("height",18).attr("stroke-width",2).lower(),m.attr("transform",function(v,_){var g=r.services.domUtils.generateElementIDString("alluvial-node-text-"+_),y=F.getSVGElementSize(U("text#"+g),{useBBox:!0}).width,O=(v.y1-v.y0)/2-9,x=v.x1-v.x0;return v.x1>=y?x=x-(y+16):x+=4,"translate("+x+", "+O+")"}),this.addLineEventListener(),this.addNodeEventListener()}},e.prototype.addLineEventListener=function(){var n=this.getOptions(),r=this,a=b.debounce(function(i,o){o===void 0&&(o="mouseover");var s=r.parent.selectAll("path.link").transition().call(function(u){return r.services.transitions.setupTransition({transition:u,name:"alluvial-links-mouse-highlight"})});o==="mouseout"?(U(i).lower(),s.style("stroke-opacity",_e.opacity.default)):s.style("stroke-opacity",function(){return i===this?(U(this).raise(),_e.opacity.selected):_e.opacity.unfocus})},33);this.parent.selectAll("path.link").on("mouseover",function(i,o){var s=U(this);a(this,"mouseover"),s.classed("link-hovered",!0);var u=getComputedStyle(this).getPropertyValue("stroke");r.services.events.dispatchEvent(P.Alluvial.LINE_MOUSEOVER,{event:i,element:s,datum:o}),r.services.events.dispatchEvent(P.Tooltip.SHOW,{event:i,hoveredElement:s,items:[{label:o.target.name,value:o.value+(n.alluvial.units?" "+n.alluvial.units:""),color:u,labelIcon:r.getRightArrowIcon()}]})}).on("mousemove",function(i,o){r.services.events.dispatchEvent(P.Alluvial.LINE_MOUSEMOVE,{event:i,element:U(this),datum:o}),r.services.events.dispatchEvent(P.Tooltip.MOVE,{event:i})}).on("click",function(i,o){r.services.events.dispatchEvent(P.Alluvial.LINE_CLICK,{event:i,element:U(this),datum:o})}).on("mouseout",function(i,o){var s=U(this);a(this,"mouseout"),s.classed("link-hovered",!1),r.services.events.dispatchEvent(P.Alluvial.LINE_MOUSEOUT,{event:i,element:s,datum:o}),r.services.events.dispatchEvent(P.Tooltip.HIDE,{event:i,hoveredElement:s})})},e.prototype.addNodeEventListener=function(){var n=this,r=this,a=b.debounce(function(i,o){if(i===void 0&&(i=[]),o===void 0&&(o="mouseover"),o==="mouseout"||i.length===0){r.parent.selectAll("path.link").classed("link-hovered",!1).data(n.graph.links,function(u){return u.index}).order().style("stroke-opacity",_e.opacity.default);return}var s=r.parent.selectAll("path.link").transition().call(function(u){return n.services.transitions.setupTransition({transition:u,name:"alluvial-link-mouse-highlight"})});s.style("stroke-opacity",function(u){return i.some(function(l){return l===u.index})?(U(this).classed("link-hovered",!0).raise(),_e.opacity.selected):_e.opacity.unfocus})},66);r.parent.selectAll(".node-group").on("mouseover",function(i,o){var s=U(this),u=[];if(r.traverse({link:"sourceLinks",node:"target"},o,u),r.traverse({link:"targetLinks",node:"source"},o,u),u.length){var l=b.getTranformOffsets(s.attr("transform"));if(s.attr("transform","translate("+(l.x-2)+", "+l.y+")"),s.classed("node-hovered",!0).selectAll("rect.node").attr("width",8),o.x0-2==0){var c=r.services.domUtils.generateElementIDString("alluvial-node-title-"+o.index),h=r.parent.select("g#"+c),f=b.getTranformOffsets(h.attr("transform"));h.attr("transform","translate("+(f.x+4)+","+f.y+")")}var p=r.services.domUtils.generateElementIDString("alluvial-node-text-"+o.index);r.parent.select("text#"+p).style("font-weight","bold"),a(u,"mouseover"),r.services.events.dispatchEvent(P.Alluvial.NODE_MOUSEOVER,{event:i,element:s,datum:o})}}).on("mousemove",function(i,o){r.services.events.dispatchEvent(P.Alluvial.NODE_MOUSEMOVE,{event:i,element:U(this),datum:o}),r.services.events.dispatchEvent(P.Tooltip.MOVE,{event:i})}).on("click",function(i,o){r.services.events.dispatchEvent(P.Alluvial.NODE_CLICK,{event:i,element:U(this),datum:o})}).on("mouseout",function(i,o){var s=U(this),u=b.getTranformOffsets(s.attr("transform"));if(s.classed("node-hovered",!1).attr("transform","translate("+(u.x+2)+", "+u.y+")").select("rect.node").attr("width",_e.nodeWidth),o.x0-2==0){var l=r.services.domUtils.generateElementIDString("alluvial-node-title-"+o.index),c=r.parent.select("g#"+l),h=b.getTranformOffsets(c.attr("transform"));c.attr("transform","translate("+(h.x-4)+","+h.y+")")}var f=r.services.domUtils.generateElementIDString("alluvial-node-text-"+o.index);r.parent.select("text#"+f).style("font-weight","normal"),a([],"mouseout"),r.services.events.dispatchEvent(P.Alluvial.NODE_MOUSEOUT,{event:i,element:s,datum:o}),r.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:s})})},e.prototype.traverse=function(n,r,a){var i=this;a===void 0&&(a=[]);var o=r[n.link].map(function(s){return a.push(s.index),s[n.node]});o.forEach(function(s){return i.traverse(n,s,a)})},e.prototype.getRightArrowIcon=function(){return`
		<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
			<polygon points="18 6 16.57 7.393 24.15 15 4 15 4 17 24.15 17 16.57 24.573 18 26 28 16 18 6"/>
			<rect  data-name="&lt;Transparent Rectangle&gt;" style="fill: none;" width="32" height="32"/>
		</svg>`},e.prototype.destroy=function(){this.parent.selectAll("path.line,.node-group").on("mouseover",null).on("mousemove",null).on("click",null).on("mouseout",null)},e}(vt),zV=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),di=function(t){zV(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="spacer",n}return e.prototype.render=function(){this.getComponentContainer().style("width",(this.configs.size||ll.default.size)+"px").style("height",(this.configs.size||ll.default.size)+"px").attr("opacity",0)},e}(vt),WV=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sr=function(t){WV(e,t);function e(n,r,a,i){var o=t.call(this,n,r,i)||this;return o.type="layout",o.configs=i,o.children=a,o._instanceID=e.instanceID++,o.init(),o}return e.prototype.init=function(){this.children.forEach(function(n){n.components.forEach(function(r){r.init()})})},e.prototype.getPreferedAndFixedSizeSum=function(){var n=this.parent,r=0;return n.selectAll("div.layout-child-"+this._instanceID).filter(function(a){var i=b.getProperty(a,"growth");return i===yt.PREFERRED||i===yt.FIXED}).each(function(a){r+=a.size}),r},e.prototype.getNumOfStretchChildren=function(){var n=this.parent;return n.selectAll("div.layout-child-"+this._instanceID).filter(function(r){return b.getProperty(r,"growth")===yt.STRETCH}).size()},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.parent,i=F.getHTMLElementSize(a.node()),o=i.width,s=i.height,u=this.configs.direction===Rt.ROW||this.configs.direction===Rt.ROW_REVERSE,l=b.getProperty(this.model.getOptions(),"style","prefix"),c=a.classed(jt.prefix+"--"+l+"--layout-row",this.configs.direction===Rt.ROW).classed(jt.prefix+"--"+l+"--layout-row-reverse",this.configs.direction===Rt.ROW_REVERSE).classed(jt.prefix+"--"+l+"--layout-column",this.configs.direction===Rt.COLUMN).classed(jt.prefix+"--"+l+"--layout-column-reverse",this.configs.direction===Rt.COLUMN_REVERSE).classed(jt.prefix+"--"+l+"--layout-alignitems-center",this.configs.alignItems===Ta.CENTER).selectAll("div.layout-child-"+this._instanceID).data(this.children,function(p){return p.id}),h=c.enter().append("div");h.merge(a.selectAll("div.layout-child-"+this._instanceID)).attr("class",function(p){return"layout-child layout-child-"+r._instanceID+" "+p.id}).each(function(p){var d=this;p.components.forEach(function(m){var v=U(d),_=b.getProperty(p,"renderType"),g=_===at.SVG;m.setParent(g?F.appendOrSelect(v,"svg.layout-svg-wrapper").attr("width","100%").attr("height","100%"):v);var y=b.getProperty(p,"growth");(y===yt.PREFERRED||y===yt.FIXED)&&m.render(n)})}),a.selectAll("div.layout-child-"+this._instanceID).style("height",null).style("width",null).each(function(p){var d=b.getProperty(p,"growth"),m=b.getProperty(p,"renderType"),v=m===at.SVG?F.getSVGElementSize(U(this).select("svg.layout-svg-wrapper"),{useBBox:!0}):F.getHTMLElementSize(this);if(d===yt.PREFERRED){var _=u?v.width:v.height,g=u?o:s;p.size=_/g*100}}),c.exit().remove(),this.children.filter(function(p){var d=b.getProperty(p,"growth");return d===yt.STRETCH}).forEach(function(p,d){p.size=(100-+r.getPreferedAndFixedSizeSum())/+r.getNumOfStretchChildren()});var f=a.selectAll("div.layout-child-"+this._instanceID).data(this.children,function(p){return p.id});u?f.style("width",function(p){return p.size/100*o+"px"}).style("height","100%"):f.style("height",function(p){return p.size/100*s+"px"}).style("width","100%"),f.each(function(p,d){p.components.forEach(function(m){var v=b.getProperty(p,"growth");v===yt.STRETCH&&m.render(n)})})},e.prototype.setModel=function(n){t.prototype.setModel.call(this,n),this.children.forEach(function(r){r.components.forEach(function(a){return a.setModel(n)})})},e.prototype.setServices=function(n){t.prototype.setServices.call(this,n),this.children.forEach(function(r){r.components.forEach(function(a){return a.setServices(n)})})},e.prototype.destroy=function(){this.children.forEach(function(n){n.components.forEach(function(r){return r.destroy()})})},e.instanceID=Math.floor(Math.random()*99999999999),e}(vt);function jV(t){return t}var bs=1,xs=2,Of=3,pi=4,uy=1e-6;function YV(t){return"translate("+t+",0)"}function qV(t){return"translate(0,"+t+")"}function KV(t){return e=>+t(e)}function XV(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ZV(){return!this.__axis}function ws(t,e){var n=[],r=null,a=null,i=6,o=6,s=3,u=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,l=t===bs||t===pi?-1:1,c=t===pi||t===xs?"x":"y",h=t===bs||t===Of?YV:qV;function f(p){var d=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,m=a==null?e.tickFormat?e.tickFormat.apply(e,n):jV:a,v=Math.max(i,0)+s,_=e.range(),g=+_[0]+u,y=+_[_.length-1]+u,O=(e.bandwidth?XV:KV)(e.copy(),u),x=p.selection?p.selection():p,w=x.selectAll(".domain").data([null]),M=x.selectAll(".tick").data(d,e).order(),T=M.exit(),S=M.enter().append("g").attr("class","tick"),C=M.select("line"),E=M.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(S),C=C.merge(S.append("line").attr("stroke","currentColor").attr(c+"2",l*i)),E=E.merge(S.append("text").attr("fill","currentColor").attr(c,l*v).attr("dy",t===bs?"0em":t===Of?"0.71em":"0.32em")),p!==x&&(w=w.transition(p),M=M.transition(p),C=C.transition(p),E=E.transition(p),T=T.transition(p).attr("opacity",uy).attr("transform",function(R){return isFinite(R=O(R))?h(R+u):this.getAttribute("transform")}),S.attr("opacity",uy).attr("transform",function(R){var L=this.parentNode.__axis;return h((L&&isFinite(L=L(R))?L:O(R))+u)})),T.remove(),w.attr("d",t===pi||t===xs?o?"M"+l*o+","+g+"H"+u+"V"+y+"H"+l*o:"M"+u+","+g+"V"+y:o?"M"+g+","+l*o+"V"+u+"H"+y+"V"+l*o:"M"+g+","+u+"H"+y),M.attr("opacity",1).attr("transform",function(R){return h(O(R)+u)}),C.attr(c+"2",l*i),E.attr(c,l*v).text(m),x.filter(ZV).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===xs?"start":t===pi?"end":"middle"),x.each(function(){this.__axis=O})}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),f):n.slice()},f.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(a=p,f):a},f.tickSize=function(p){return arguments.length?(i=o=+p,f):i},f.tickSizeInner=function(p){return arguments.length?(i=+p,f):i},f.tickSizeOuter=function(p){return arguments.length?(o=+p,f):o},f.tickPadding=function(p){return arguments.length?(s=+p,f):s},f.offset=function(p){return arguments.length?(u=+p,f):u},f}function QV(t){return ws(bs,t)}function JV(t){return ws(xs,t)}function ly(t){return ws(Of,t)}function cy(t){return ws(pi,t)}var t$=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),e$=function(t){t$(e,t);function e(n,r,a){var i=t.call(this,n,r,a)||this;return i.type="axes",i.renderType=at.SVG,a&&(i.configs=a),i.margins=i.configs.margins,i}return e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this.configs.position,i=this.getOptions(),o=b.getProperty(i,"axes",a,"visible"),s=this.getComponentContainer(),u=F.getSVGElementSize(s,{useAttrs:!0}),l=u.width,c=u.height,h=F.appendOrSelect(s,"g.axis."+a),f,p;a===W.BOTTOM||a===W.TOP?(f=this.configs.axes[W.LEFT]?this.margins.left:0,p=this.configs.axes[W.RIGHT]?l-this.margins.right:l):(f=c-this.margins.bottom,p=this.margins.top);var d=this.services.cartesianScales.getScaleByPosition(a);this.scaleType===et.LABELS||this.scaleType===et.LABELS_RATIO?d.rangeRound([f,p]):d.range([f,p]);var m;switch(a){case W.LEFT:m=cy;break;case W.BOTTOM:m=ly;break;case W.RIGHT:m=JV;break;case W.TOP:m=QV;break}h.attr("aria-label",a+" axis");var v=!h.select("g.ticks").empty(),_=F.appendOrSelect(h,"g.ticks");v||(_.attr("role",ct.GRAPHICS_OBJECT+" "+ct.GROUP),_.attr("aria-label",a+" ticks"));var g=F.appendOrSelect(h,"g.ticks.invisible").style("opacity","0").style("pointer-events","none").attr("aria-hidden",!0).attr("aria-label","invisible "+a+" ticks"),y=b.getProperty(i,"axes",a),O=this.scaleType===et.TIME||y.scaleType===et.TIME,x=a===W.LEFT||a===W.RIGHT,w=this.model.get("zoomDomain");if(w&&O&&!x&&d.domain(w),!o){_.attr("aria-hidden",!0);return}var M=b.getProperty(y,"scaleType"),T=b.getProperty(i,"data","loading"),S=b.getProperty(y,"ticks","number"),C=b.getProperty(y,"ticks","values"),E=b.getProperty(y,"truncation","type"),R=b.getProperty(y,"truncation","threshold"),L=b.getProperty(y,"truncation","numCharacter"),N=S!==null,A=b.getProperty(i,"timeScale"),k=F.appendOrSelect(g,"g.tick"),I=F.appendOrSelect(k,"text").text("0"),B=F.getSVGElementSize(I.node(),{useBBox:!0}).height;k.remove();var D=this.scaleType||y.scaleType||et.LINEAR,V=m(d).tickSizeOuter(0);if(d.ticks){var G=void 0;if(N?G=S:(G=Vn.ticks.number,x&&(G=this.getNumberOfFittingTicks(c,B,Vn.ticks.verticalSpaceRatio))),d.ticks().length===1&&d.ticks()[0]===0&&(G=0),V.ticks(G),O)if(!d.ticks(G).length)V.tickValues([]);else{var K=b.getProperty(i,"timeScale","addSpaceOnEdges"),st=b.getProperty(i,"axes",a,"domain"),tt=void 0,Y=d.copy();K&&!st&&Y.nice(G),tt=Y.ticks(G),K&&tt.length>2&&!st&&(tt.splice(tt.length-1,1),tt.splice(0,1)),V.tickValues(tt)}}var Q,J=b.getProperty(y,"ticks","formatter");if(O){var ot=cf(V.tickValues());J===null?Q=function(ht,ne){return lf(ht,ne,V.tickValues(),ot,A)}:Q=function(ht,ne){var $y=lf(ht,ne,V.tickValues(),ot,A);return J(ht,ne,$y)}}else J===null?D===et.LINEAR&&(Q=function(ht){return ht.toLocaleString()}):Q=J;V.tickFormat(Q);var j=this.services.cartesianScales.getScaleByPosition(a).domain(),Z=j[0],ut=j[1],H;if(C){if(O)C.forEach(function(ht,ne){ht.getTime===void 0&&(C[ne]=new Date(ht))}),H=C.filter(function(ht){var ne=ht.getTime();return ne>=new Date(Z).getTime()&&ne<=new Date(ut).getTime()});else if(M===et.LABELS){var dt=this.services.cartesianScales.getScaleByPosition(a).domain();H=C.filter(function(ht){return dt.includes(ht)})}else H=C.filter(function(ht){return ht>=Z&&ht<=ut});V.tickValues(H)}switch(a){case W.LEFT:_.attr("transform","translate("+this.margins.left+", 0)");break;case W.BOTTOM:_.attr("transform","translate(0, "+(c-this.margins.bottom)+")");break;case W.RIGHT:_.attr("transform","translate("+(l-this.margins.right)+", 0)");break;case W.TOP:_.attr("transform","translate(0, "+this.margins.top+")");break}var lt=this.model.isDataEmpty();if(y.title){var mt=F.appendOrSelect(h,"text.axis-title").html(lt||T?"":y.title),It=b.getProperty(y,"titleOrientation");switch(a){case W.LEFT:It===eo.RIGHT?mt.attr("transform","rotate(90)").attr("y",0).attr("x",d.range()[0]/2).attr("dy","-0.5em").style("text-anchor","middle"):mt.attr("transform","rotate(-90)").attr("y",0).attr("x",-(d.range()[0]/2)).attr("dy","0.75em").style("text-anchor","middle");break;case W.BOTTOM:mt.attr("transform","translate("+(this.margins.left/2+d.range()[1]/2)+", "+(c+4)+")").style("text-anchor","middle");break;case W.RIGHT:It===eo.LEFT?mt.attr("transform","rotate(-90)").attr("y",l).attr("x",-(d.range()[0]/2)).style("text-anchor","middle"):mt.attr("transform","rotate(90)").attr("y",-l).attr("x",d.range()[0]/2).attr("dy","0.75em").style("text-anchor","middle");break;case W.TOP:var $=F.getSVGElementSize(mt,{useBBox:!0}).height;mt.attr("transform","translate("+(this.margins.left/2+d.range()[1]/2)+", "+$/2+")").style("text-anchor","middle");break}}if(O){var z=cf(V.tickValues()),q=A.showDayName,qt=_;n&&(_=_.transition().call(function(ht){return r.services.transitions.setupTransition({transition:ht,name:"axis-update",animate:n})})),_=_.call(V);var Ny=qt.selectAll(".tick").data(V.tickValues(),d).order().select("text");Ny.style("font-weight",function(ht,ne){return Mm(ht,ne,V.tickValues(),z,q)?"bold":"normal"})}else!n||!v?_=_.call(V):_=_.transition().call(function(ht){return r.services.transitions.setupTransition({transition:ht,name:"axis-update",animate:n})}).call(V);if(g.call(V),a===W.BOTTOM||a===W.TOP){var lr=!1,_i=b.getProperty(y,"ticks","rotation");if(_i===Ma.ALWAYS)lr=!0;else if(_i===Ma.NEVER)lr=!1;else if(!_i||_i===Ma.AUTO)if(d.step){var By=g.selectAll("g.tick text").nodes();lr=By.some(function(ht){return F.getSVGElementSize(ht,{useBBox:!0}).width>=d.step()})}else{lr=!1;var Uy=g.append("text").text("A"),Fy=F.getSVGElementSize(Uy.node(),{useBBox:!0}).width,Hf;g.selectAll("g.tick").each(function(){var ht=U(this),ne=parseFloat(b.getProperty(b.getTranslationValues(this),"tx"));ne!==null&&Hf+ht.text().length*Fy*.8>=ne&&(lr=!0),Hf=ne})}lr?(N||(V.ticks(this.getNumberOfFittingTicks(l,B,Vn.ticks.horizontalSpaceRatio)),g.call(V),_.call(V)),h.selectAll("g.ticks g.tick text").attr("transform","rotate(-45)").style("text-anchor",a===W.TOP?"start":"end")):h.selectAll("g.ticks g.tick text").attr("transform",null).style("text-anchor",null)}if(T?h.attr("opacity",0):h.attr("opacity",1),_.selectAll("g.tick").attr("aria-label",function(ht){return ht}),g.selectAll("g.tick").attr("aria-label",function(ht){return ht}),E!==Qe.NONE&&M===et.LABELS&&!C){var bi=this.services.cartesianScales.getScaleDomain(a);if(bi.length>0){var Vy=s.select("g.axis."+a+" g.ticks g.tick").html();h.selectAll("g.ticks g.tick").html(Vy),h.selectAll("g.tick text").data(bi).text(function(ht){return ht.length>R?b.truncateLabel(ht,E,L):ht}),this.getInvisibleAxisRef().selectAll("g.tick text").data(bi).text(function(ht){return ht.length>R?b.truncateLabel(ht,E,L):ht}),h.selectAll("g.ticks").html(this.getInvisibleAxisRef().html()),h.selectAll("g.tick text").data(bi)}}this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this.getComponentContainer(),r=this.configs.position,a=F.appendOrSelect(n,"g.axis."+r),i=this.getOptions(),o=b.getProperty(i,"axes",r),s=b.getProperty(o,"scaleType"),u=b.getProperty(o,"truncation","threshold");this.scaleType===et.TIME||(o.scaleType,et.TIME);var l=this;a.selectAll("g.tick text").on("mouseover",function(c,h){l.services.events.dispatchEvent(P.Axis.LABEL_MOUSEOVER,{event:c,element:U(this),datum:h}),s===et.LABELS&&h.length>u&&l.services.events.dispatchEvent(P.Tooltip.SHOW,{event:c,hoveredElement:U(this),content:h})}).on("mousemove",function(c,h){l.services.events.dispatchEvent(P.Axis.LABEL_MOUSEMOVE,{event:c,element:U(this),datum:h}),s===et.LABELS&&h.length>u&&l.services.events.dispatchEvent(P.Tooltip.MOVE,{event:c})}).on("click",function(c,h){l.services.events.dispatchEvent(P.Axis.LABEL_CLICK,{event:c,element:U(this),datum:h})}).on("mouseout",function(c,h){l.services.events.dispatchEvent(P.Axis.LABEL_MOUSEOUT,{event:c,element:U(this),datum:h}),s===et.LABELS&&l.services.events.dispatchEvent(P.Tooltip.HIDE)})},e.prototype.getInvisibleAxisRef=function(){var n=this.configs.position;return this.getComponentContainer().select("g.axis."+n+" g.ticks.invisible")},e.prototype.getTitleRef=function(){var n=this.configs.position;return this.getComponentContainer().select("g.axis."+n+" text.axis-title")},e.prototype.getNumberOfFittingTicks=function(n,r,a){var i=Math.floor(n/(r*a));return b.clamp(i,2,Vn.ticks.number)},e.prototype.destroy=function(){var n=this.getComponentContainer(),r=this.configs.position,a=F.appendOrSelect(n,"g.axis."+r);a.selectAll("g.tick text").on("mouseover",null).on("mousemove",null).on("mouseout",null)},e}(vt),n$=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ve=function(t){n$(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="2D-axes",n.renderType=at.SVG,n.children={},n.thresholds=[],n.margins={top:0,right:0,bottom:0,left:0},n}return e.prototype.render=function(n){var r=this;n===void 0&&(n=!1);var a={},i=Object.keys(W),o=b.getProperty(this.getOptions(),"axes");i.forEach(function(l){var c=o[W[l]];c&&(a[W[l]]=!0)}),this.configs.axes=a,i.forEach(function(l){var c=W[l];if(r.configs.axes[c]&&!r.children[c]){var h=new e$(r.model,r.services,{position:c,axes:r.configs.axes,margins:r.margins});h.setModel(r.model),h.setServices(r.services),h.setParent(r.parent),r.children[c]=h}}),Object.keys(this.children).forEach(function(l){var c=r.children[l];c.render(n)});var s={};Object.keys(this.children).forEach(function(l){var c=r.children[l],h=c.configs.position,f=c.getInvisibleAxisRef(),p=F.getSVGElementSize(f,{useBBox:!0}),d=p.width,m=p.height,v;switch(c.getTitleRef().empty()?v=0:(v=F.getSVGElementSize(c.getTitleRef(),{useBBox:!0}).height,(h===W.LEFT||h===W.RIGHT)&&(v+=5)),h){case W.TOP:s.top=m+v;break;case W.BOTTOM:s.bottom=m+v;break;case W.LEFT:s.left=d+v;break;case W.RIGHT:s.right=d+v;break}});var u=Object.keys(s).some(function(l){return r.margins[l]!==s[l]});u&&(this.margins=Object.assign(this.margins,s),this.model.set({axesMargins:this.margins},{skipUpdate:!0}),this.services.events.dispatchEvent(P.ZoomBar.UPDATE),Object.keys(this.children).forEach(function(l){var c=r.children[l];c.margins=r.margins}),this.render(!0))},e}(vt),r$={value:()=>{}};function Tf(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Os(n)}function Os(t){this._=t}function a$(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Os.prototype=Tf.prototype={constructor:Os,on:function(t,e){var n=this._,r=a$(t+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(t=r[i]).type)&&(a=i$(n[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<o;)if(a=(t=r[i]).type)n[a]=fy(n[a],t.name,e);else if(e==null)for(a in n)n[a]=fy(n[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Os(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};function i$(t,e){for(var n=0,r=t.length,a;n<r;++n)if((a=t[n]).name===e)return a.value}function fy(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=r$,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const Sf={capture:!0,passive:!1};function Ef(t){t.preventDefault(),t.stopImmediatePropagation()}function o$(t){var e=t.document.documentElement,n=U(t).on("dragstart.drag",Ef,Sf);"onselectstart"in e?n.on("selectstart.drag",Ef,Sf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function s$(t,e){var n=t.document.documentElement,r=U(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ef,Sf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Yr=0,vi=0,gi=0,hy=1e3,Ts,mi,Ss=0,ur=0,Es=0,yi=typeof performance=="object"&&performance.now?performance:Date,dy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Mf(){return ur||(dy(u$),ur=yi.now()+Es)}function u$(){ur=0}function Ms(){this._call=this._time=this._next=null}Ms.prototype=py.prototype={constructor:Ms,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Mf():+n)+(e==null?0:+e),!this._next&&mi!==this&&(mi?mi._next=this:Ts=this,mi=this),this._call=t,this._time=n,Cf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Cf())}};function py(t,e,n){var r=new Ms;return r.restart(t,e,n),r}function l$(){Mf(),++Yr;for(var t=Ts,e;t;)(e=ur-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Yr}function vy(){ur=(Ss=yi.now())+Es,Yr=vi=0;try{l$()}finally{Yr=0,f$(),ur=0}}function c$(){var t=yi.now(),e=t-Ss;e>hy&&(Es-=e,Ss=t)}function f$(){for(var t,e=Ts,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ts=n);mi=t,Cf(r)}function Cf(t){if(!Yr){vi&&(vi=clearTimeout(vi));var e=t-ur;e>24?(t<1/0&&(vi=setTimeout(vy,t-yi.now()-Es)),gi&&(gi=clearInterval(gi))):(gi||(Ss=yi.now(),gi=setInterval(c$,hy)),Yr=1,dy(vy))}}function gy(t,e,n){var r=new Ms;return e=e==null?0:+e,r.restart(a=>{r.stop(),t(a+e)},e,n),r}var h$=Tf("start","end","cancel","interrupt"),d$=[],my=0,yy=1,Af=2,Cs=3,_y=4,Pf=5,As=6;function Ps(t,e,n,r,a,i){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;p$(t,n,{name:e,index:r,group:a,on:h$,tween:d$,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:my})}function Df(t,e){var n=Ae(t,e);if(n.state>my)throw new Error("too late; already scheduled");return n}function $e(t,e){var n=Ae(t,e);if(n.state>Cs)throw new Error("too late; already running");return n}function Ae(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function p$(t,e,n){var r=t.__transition,a;r[e]=n,n.timer=py(i,0,n.time);function i(l){n.state=yy,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,h,f,p;if(n.state!==yy)return u();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Cs)return gy(o);p.state===_y?(p.state=As,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=As,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(gy(function(){n.state===Cs&&(n.state=_y,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=Af,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Af){for(n.state=Cs,a=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(a[++h]=p);a.length=h+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Pf,1),h=-1,f=a.length;++h<f;)a[h].call(t,c);n.state===Pf&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=As,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function Lf(t,e){var n=t.__transition,r,a,i=!0,o;if(!!n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){i=!1;continue}a=r.state>Af&&r.state<Pf,r.state=As,r.timer.stop(),r.on.call(a?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}i&&delete t.__transition}}function v$(t){return this.each(function(){Lf(this,t)})}function g$(t,e){var n,r;return function(){var a=$e(this,t),i=a.tween;if(i!==n){r=n=i;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function m$(t,e,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=$e(this,t),o=i.tween;if(o!==r){a=(r=o).slice();for(var s={name:e,value:n},u=0,l=a.length;u<l;++u)if(a[u].name===e){a[u]=s;break}u===l&&a.push(s)}i.tween=a}}function y$(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ae(this.node(),n).tween,a=0,i=r.length,o;a<i;++a)if((o=r[a]).name===t)return o.value;return null}return this.each((e==null?g$:m$)(n,t,e))}function kf(t,e,n){var r=t._id;return t.each(function(){var a=$e(this,r);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return Ae(a,r).value[e]}}function by(t,e){var n;return(typeof e=="number"?we:e instanceof nn?Mo:(n=nn(e))?(e=n,Mo):Lv)(t,e)}function _$(t){return function(){this.removeAttribute(t)}}function b$(t){return function(){this.removeAttributeNS(t.space,t.local)}}function x$(t,e,n){var r,a=n+"",i;return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function w$(t,e,n){var r,a=n+"",i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function O$(t,e,n){var r,a,i;return function(){var o,s=n(this),u;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=s+"",o===u?null:o===r&&u===a?i:(a=u,i=e(r=o,s)))}}function T$(t,e,n){var r,a,i;return function(){var o,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=s+"",o===u?null:o===r&&u===a?i:(a=u,i=e(r=o,s)))}}function S$(t,e){var n=yo(t),r=n==="transform"?NP:by;return this.attrTween(t,typeof e=="function"?(n.local?T$:O$)(n,r,kf(this,"attr."+t,e)):e==null?(n.local?b$:_$)(n):(n.local?w$:x$)(n,r,e))}function E$(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function M$(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function C$(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&M$(t,i)),n}return a._value=e,a}function A$(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&E$(t,i)),n}return a._value=e,a}function P$(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=yo(t);return this.tween(n,(r.local?C$:A$)(r,e))}function D$(t,e){return function(){Df(this,t).delay=+e.apply(this,arguments)}}function L$(t,e){return e=+e,function(){Df(this,t).delay=e}}function k$(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?D$:L$)(e,t)):Ae(this.node(),e).delay}function R$(t,e){return function(){$e(this,t).duration=+e.apply(this,arguments)}}function I$(t,e){return e=+e,function(){$e(this,t).duration=e}}function N$(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?R$:I$)(e,t)):Ae(this.node(),e).duration}function B$(t,e){if(typeof e!="function")throw new Error;return function(){$e(this,t).ease=e}}function U$(t){var e=this._id;return arguments.length?this.each(B$(e,t)):Ae(this.node(),e).ease}function F$(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;$e(this,t).ease=n}}function V$(t){if(typeof t!="function")throw new Error;return this.each(F$(this._id,t))}function $$(t){typeof t!="function"&&(t=Qp(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],o=i.length,s=r[a]=[],u,l=0;l<o;++l)(u=i[l])&&t.call(u,u.__data__,l,i)&&s.push(u);return new un(r,this._parents,this._name,this._id)}function G$(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s)for(var u=e[s],l=n[s],c=u.length,h=o[s]=new Array(c),f,p=0;p<c;++p)(f=u[p]||l[p])&&(h[p]=f);for(;s<r;++s)o[s]=e[s];return new un(o,this._parents,this._name,this._id)}function H$(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function z$(t,e,n){var r,a,i=H$(e)?Df:$e;return function(){var o=i(this,t),s=o.on;s!==r&&(a=(r=s).copy()).on(e,n),o.on=a}}function W$(t,e){var n=this._id;return arguments.length<2?Ae(this.node(),n).on.on(t):this.each(z$(n,t,e))}function j$(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Y$(){return this.on("end.remove",j$(this._id))}function q$(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ul(t));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var s=r[o],u=s.length,l=i[o]=new Array(u),c,h,f=0;f<u;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),l[f]=h,Ps(l[f],e,n,f,l,Ae(c,n)));return new un(i,this._parents,e,n)}function K$(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Zp(t));for(var r=this._groups,a=r.length,i=[],o=[],s=0;s<a;++s)for(var u=r[s],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var f=t.call(c,c.__data__,h,u),p,d=Ae(c,n),m=0,v=f.length;m<v;++m)(p=f[m])&&Ps(p,e,n,m,f,d);i.push(f),o.push(c)}return new un(i,o,e,n)}var X$=Fa.prototype.constructor;function Z$(){return new X$(this._groups,this._parents)}function Q$(t,e){var n,r,a;return function(){var i=Pr(this,t),o=(this.style.removeProperty(t),Pr(this,t));return i===o?null:i===n&&o===r?a:a=e(n=i,r=o)}}function xy(t){return function(){this.style.removeProperty(t)}}function J$(t,e,n){var r,a=n+"",i;return function(){var o=Pr(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}function t3(t,e,n){var r,a,i;return function(){var o=Pr(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),Pr(this,t))),o===u?null:o===r&&u===a?i:(a=u,i=e(r=o,s))}}function e3(t,e){var n,r,a,i="style."+e,o="end."+i,s;return function(){var u=$e(this,t),l=u.on,c=u.value[i]==null?s||(s=xy(e)):void 0;(l!==n||a!==c)&&(r=(n=l).copy()).on(o,a=c),u.on=r}}function n3(t,e,n){var r=(t+="")==="transform"?IP:by;return e==null?this.styleTween(t,Q$(t,r)).on("end.style."+t,xy(t)):typeof e=="function"?this.styleTween(t,t3(t,r,kf(this,"style."+t,e))).each(e3(this._id,t)):this.styleTween(t,J$(t,r,e),n).on("end.style."+t,null)}function r3(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function a3(t,e,n){var r,a;function i(){var o=e.apply(this,arguments);return o!==a&&(r=(a=o)&&r3(t,o,n)),r}return i._value=e,i}function i3(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,a3(t,e,n==null?"":n))}function o3(t){return function(){this.textContent=t}}function s3(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function u3(t){return this.tween("text",typeof t=="function"?s3(kf(this,"text",t)):o3(t==null?"":t+""))}function l3(t){return function(e){this.textContent=t.call(this,e)}}function c3(t){var e,n;function r(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&l3(a)),e}return r._value=t,r}function f3(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,c3(t))}function h3(){for(var t=this._name,e=this._id,n=wy(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var c=Ae(u,e);Ps(u,t,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new un(r,this._parents,t,n)}function d3(){var t,e,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var s={value:o},u={value:function(){--a==0&&i()}};n.each(function(){var l=$e(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),a===0&&i()})}var p3=0;function un(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function wy(){return++p3}var ln=Fa.prototype;un.prototype={constructor:un,select:q$,selectAll:K$,selectChild:ln.selectChild,selectChildren:ln.selectChildren,filter:$$,merge:G$,selection:Z$,transition:h3,call:ln.call,nodes:ln.nodes,node:ln.node,size:ln.size,empty:ln.empty,each:ln.each,on:W$,attr:S$,attrTween:P$,style:n3,styleTween:i3,text:u3,textTween:f3,remove:Y$,tween:y$,delay:k$,duration:N$,ease:U$,easeVarying:V$,end:d3,[Symbol.iterator]:ln[Symbol.iterator]};var v3={time:null,delay:0,duration:250,ease:cd};function g3(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function m3(t){var e,n;t instanceof un?(e=t._id,t=t._name):(e=wy(),(n=v3).time=Mf(),t=t==null?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],s=o.length,u,l=0;l<s;++l)(u=o[l])&&Ps(u,t,e,l,o,n||g3(u,e));return new un(r,this._parents,t,e)}Fa.prototype.interrupt=v$;Fa.prototype.transition=m3;var Rf=t=>()=>t;function y3(t,{sourceEvent:e,target:n,selection:r,mode:a,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}function _3(t){t.stopImmediatePropagation()}function If(t){t.preventDefault(),t.stopImmediatePropagation()}var Oy={name:"drag"},Nf={name:"space"},qr={name:"handle"},Kr={name:"center"};const{abs:Ty,max:te,min:ee}=Math;function Sy(t){return[+t[0],+t[1]]}function Ey(t){return[Sy(t[0]),Sy(t[1])]}var Ds={name:"x",handles:["w","e"].map(Ls),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Bf={name:"y",handles:["n","s"].map(Ls),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},cn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},My={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Cy={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},b3={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},x3={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ls(t){return{type:t}}function w3(t){return!t.ctrlKey&&!t.button}function O3(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function T3(){return navigator.maxTouchPoints||"ontouchstart"in this}function Uf(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function S3(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ay(){return E3(Ds)}function E3(t){var e=O3,n=w3,r=T3,a=!0,i=Tf("start","brush","end"),o=6,s;function u(v){var _=v.property("__brush",m).selectAll(".overlay").data([Ls("overlay")]);_.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cn.overlay).merge(_).each(function(){var y=Uf(this).extent;U(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),v.selectAll(".selection").data([Ls("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var g=v.selectAll(".handle").data(t.handles,function(y){return y.type});g.exit().remove(),g.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return cn[y.type]}),v.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(v,_,g){v.tween?v.on("start.brush",function(y){c(this,arguments).beforestart().start(y)}).on("interrupt.brush end.brush",function(y){c(this,arguments).end(y)}).tween("brush",function(){var y=this,O=y.__brush,x=c(y,arguments),w=O.selection,M=t.input(typeof _=="function"?_.apply(this,arguments):_,O.extent),T=Ya(w,M);function S(C){O.selection=C===1&&M===null?null:T(C),l.call(y),x.brush()}return w!==null&&M!==null?S:S(1)}):v.each(function(){var y=this,O=arguments,x=y.__brush,w=t.input(typeof _=="function"?_.apply(y,O):_,x.extent),M=c(y,O).beforestart();Lf(y),x.selection=w===null?null:w,l.call(y),M.start(g).brush(g).end(g)})},u.clear=function(v,_){u.move(v,null,_)};function l(){var v=U(this),_=Uf(this).selection;_?(v.selectAll(".selection").style("display",null).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1]),v.selectAll(".handle").style("display",null).attr("x",function(g){return g.type[g.type.length-1]==="e"?_[1][0]-o/2:_[0][0]-o/2}).attr("y",function(g){return g.type[0]==="s"?_[1][1]-o/2:_[0][1]-o/2}).attr("width",function(g){return g.type==="n"||g.type==="s"?_[1][0]-_[0][0]+o:o}).attr("height",function(g){return g.type==="e"||g.type==="w"?_[1][1]-_[0][1]+o:o})):v.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(v,_,g){var y=v.__brush.emitter;return y&&(!g||!y.clean)?y:new h(v,_,g)}function h(v,_,g){this.that=v,this.args=_,this.state=v.__brush,this.active=0,this.clean=g}h.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(v,_){return this.starting?(this.starting=!1,this.emit("start",v,_)):this.emit("brush",v),this},brush:function(v,_){return this.emit("brush",v,_),this},end:function(v,_){return--this.active==0&&(delete this.state.emitter,this.emit("end",v,_)),this},emit:function(v,_,g){var y=U(this.that).datum();i.call(v,this.that,new y3(v,{sourceEvent:_,target:u,selection:t.output(this.state.selection),mode:g,dispatch:i}),y)}};function f(v){if(s&&!v.touches||!n.apply(this,arguments))return;var _=this,g=v.target.__data__.type,y=(a&&v.metaKey?g="overlay":g)==="selection"?Oy:a&&v.altKey?Kr:qr,O=t===Bf?null:b3[g],x=t===Ds?null:x3[g],w=Uf(_),M=w.extent,T=w.selection,S=M[0][0],C,E,R=M[0][1],L,N,A=M[1][0],k,I,B=M[1][1],D,V,G=0,K=0,st,tt=O&&x&&a&&v.shiftKey,Y,Q,J=Array.from(v.touches||[v],$=>{const z=$.identifier;return $=qn($,_),$.point0=$.slice(),$.identifier=z,$});Lf(_);var ot=c(_,arguments,!0).beforestart();if(g==="overlay"){T&&(st=!0);const $=[J[0],J[1]||J[0]];w.selection=T=[[C=t===Bf?S:ee($[0][0],$[1][0]),L=t===Ds?R:ee($[0][1],$[1][1])],[k=t===Bf?A:te($[0][0],$[1][0]),D=t===Ds?B:te($[0][1],$[1][1])]],J.length>1&&dt(v)}else C=T[0][0],L=T[0][1],k=T[1][0],D=T[1][1];E=C,N=L,I=k,V=D;var j=U(_).attr("pointer-events","none"),Z=j.selectAll(".overlay").attr("cursor",cn[g]);if(v.touches)ot.moved=H,ot.ended=lt;else{var ut=U(v.view).on("mousemove.brush",H,!0).on("mouseup.brush",lt,!0);a&&ut.on("keydown.brush",mt,!0).on("keyup.brush",It,!0),o$(v.view)}l.call(_),ot.start(v,y.name);function H($){for(const z of $.changedTouches||[$])for(const q of J)q.identifier===z.identifier&&(q.cur=qn(z,_));if(tt&&!Y&&!Q&&J.length===1){const z=J[0];Ty(z.cur[0]-z[0])>Ty(z.cur[1]-z[1])?Q=!0:Y=!0}for(const z of J)z.cur&&(z[0]=z.cur[0],z[1]=z.cur[1]);st=!0,If($),dt($)}function dt($){const z=J[0],q=z.point0;var qt;switch(G=z[0]-q[0],K=z[1]-q[1],y){case Nf:case Oy:{O&&(G=te(S-C,ee(A-k,G)),E=C+G,I=k+G),x&&(K=te(R-L,ee(B-D,K)),N=L+K,V=D+K);break}case qr:{J[1]?(O&&(E=te(S,ee(A,J[0][0])),I=te(S,ee(A,J[1][0])),O=1),x&&(N=te(R,ee(B,J[0][1])),V=te(R,ee(B,J[1][1])),x=1)):(O<0?(G=te(S-C,ee(A-C,G)),E=C+G,I=k):O>0&&(G=te(S-k,ee(A-k,G)),E=C,I=k+G),x<0?(K=te(R-L,ee(B-L,K)),N=L+K,V=D):x>0&&(K=te(R-D,ee(B-D,K)),N=L,V=D+K));break}case Kr:{O&&(E=te(S,ee(A,C-G*O)),I=te(S,ee(A,k+G*O))),x&&(N=te(R,ee(B,L-K*x)),V=te(R,ee(B,D+K*x)));break}}I<E&&(O*=-1,qt=C,C=k,k=qt,qt=E,E=I,I=qt,g in My&&Z.attr("cursor",cn[g=My[g]])),V<N&&(x*=-1,qt=L,L=D,D=qt,qt=N,N=V,V=qt,g in Cy&&Z.attr("cursor",cn[g=Cy[g]])),w.selection&&(T=w.selection),Y&&(E=T[0][0],I=T[1][0]),Q&&(N=T[0][1],V=T[1][1]),(T[0][0]!==E||T[0][1]!==N||T[1][0]!==I||T[1][1]!==V)&&(w.selection=[[E,N],[I,V]],l.call(_),ot.brush($,y.name))}function lt($){if(_3($),$.touches){if($.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else s$($.view,st),ut.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);j.attr("pointer-events","all"),Z.attr("cursor",cn.overlay),w.selection&&(T=w.selection),S3(T)&&(w.selection=null,l.call(_)),ot.end($,y.name)}function mt($){switch($.keyCode){case 16:{tt=O&&x;break}case 18:{y===qr&&(O&&(k=I-G*O,C=E+G*O),x&&(D=V-K*x,L=N+K*x),y=Kr,dt($));break}case 32:{(y===qr||y===Kr)&&(O<0?k=I-G:O>0&&(C=E-G),x<0?D=V-K:x>0&&(L=N-K),y=Nf,Z.attr("cursor",cn.selection),dt($));break}default:return}If($)}function It($){switch($.keyCode){case 16:{tt&&(Y=Q=tt=!1,dt($));break}case 18:{y===Kr&&(O<0?k=I:O>0&&(C=E),x<0?D=V:x>0&&(L=N),y=qr,dt($));break}case 32:{y===Nf&&($.altKey?(O&&(k=I-G*O,C=E+G*O),x&&(D=V-K*x,L=N+K*x),y=Kr):(O<0?k=I:O>0&&(C=E),x<0?D=V:x>0&&(L=N),y=qr),Z.attr("cursor",cn[g]),dt($));break}default:return}If($)}}function p(v){c(this,arguments).moved(v)}function d(v){c(this,arguments).ended(v)}function m(){var v=this.__brush||{selection:null};return v.extent=Ey(e.apply(this,arguments)),v.dim=t,v}return u.extent=function(v){return arguments.length?(e=typeof v=="function"?v:Rf(Ey(v)),u):e},u.filter=function(v){return arguments.length?(n=typeof v=="function"?v:Rf(!!v),u):n},u.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Rf(!!v),u):r},u.handleSize=function(v){return arguments.length?(o=+v,u):o},u.keyModifiers=function(v){return arguments.length?(a=!!v,u):a},u.on=function(){var v=i.on.apply(i,arguments);return v===i?u:v},u}var M3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),C3=function(t){M3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="grid-brush",n.renderType=at.SVG,n.selectionSelector="rect.selection",n.frontSelectionSelector="rect.frontSelection",n}return e.prototype.render=function(n){var r=this,a=this.parent,i=this.getComponentContainer(),o=F.appendOrSelect(a,"svg.chart-grid-backdrop"),s=F.appendOrSelect(o,"g."+this.type),u=F.appendOrSelect(s,this.selectionSelector),l=F.getSVGElementSize(o,{useAttrs:!0}),c=l.width,h=l.height,f=this.services.cartesianScales,p=f.getMainXScaleType(),d=f.getMainXScale(),m=d.range(),v=m[0];m[1],i.attr("transform","translate("+v+",0)");var _=F.appendOrSelect(i,this.frontSelectionSelector);if(d&&p===et.TIME){var g=this.model.get("zoomDomain");g===void 0&&(g=this.services.zoom.getDefaultZoomBarDomain(),g&&this.model.set({zoomDomain:g},{animate:!1}));var y=function(S){for(var C=S[1]-S[0],E="0,"+C.toString(),R=Math.floor(h/e.DASH_LENGTH),L=R*e.DASH_LENGTH,N=0;N<R;N++)E+=","+e.DASH_LENGTH;E+=","+(h-L),R%2==1&&(E+=",0"),E+=","+C.toString(),E+=","+h.toString(),_.attr("stroke-dasharray",E)},O=function(S){var C=S.selection;C===null||C[0]===C[1]||(_.attr("x",parseFloat(u.attr("x"))+parseFloat(o.attr("x"))).attr("y",u.attr("y")).attr("width",u.attr("width")).attr("height",u.attr("height")).style("cursor","pointer").style("display",null),y(C))},x=function(S,C){var E=wg().range([0,c]).domain(g),R=[E.invert(S),E.invert(C)];R[0].valueOf()===R[1].valueOf()&&(R=r.services.zoom.getDefaultZoomBarDomain()),(g[0].valueOf()!==R[0].valueOf()||g[1].valueOf()!==R[1].valueOf())&&r.services.zoom.handleDomainChange(R)},w=function(S){var C=S.selection;C!==null&&(x(C[0],C[1]),s.call(M.move,null),_.style("display","none"))},M=Ay().extent([[0,0],[c-1,h]]).on("start brush end",O).on("end.brushed",w);s.call(M);var T=this.services.zoom.getZoomRatio();o.on("click",function(S){if(S.shiftKey){var C=this.services.domUtils.getHolder(),E=qn(s.node(),C)[0],R=E-c*T/2;R<0&&(R=0);var L=E+c*T/2;L>c&&(L=c),x(R,L)}})}},e.DASH_LENGTH=4,e}(vt),A3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ge=function(t){A3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="grid",n.renderType=at.SVG,n}return e.prototype.render=function(n){n===void 0&&(n=!0);var r=b.getProperty(this.getOptions(),"grid","x","enabled"),a=b.getProperty(this.getOptions(),"grid","y","enabled");this.drawBackdrop(r,a),!(!r&&!a)&&(r&&(F.appendOrSelect(this.backdrop,"g.x.grid"),this.drawXGrid(n)),a&&(F.appendOrSelect(this.backdrop,"g.y.grid"),this.drawYGrid(n)))},e.prototype.drawXGrid=function(n){var r=this,a=this.parent,i=this.backdrop.attr("height"),o=this.services.cartesianScales.getMainXScale(),s=ly(o).tickSizeInner(-i).tickSizeOuter(0),u=b.getProperty(this.getOptions(),"grid","x","alignWithAxisTicks");if(u){var l=this.services.cartesianScales.getDomainAxisPosition(),c=b.getProperty(this.getOptions(),"axes",l,"ticks","values");c&&s.tickValues(c)}else{var h=b.getProperty(this.getOptions(),"grid","x","numberOfTicks");s.ticks(h)}var f=a.select(".x.grid").attr("transform","translate("+-this.backdrop.attr("x")+", "+i+")");n?f.transition().call(function(p){return r.services.transitions.setupTransition({transition:p,name:"grid-update",animate:n})}).call(s):f.call(s),this.cleanGrid(f)},e.prototype.drawYGrid=function(n){var r=this,a=this.parent,i=this.backdrop.attr("width"),o=this.services.cartesianScales.getMainYScale(),s=cy(o).tickSizeInner(-i).tickSizeOuter(0),u=b.getProperty(this.getOptions(),"grid","y","alignWithAxisTicks");if(u){var l=this.services.cartesianScales.getRangeAxisPosition(),c=b.getProperty(this.getOptions(),"axes",l,"ticks","values");c&&s.tickValues(c)}else{var h=b.getProperty(this.getOptions(),"grid","y","numberOfTicks");s.ticks(h)}var f=a.select(".y.grid").attr("transform","translate(0, "+-this.backdrop.attr("y")+")");n?f.transition().call(function(p){return r.services.transitions.setupTransition({transition:p,name:"grid-update",animate:n})}).call(s):f.call(s),this.cleanGrid(f)},e.prototype.getGridlineThreshold=function(n){var r=this.parent,a=r.selectAll(".x.grid .tick").nodes().sort(function(p,d){return Number(b.getTranslationValues(p).tx)-Number(b.getTranslationValues(d).tx)}),i=-1,o;if(!!a.length){a.forEach(function(p,d){n[0]>=+b.getTranslationValues(p).tx&&i++}),o=i+1<a.length?i+1:a.length;var s=a[i],u=a[o],l;if(!s)l=+b.getTranslationValues(u).tx;else if(u)l=+b.getTranslationValues(u).tx-+b.getTranslationValues(s).tx;else{var c=r.select("rect.chart-grid-backdrop").node(),h=F.getSVGElementSize(c).width;l=h-+b.getTranslationValues(s).tx}var f=this.getOptions().tooltip.gridline.threshold;return l*f}},e.prototype.getActiveGridline=function(n){var r=b.getProperty(this.getOptions,"tooltip","gridline","threshold"),a=r||this.getGridlineThreshold(n),i=this.parent,o=i.selectAll(".x.grid .tick").filter(function(){var s=b.getTranslationValues(this),u={min:Number(s.tx)-a,max:Number(s.tx)+a};return u.min<=n[0]&&n[0]<=u.max});return o},e.prototype.drawBackdrop=function(n,r){var a=this.parent,i=this.services.cartesianScales.getMainXScale(),o=this.services.cartesianScales.getMainYScale(),s=i.range(),u=s[0],l=s[1],c=o.range(),h=c[0],f=c[1];this.backdrop=F.appendOrSelect(a,"svg.chart-grid-backdrop");var p=F.appendOrSelect(this.backdrop,n||r?"rect.chart-grid-backdrop.stroked":"rect.chart-grid-backdrop");this.backdrop.merge(p).attr("x",u).attr("y",f).attr("width",Math.abs(l-u)).attr("height",Math.abs(h-f)).lower(),p.attr("width","100%").attr("height","100%")},e.prototype.cleanGrid=function(n){n.selectAll("text").remove(),n.select(".domain").remove()},e}(vt),P3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Py=5;function D3(t,e){return t>e-Py&&t<e+Py}var Mn=function(t){P3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="ruler",n.renderType=at.SVG,n.isXGridEnabled=b.getProperty(n.getOptions(),"grid","x","enabled"),n.isYGridEnabled=b.getProperty(n.getOptions(),"grid","y","enabled"),n.isEventListenerAdded=!1,n}return e.prototype.render=function(){var n=b.getProperty(this.getOptions(),"ruler","enabled");this.drawBackdrop(),n&&!this.isEventListenerAdded?this.addBackdropEventListeners():!n&&this.isEventListenerAdded&&this.removeBackdropEventListeners()},e.prototype.removeBackdropEventListeners=function(){this.isEventListenerAdded=!1,this.backdrop.on("mousemove mouseover mouseout",null)},e.prototype.formatTooltipData=function(n){return n},e.prototype.showRuler=function(n,r){var a=this,i=r[0],o=r[1],s=this.parent,u=this.services.cartesianScales.getOrientation(),l=this.model.getDisplayData(),c=this.services.cartesianScales.getRangeScale(),h=c.range(),f=h[0],p=h[1],d=u===Ft.HORIZONTAL?o:i,m=F.appendOrSelect(s,"g.ruler").attr("aria-label","ruler"),v=F.appendOrSelect(m,"line.ruler-line"),_=s.selectAll("[role=graphics-symbol]"),g=l.map(function(T){return{domainValue:a.services.cartesianScales.getDomainValue(T),originalData:T}}).filter(function(T){return D3(T.domainValue,d)});if(this.pointsWithinLine&&g.length===this.pointsWithinLine.length&&g.map(function(T){return T.domainValue}).join()===this.pointsWithinLine.map(function(T){return T.domainValue}).join())return this.pointsWithinLine=g,this.services.events.dispatchEvent(P.Tooltip.MOVE,{mousePosition:[i,o]});this.pointsWithinLine=g;var y=this.pointsWithinLine.reduce(function(T,S){if(T.length===0)return T.push(S),T;var C=T[0].domainValue,E=Math.abs(d-S.domainValue),R=Math.abs(d-C);return E>R||(E<R?T=[S]:T.push(S)),T},[]);if(y.length>0){var O=y.map(function(T){return T.originalData}).filter(function(T){var S=a.services.cartesianScales.getRangeIdentifier(T),C=T[S];return C!=null}),x=y.map(function(T){return T.domainValue}),w=_.filter(function(T){var S=a.services.cartesianScales.getDomainValue(T);return x.includes(S)});this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!b.isEqual(this.elementsToHighlight,w)&&this.hideRuler(),w.dispatch("mouseover"),this.elementsToHighlight=w,this.services.events.dispatchEvent(P.Tooltip.SHOW,{mousePosition:[i,o],hoveredElement:v,data:this.formatTooltipData(O)}),m.attr("opacity",1);var M=y[0];u==="horizontal"?v.attr("x1",p).attr("x2",f).attr("y1",M.domainValue).attr("y2",M.domainValue):v.attr("y1",p).attr("y2",f).attr("x1",M.domainValue).attr("x2",M.domainValue)}else this.hideRuler()},e.prototype.hideRuler=function(){var n=this.parent,r=F.appendOrSelect(n,"g.ruler"),a=n.selectAll("[role=graphics-symbol]");a.dispatch("mouseout"),this.services.events.dispatchEvent(P.Tooltip.HIDE),r.attr("opacity",0)},e.prototype.addBackdropEventListeners=function(){this.isEventListenerAdded=!0;var n=this,r=this.services.domUtils.getHolder(),a=this.model.getDisplayData(),i=function(s){var u=qn(s,n.parent.node());n.showRuler(s,u)};if(a.length>100){var o=a.length%50*12.5;i=b.debounceWithD3MousePosition(function(s){var u=this.mousePosition;n.showRuler(s,u)},o,r)}this.backdrop.on("mousemove mouseover",i).on("mouseout",this.hideRuler.bind(this))},e.prototype.drawBackdrop=function(){var n=this.parent;this.backdrop=F.appendOrSelect(n,"svg.chart-grid-backdrop")},e}(vt),L3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),k3=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},R3=function(t){L3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="ruler-binned",n.renderType=at.SVG,n}return e.prototype.showRuler=function(n,r){var a=this,i=r[0],o=r[1],s=this.parent,u=this.model.getOptions(),l=this.services.cartesianScales.getOrientation(),c=this.services.cartesianScales.getRangeScale(),h=c.range(),f=h[0],p=h[1],d=this.services.cartesianScales.getDomainScale(),m=d.invert(l===Ft.VERTICAL?i:o),v=F.appendOrSelect(s,"g.ruler").attr("aria-label","ruler"),_=F.appendOrSelect(v,"line.ruler-line"),g=s.selectAll("[role=graphics-symbol]"),y=g.filter(function(E){if(parseFloat(Ct(E,"data.x0"))<=m&&parseFloat(Ct(E,"data.x1"))>=m)return!0});if(y.size()>0){this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!b.isEqual(this.elementsToHighlight,y)&&this.hideRuler(),y.dispatch("mouseover"),this.elementsToHighlight=y;var O=U(y.nodes()[0]).datum(),x=parseFloat(Ct(O,"data.x0")),w=parseFloat(Ct(O,"data.x1")),M=this.model.getActiveDataGroupNames(),T=M.reverse().map(function(E){return{label:E,value:Ct(O,"data."+E),class:a.model.getColorClassName({classNameTypes:[rt.TOOLTIP],dataGroupName:E})}}).filter(function(E){return E.value!==0}),S=T.length>0;if(S){this.services.events.dispatchEvent(P.Tooltip.SHOW,{mousePosition:[i,o],hoveredElement:_,items:k3([{label:Ct(u,"bins.rangeLabel")||"Range",value:x+" \u2013 "+w}],T,b.getProperty(u,"tooltip","showTotal")===!0?[{label:Ct(u,"tooltip.totalLabel")||"Total",value:M.reduce(function(E,R){return E+parseFloat(Ct(O,"data."+R))},0)}]:[])}),v.attr("opacity",1);var C=d((x+w)/2);l==="horizontal"?_.attr("x1",p).attr("x2",f).attr("y1",C).attr("y2",C):_.attr("y1",p).attr("y2",f).attr("x1",C).attr("x2",C)}else this.hideRuler()}else this.hideRuler()},e}(Mn),I3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ks=function(t){I3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.formatTooltipData=function(n){return n.reverse()},e}(Mn),N3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dy=function(t){N3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="toolbar",n.renderType=at.HTML,n}return e.prototype.init=function(){var n=this,r=function(){return n.updateOverflowMenu(!1)};this.services.events.addEventListener(P.Toolbar.SHOW_OVERFLOW_MENU,function(){n.renderOverflowMenu(),document.body.addEventListener("click",r)}),this.services.events.addEventListener(P.Toolbar.HIDE_OVERFLOW_MENU,function(){document.body.removeEventListener("click",r)})},e.prototype.render=function(n){var r=this,a=this.getComponentContainer().attr("role","toolbar"),i=b.getProperty(this.getOptions(),"data","loading");if(i)a.html("");else{this.overflowMenu||(this.overflowMenu=a.append("div").attr("class","bx--overflow-menu-options bx--overflow-menu--flip").attr("tabindex",-1).attr("role","menu").html("<ul></ul>"));var o=this.getControlConfigs(),s=o.buttonList,u=o.overflowMenuItemList;u&&s.push(this.getOverflowButtonConfig());var l=a.selectAll("div.toolbar-control").data(s,function(f){return f.id});l.exit().remove();var c=l.enter().append("div").attr("class","toolbar-control bx--overflow-menu").attr("role","button"),h=this;c.merge(l).classed("disabled",function(f){return f.shouldBeDisabled?f.shouldBeDisabled():!1}).attr("aria-disabled",function(f){return f.shouldBeDisabled?f.shouldBeDisabled():!1}).attr("aria-label",function(f){return f.title}).html(function(f){return`
			<button
				class="bx--overflow-menu__trigger"
				aria-haspopup="true" aria-expanded="false" id="`+r.services.domUtils.generateElementIDString("control-"+f.id)+'" aria-label="'+f.title+`">
				<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform; width: `+(f.iconWidth!==void 0?f.iconWidth:"20px")+"; height: "+(f.iconWidth!==void 0?f.iconHeight:"20px")+`" xmlns="http://www.w3.org/2000/svg" class="bx--overflow-menu__icon" viewBox="0 0 32 32" aria-hidden="true">
					`+f.iconSVGContent+`
				</svg>
			</button>`}).each(function(f,p){U(this).select("button").on("click",f.shouldBeDisabled()?null:f.clickFunction).on("keydown",function(d){d.key&&d.key==="Enter"||d.key===" "?(d.preventDefault(),f.clickFunction()):d.key&&d.key==="ArrowLeft"?h.focusOnPreviousEnabledToolbarItem(p):d.key&&d.key==="ArrowRight"&&h.focusOnNextEnabledToolbarItem(p)})}),this.overflowButton=this.getComponentContainer().select("button.bx--overflow-menu__trigger#"+this.services.domUtils.generateElementIDString("control-toolbar-overflow-menu"))}},e.prototype.renderOverflowMenu=function(){var n=this,r=this.getControlConfigs().overflowMenuItemList,a=this.overflowMenu.select("ul").selectAll("li.bx--overflow-menu-options__option").data(r,function(o){return b.getProperty(o,"id")});a.exit().remove();var i=a.enter().append("li").attr("id",function(o){return n.services.domUtils.generateElementIDString("control-"+o.id)}).attr("class","bx--overflow-menu-options__option").attr("role","menuitem");i.append("button").attr("class","bx--overflow-menu-options__btn"),i.merge(a).classed("bx--overflow-menu-options__option--disabled",function(o){return o.shouldBeDisabled()}).attr("aria-disabled",function(o){return o.shouldBeDisabled()}).selectAll("button").text(function(o){return o.text})},e.prototype.isOverflowMenuOpen=function(){return this.overflowMenu.classed("is-open")},e.prototype.updateOverflowMenu=function(n){this.overflowMenu.classed("is-open",n),this.overflowButton&&(this.overflowButton.attr("aria-expanded",n),U(this.overflowButton.node().parentNode).classed("bx--overflow-menu--open",n)),n?this.services.events.dispatchEvent(P.Toolbar.SHOW_OVERFLOW_MENU):this.services.events.dispatchEvent(P.Toolbar.HIDE_OVERFLOW_MENU)},e.prototype.focusOnPreviousEnabledToolbarItem=function(n){for(var r=this.getToolbarButtonItems(),a=r.length,i=n-1;i>=0;i--){var o=r[i];if(!o.shouldBeDisabled()){a=i;break}}if(a<r.length){var s=U("button#"+this.services.domUtils.generateElementIDString("control-"+r[a].id)).node();"focus"in s&&s.focus()}},e.prototype.focusOnNextEnabledToolbarItem=function(n){for(var r=this.getToolbarButtonItems(),a=-1,i=n+1;i<r.length;i++){var o=r[i];if(!o.shouldBeDisabled()){a=i;break}}if(a>-1){var s=U("button#"+this.services.domUtils.generateElementIDString("control-"+r[a].id)).node();"focus"in s&&s.focus()}},e.prototype.focusOnPreviousEnabledMenuItem=function(n){for(var r=this.getOverflowMenuItems(),a=r.length,i=n-1;i>=0;i--){var o=r[i];if(!o.shouldBeDisabled()){a=i;break}}if(a<r.length){var s=U("#"+this.services.domUtils.generateElementIDString("control-"+r[a].id)+" button").node();"focus"in s&&s.focus()}},e.prototype.focusOnNextEnabledMenuItem=function(n){for(var r=this.getOverflowMenuItems(),a=-1,i=n+1;i<r.length;i++){var o=r[i];if(!o.shouldBeDisabled()){a=i;break}}if(a>-1){var s=U("#"+this.services.domUtils.generateElementIDString("control-"+r[a].id)+" button").node();"focus"in s&&s.focus()}},e.prototype.toggleOverflowMenu=function(n){var r=this;if(this.isOverflowMenuOpen())this.updateOverflowMenu(!1);else{this.updateOverflowMenu(!0);var a=this,i=this.getOverflowMenuItems();i.forEach(function(o,s){var u=U("#"+r.services.domUtils.generateElementIDString("control-"+o.id));u!==null&&(u.on("click",function(){o.clickFunction(),a.updateOverflowMenu(!1)}),u.on("keydown",function(l){l&&l.key==="Enter"?o.clickFunction():l&&l.key==="ArrowUp"?a.focusOnPreviousEnabledMenuItem(s):l&&l.key==="ArrowDown"?a.focusOnNextEnabledMenuItem(s):l&&l.key==="Escape"&&a.updateOverflowMenu(!1),l.preventDefault()}))}),a.focusOnNextEnabledMenuItem(-1)}n&&n.stopImmediatePropagation()},e.prototype.getControlConfigs=function(){var n=this,r=b.getProperty(this.getOptions(),"toolbar","numberOfIcons"),a=b.getProperty(this.getOptions(),"toolbar","controls"),i=[],o=[];return a.forEach(function(s){var u=n.getControlConfigByType(s.type);u&&(u.text=s.text?s.text:s.type,u.id.indexOf("toolbar-export")!==-1?o.push(u):i.push(u))}),i.length<=r&&o.length===0?{buttonList:i}:{buttonList:i.splice(0,r-1),overflowMenuItemList:i.concat(o)}},e.prototype.getToolbarButtonItems=function(){var n=this.getControlConfigs(),r=n.buttonList,a=n.overflowMenuItemList;return a&&r.push(this.getOverflowButtonConfig()),r||[]},e.prototype.getOverflowMenuItems=function(){var n=this.getControlConfigs().overflowMenuItemList;return n||[]},e.prototype.getOverflowButtonConfig=function(){var n=this;return{id:"toolbar-overflow-menu",title:"More options",shouldBeDisabled:function(){return!1},iconSVGContent:`<circle cx="16" cy="8" r="2"></circle>
							 <circle cx="16" cy="16" r="2"></circle>
							 <circle cx="16" cy="24" r="2"></circle>`,clickFunction:function(r){return n.toggleOverflowMenu(r)}}},e.prototype.getControlConfigByType=function(n){var r=this,a=this.services.zoom&&this.services.zoom.isZoomBarEnabled()&&!this.services.zoom.isEmptyState(),i=this.model.getDisplayData(),o;switch(n){case Dt.ZOOM_IN:a&&(o={id:"toolbar-zoomIn",title:"Zoom in",shouldBeDisabled:function(){return r.services.zoom.isMinZoomDomain()},iconSVGContent:this.getControlIconByType(n),clickFunction:function(){return r.services.zoom.zoomIn()}});break;case Dt.ZOOM_OUT:a&&(o={id:"toolbar-zoomOut",title:"Zoom out",shouldBeDisabled:function(){return r.services.zoom.isMaxZoomDomain()},iconSVGContent:this.getControlIconByType(n),clickFunction:function(){return r.services.zoom.zoomOut()}});break;case Dt.RESET_ZOOM:a&&(o={id:"toolbar-resetZoom",title:"Reset zoom",shouldBeDisabled:function(){return r.services.zoom.isMaxZoomDomain()},iconSVGContent:this.getControlIconByType(n),clickFunction:function(){return r.services.zoom.resetZoomDomain()}});break;case Dt.MAKE_FULLSCREEN:o={id:"toolbar-makefullscreen",title:"Make fullscreen",iconSVGContent:this.getControlIconByType(n),iconWidth:"15px",iconHight:"15px",shouldBeDisabled:function(){return!1},clickFunction:function(){r.services.domUtils.toggleFullscreen()}};break;case Dt.SHOW_AS_DATATABLE:o={id:"toolbar-showasdatatable",title:"Show as table",iconSVGContent:this.getControlIconByType(n),shouldBeDisabled:function(){return i.length===0},clickFunction:function(){return r.services.events.dispatchEvent(P.Modal.SHOW)}};break;case Dt.EXPORT_CSV:o={id:"toolbar-export-CSV",title:"Export as CSV",shouldBeDisabled:function(){return!1},iconSVGContent:this.getControlIconByType(n),clickFunction:function(){return r.model.exportToCSV()}};break;case Dt.EXPORT_PNG:o={id:"toolbar-export-PNG",title:"Export as PNG",shouldBeDisabled:function(){return!1},iconSVGContent:this.getControlIconByType(n),clickFunction:function(){return r.services.domUtils.exportToPNG()}};break;case Dt.EXPORT_JPG:o={id:"toolbar-export-JPG",title:"Export as JPG",shouldBeDisabled:function(){return!1},iconSVGContent:this.getControlIconByType(n),clickFunction:function(){return r.services.domUtils.exportToJPG()}};break;default:throw Error("Not supported toolbar control type: "+n)}return o},e.prototype.getControlIconByType=function(n){switch(n){case Dt.ZOOM_IN:return`<polygon points="19 13 15 13 15 9 13 9 13 13 9 13 9 15 13 15 13 19 15 19 15 15 19 15 19 13"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case Dt.ZOOM_OUT:return`<rect x="9" y="13" width="10" height="2"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case Dt.RESET_ZOOM:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Dt.MAKE_FULLSCREEN:return'<polygon points="21 2 21 4 26.59 4 17 13.58 18.41 15 28 5.41 28 11 30 11 30 2 21 2"/><polygon points="15 18.42 13.59 17 4 26.59 4 21 2 21 2 30 11 30 11 28 5.41 28 15 18.42"/>';case Dt.SHOW_AS_DATATABLE:return'<rect x="4" y="6" width="18" height="2"/><rect x="4" y="12" width="18" height="2"/><rect x="4" y="18" width="18" height="2"/><rect x="4" y="24" width="18" height="2"/><rect x="26" y="6" width="2" height="2"/><rect x="26" y="12" width="2" height="2"/><rect x="26" y="18" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/>';case Dt.EXPORT_CSV:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Dt.EXPORT_JPG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case Dt.EXPORT_PNG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';default:throw Error("Not supported toolbar control type: "+n)}},e}(vt),B3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xr=function(t){B3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="zero-line",n.renderType=at.SVG,n}return e.prototype.render=function(n){var r=this,a=this.services.cartesianScales.getRangeAxisPosition({groups:this.configs.groups}),i=this.services.cartesianScales.getScaleByPosition(a),o=i.domain(),s=o[0],u=o[1],l=s>0&&u<0||s<0&&u>0,c=this.getComponentContainer();if(!l){c.selectAll("line.domain").remove();return}var h=this.services.cartesianScales.getDomainScale().range(),f=h[0],p=h[1],d=+i(0)+.5;d||(d=i.range()[0]);var m=b.flipSVGCoordinatesBasedOnOrientation({x0:f,x1:p,y0:d,y1:d},this.services.cartesianScales.getOrientation()),v=F.appendOrSelect(c,"line.domain");v.transition().call(function(_){return r.services.transitions.setupTransition({transition:_,name:"zero-line-update",animate:n})}).attr("y1",m.y0).attr("y2",m.y1).attr("x1",m.x0).attr("x2",m.x1)},e}(vt),U3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),F3=function(t){U3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="zoom-bar",n.renderType=at.SVG,n.MIN_SELECTION_DIFF=9e-10,n.brushSelector="g.zoom-bar-brush",n.clipId="zoomBarClip-"+Math.floor(Math.random()*99999999999),n.brush=Ay(),n.highlightStrokeWidth=1,n}return e.prototype.init=function(){this.services.events.addEventListener(P.ZoomBar.UPDATE,this.render.bind(this));var n=b.getProperty(this.getOptions(),"zoomBar",W.TOP,"data");this.model.setZoomBarData(n)},e.prototype.render=function(n){var r=this,a=this.getComponentContainer(),i=this.services.zoom.isZoomBarLoading(W.TOP),o=this.services.zoom.isZoomBarLocked(W.TOP),s=b.getProperty(this.getOptions(),"zoomBar",W.TOP,"type"),u=b.getProperty(this.getOptions(),"axes",W.BOTTOM,"highlights"),l=se.height[s],c=F.getSVGElementSize(this.parent,{useAttrs:!0}).width;if(c!==0){var h=0,f=this.model.get("axesMargins");f&&f.left&&(h=f.left);var p=F.appendOrSelect(a,"svg.zoom-container").attr("width","100%").attr("height",l).attr("opacity",1);if(F.appendOrSelect(a,"rect.zoom-spacer").attr("x",0).attr("y",l).attr("width","100%").attr("height",se.spacerHeight).attr("opacity",1).attr("fill","none"),s===Se.GRAPH_VIEW?F.appendOrSelect(p,"rect.zoom-bg").attr("x",h).attr("y",0).attr("width",c-h).attr("height","100%").classed("zoom-bg-skeleton",i).style("stroke",i?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null):s===Se.SLIDER_VIEW&&F.appendOrSelect(p,"rect.zoom-slider-bg").attr("x",h).attr("y",l/2-1).attr("width",c-h).attr("height",2).classed("zoom-slider-bg-skeleton",i).style("stroke",i?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null),i){this.renderSkeleton(p,h,c);return}var d=this.services.cartesianScales,m=d.getMainXScale(),v=d.getMainYScale(),_=d.getMainXScaleType();if(m&&_===et.TIME){var g=this.services.zoom.getZoomBarData();if(b.isEmpty(g)||g.length===1)return;this.xScale=m.copy(),this.yScale=v.copy();var y=this.services.zoom.getDefaultZoomBarDomain(g);g=this.compensateDataForDefaultDomain(g,y);var O=this.model.get("initialZoomDomain"),x=b.getProperty(this.getOptions(),"zoomBar",W.TOP,"initialZoomDomain");x&&x[0]&&x[1]&&(x[0]=new Date(x[0]),x[1]=new Date(x[1])),x&&!(O&&O[0].valueOf()===x[0].valueOf()&&O[1].valueOf()===x[1].valueOf())?this.model.set({initialZoomDomain:b.merge([],x),zoomDomain:x?b.merge([],x):y},{skipUpdate:!0}):x===null&&O!=null&&this.model.set({initialZoomDomain:null,zoomDomain:b.merge([],y)},{skipUpdate:!0}),this.xScale.range([h,c]).domain(y),this.maxSelectionRange=this.xScale.range(),this.yScale.range([0,l-6]).domain(en(g,function(L){return L.value}));var w=this.model.get("zoomDomain");if(s===Se.GRAPH_VIEW&&(this.renderZoomBarArea(p,"path.zoom-graph-area-unselected",g,null),this.updateClipPath(a,this.clipId,0,0,0,0),this.renderZoomBarArea(p,"path.zoom-graph-area",g,this.clipId),this.renderZoomBarBaseline(p,h,c),u)){var M=u.highlightStartMapsTo,T=u.highlightEndMapsTo,S=u.color,C=u.labelMapsTo;u.data.forEach(function(L,N){F.appendOrSelect(p,"rect.highlight-"+N).attr("height",l-2*r.highlightStrokeWidth).attr("y",r.highlightStrokeWidth).attr("x",r.xScale(L[M])).attr("width",r.xScale(L[T])-r.xScale(L[M])).style("fill",S&&S.scale[L[C]]?S.scale[L[C]]:null).style("fill-opacity",.1).style("stroke",S&&S.scale[L[C]]?S.scale[L[C]]:null).style("stroke-dasharray","2, 2").attr("stroke-width",1+"px")})}this.addBrushEventListener(w,h,c);var E=F.appendOrSelect(a,this.brushSelector).call(this.brush);if(w!==void 0)if(w[0].valueOf()===w[1].valueOf())E.call(this.brush.move,this.xScale.range()),this.updateBrushHandle(this.getComponentContainer(),this.xScale.range(),this.xScale.domain());else{var R=w.map(function(L){return r.xScale(L)});R[1]-R[0]<this.MIN_SELECTION_DIFF||(E.call(this.brush.move,R),this.updateBrushHandle(this.getComponentContainer(),R,w))}o&&(this.brush.filter(function(){return!1}),E.selectAll("rect").attr("cursor","auto"))}}},e.prototype.addBrushEventListener=function(n,r,a){var i=this,o=function(l){var c=l.selection;c===null?i.handleBrushedEvent(l,n,i.xScale,i.xScale.range()):c[0]===c[1]||i.handleBrushedEvent(l,n,i.xScale,c)},s=b.getProperty(this.getOptions(),"zoomBar",W.TOP,"type"),u=se.height[s];this.brush.extent([[r,0],[a,u]]).on("start brush end",null).on("start brush end",o)},e.prototype.handleBrushedEvent=function(n,r,a,i){var o=[a.invert(i[0]),a.invert(i[1])];if(this.updateBrushHandle(this.getComponentContainer(),i,o),n.sourceEvent!=null&&(n.sourceEvent.type==="mousemove"||n.sourceEvent.type==="mouseup"||n.sourceEvent.type==="mousedown"||n.sourceEvent.type==="touchstart"||n.sourceEvent.type==="touchmove"||n.sourceEvent.type==="touchend")){(r===void 0||r[0]!==o[0]||r[1]!==o[1])&&this.services.zoom.handleDomainChange(o,{dispatchEvent:!1});var s=void 0;n.type==="start"?s=P.ZoomBar.SELECTION_START:n.type==="brush"?s=P.ZoomBar.SELECTION_IN_PROGRESS:n.type==="end"&&(s=P.ZoomBar.SELECTION_END,this.services.events.dispatchEvent(P.ZoomDomain.CHANGE,{newDomain:o})),this.services.events.dispatchEvent(s,{selection:i,newDomain:o})}},e.prototype.updateBrushHandle=function(n,r,a){var i=this,o=se.handleWidth,s=b.getProperty(this.getOptions(),"zoomBar",W.TOP,"type"),u=se.height[s],l=-o/2,c=se.handleBarWidth,h=s===Se.GRAPH_VIEW?se.handleBarHeight:6,f=-c/2,p=(u-h)/2;n.select(this.brushSelector).selectAll("rect.handle").data([{type:"w"},{type:"e"}]).attr("x",function(m){if(m.type==="w")return Math.max(r[0]+l,i.maxSelectionRange[0]);if(m.type==="e")return Math.min(r[1]+l,i.maxSelectionRange[1]-o)}).attr("y",0).attr("width",o).attr("height",u).attr("cursor","ew-resize").style("display",null);var d=n.select(this.brushSelector).selectAll("rect.handle-bar").data([{type:"w"},{type:"e"}]);d.enter().append("rect").attr("class",function(m){return"handle-bar handle-bar--"+m.type}),d.attr("x",function(m){if(m.type==="w")return Math.max(r[0]+f,i.maxSelectionRange[0]-l+f);if(m.type==="e")return Math.min(r[1]+f,i.maxSelectionRange[1]+l+f)}).attr("y",p).attr("width",c).attr("height",h).attr("cursor","ew-resize"),s===Se.SLIDER_VIEW&&this.updateSliderSelectedArea(r),this.updateClipPath(n,this.clipId,r[0],0,r[1]-r[0],u)},e.prototype.updateSliderSelectedArea=function(n){var r=b.getProperty(this.getOptions(),"zoomBar",W.TOP,"type"),a=se.height[r];F.getSVGElementSize(this.parent,{useAttrs:!0}).width;var i=this.model.get("axesMargins");i&&i.left;var o=this.getComponentContainer(),s=o.select("svg.zoom-container");F.appendOrSelect(s,"rect.zoom-slider-selected-area").attr("x",n[0]).attr("y",a/2-1).attr("width",n[1]-n[0]).attr("height",2)},e.prototype.renderZoomBarArea=function(n,r,a,i){var o=this.services.cartesianScales,s=o.getMainXAxisPosition(),u=o.getMainYAxisPosition(),l=o.getMainXScaleType(),c=o.getMainYScaleType(),h=function(g,y,O){return function(x,w){return o.getValueFromScale(g,y,O,x,w)}},f=h(this.xScale,l,s),p=h(this.yScale,c,u),d=b.getProperty(this.getOptions(),"zoomBar",W.TOP,"type"),m=se.height[d],v=Ic().x(function(g,y){return f(g,y)}).y0(m).y1(function(g,y){return m-p(g,y)}),_=F.appendOrSelect(n,r).datum(a).attr("d",v);i&&_.attr("clip-path","url(#"+i+")")},e.prototype.updateClipPath=function(n,r,a,i,o,s){var u=F.appendOrSelect(n,"clipPath").attr("id",r);F.appendOrSelect(u,"rect").attr("x",a).attr("y",i).attr("width",o).attr("height",s)},e.prototype.compensateDataForDefaultDomain=function(n,r){if(!(!n||n.length<2)){var a=b.clone(n),i=this.services.cartesianScales.getDomainIdentifier(),o=this.services.cartesianScales.getRangeIdentifier();if(Number(r[0])<Number(a[0][i])){var s={};s[i]=r[0],s[o]=0,a.unshift(s)}if(Number(r[1])>Number(a[a.length-1][i])){var s={};s[i]=r[1],s[o]=0,a.push(s)}return a}},e.prototype.renderZoomBarBaseline=function(n,r,a,i){i===void 0&&(i=!1);var o=b.getProperty(this.model.getOptions(),"zoomBar",W.TOP,"type"),s=se.height[o],u=Bo()([[r,s],[a,s]]);F.appendOrSelect(n,"path.zoom-bg-baseline").attr("d",u).classed("zoom-bg-baseline-skeleton",i).style("stroke",i?"url(#"+this.services.domUtils.generateElementIDString("shimmer-lines")+")":null)},e.prototype.renderSkeleton=function(n,r,a){this.renderZoomBarArea(n,"path.zoom-graph-area-unselected",[],null),this.renderZoomBarArea(n,"path.zoom-graph-area",[],this.clipId),this.brush.on("start brush end",null),F.appendOrSelect(this.getComponentContainer(),this.brushSelector).html(null);var i=b.getProperty(this.getOptions(),"zoomBar",W.TOP,"type");i===Se.GRAPH_VIEW&&this.renderZoomBarBaseline(n,r,a,!0)},e.prototype.destroy=function(){this.brush.on("start brush end",null),this.services.events.removeEventListener(P.ZoomBar.UPDATE,this.render.bind(this))},e}(vt),Ly=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},Ge=function(){function t(e,n){this.services={domUtils:F,files:LL,events:PL,gradientUtils:Wc,transitions:RL,canvasZoom:yR},this.model=new on(this.services)}return t.prototype.init=function(e,n){var r=this;this.model.set({holder:e},{skipUpdate:!0}),Object.keys(this.services).forEach(function(a){var i=r.services[a];r.services[a]=new i(r.model,r.services)}),this.services.events.addEventListener(P.Model.UPDATE,function(a){var i=!!b.getProperty(a,"detail","animate");r.update(i)}),this.model.setData(n.data),this.services.events.addEventListener(P.Chart.RESIZE,function(){r.update(!1)}),this.components=this.getComponents(),this.update()},t.prototype.getComponents=function(){return console.error("getComponents() method is not implemented"),null},t.prototype.update=function(e){var n=this;if(e===void 0&&(e=!0),!!this.components){Object.keys(this.services).forEach(function(i){var o=n.services[i];o.update()}),this.components.forEach(function(i){return i.render(e)});var r=this.services.transitions.getPendingTransitions(),a=Object.keys(r).map(function(i){var o=r[i];return o.end().catch(function(s){return s})});Promise.all(a).then(function(){return n.services.events.dispatchEvent(P.Chart.RENDER_FINISHED)})}},t.prototype.destroy=function(){this.components.forEach(function(e){return e.destroy()}),this.services.domUtils.getHolder().remove(),this.model.set({destroyed:!0},{skipUpdate:!0})},t.prototype.getChartComponents=function(e,n){var r=this.model.getOptions(),a=b.getProperty(r,"toolbar","enabled"),i={id:"legend",components:[new vm(this.model,this.services)],growth:yt.PREFERRED},o=b.getProperty(r,"canvasZoom","enabled");o&&o===!0&&e.push(new HI(this.model,this.services));var s=!!this.model.getOptions().title,u={id:"title",components:[new ff(this.model,this.services)],growth:yt.STRETCH},l={id:"toolbar",components:[new Dy(this.model,this.services)],growth:yt.PREFERRED},c={id:"header",components:[new sr(this.model,this.services,Ly([u],a?[l]:[]),{direction:Rt.ROW,alignItems:Ta.CENTER})],growth:yt.PREFERRED},h={id:"graph-frame",components:e,growth:yt.STRETCH,renderType:b.getProperty(n,"graphFrameRenderType")||at.SVG},f=b.getProperty(n,"excludeLegend")!==!0&&r.legend.enabled!==!1,p=Rt.COLUMN;if(f){var d=b.getProperty(r,"legend","position");d==="left"?(p=Rt.ROW,r.legend.orientation||(r.legend.orientation=wr.VERTICAL)):d==="right"?(p=Rt.ROW_REVERSE,r.legend.orientation||(r.legend.orientation=wr.VERTICAL)):d==="bottom"&&(p=Rt.COLUMN_REVERSE)}var m={id:"spacer",components:[new di(this.model,this.services)],growth:yt.PREFERRED},v={id:"full-frame",components:[new sr(this.model,this.services,Ly(f?[i]:[],f?[m]:[],[h]),{direction:p})],growth:yt.STRETCH},_=[];if(s||a){_.push(c);var g={id:"spacer",components:[new di(this.model,this.services,a?{size:15}:void 0)],growth:yt.PREFERRED};_.push(g)}return _.push(v),[new Cm(this.model,this.services),new Sm(this.model,this.services),new sr(this.model,this.services,_,{direction:Rt.COLUMN})]},t}(),V3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ff=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},Zr=function(t){V3(e,t);function e(n){return t.call(this,n)||this}return e.prototype.assignRangeAndDomains=function(){var n=this.services.cartesianScales,r=this.getOptions(),a=n.isDualAxes(),i={primaryDomain:n.domainAxisPosition,primaryRange:n.rangeAxisPosition,secondaryDomain:null,secondaryRange:null};return a&&(i.secondaryDomain=n.secondaryDomainAxisPosition,i.secondaryRange=n.secondaryRangeAxisPosition),Object.keys(i).forEach(function(o){var s=i[o];n.scales[s]?i[o]={position:s,label:n.getScaleLabel(s),identifier:b.getProperty(r,"axes",s,"mapsTo")}:i[o]=null}),i},e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=this.getOptions(),a=r.data.groupMapsTo,i=this.services.cartesianScales,o=this.assignRangeAndDomains(),s=o.primaryDomain,u=o.primaryRange,l=o.secondaryDomain,c=o.secondaryRange,h=i.getDomainAxisScaleType(),f;h===et.TIME&&(f=function(d){return oi(d,"MMM d, yyyy")});var p=Ff([Ff(["Group",s.label,u.label],l?[l.label]:[],c?[c.label]:[])],n.map(function(d){return Ff([d[a],d[s.identifier]===null?"&ndash;":f?f(d[s.identifier]):d[s.identifier],d[u.identifier]===null||isNaN(d[u.identifier])?"&ndash;":d[u.identifier].toLocaleString()],l?[d[l.identifier]===null?"&ndash;":d[l.identifier]]:[],c?[d[c.identifier]===null||isNaN(d[c.identifier])?"&ndash;":d[c.identifier]]:[])}));return p},e.prototype.setData=function(n){var r;if(n&&(r=t.prototype.setData.call(this,n),b.getProperty(this.getOptions(),"zoomBar",W.TOP,"enabled"))){var a=b.getProperty(this.getOptions(),"zoomBar",W.TOP,"data");this.setZoomBarData(a)}return r},e.prototype.setZoomBarData=function(n){var r=n?this.sanitize(b.clone(n)):this.getDisplayData(),a=r,i=this.services.cartesianScales;if(r&&i.domainAxisPosition&&i.rangeAxisPosition){var o=i.getDomainIdentifier(),s=i.getRangeIdentifier(),u=r.map(function(l){return l[o].getTime()});u=b.removeArrayDuplicates(u).sort(),a=u.map(function(l){var c=0,h={};return r.forEach(function(f){f[o].getTime()===l&&(c+=f[s])}),h[o]=new Date(l),h[s]=c,h})}this.set({zoomBarData:a})},e.prototype.getZoomBarData=function(){return this.get("zoomBarData")},e.prototype.sanitizeDateValues=function(n){var r=this.getOptions();if(!r.axes)return n;var a=[];return Object.keys(W).forEach(function(i){var o=W[i],s=r.axes[o];if(s&&s.scaleType===et.TIME){var u=s.mapsTo;(u!==null||u!==void 0)&&a.push(u)}}),a.length>0&&n.forEach(function(i){a.forEach(function(o){b.getProperty(i,o,"getTime")===null&&(i[o]=new Date(i[o]))})}),n},e.prototype.sanitize=function(n){return n=t.prototype.sanitize.call(this,n),n=this.sanitizeDateValues(n),n},e}(on),$3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ky=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},me=function(t){$3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.services=Object.assign(a.services,{cartesianScales:cR,curves:pR,zoom:gR}),a.model=new Zr(a.services),a}return e.prototype.getAxisChartComponents=function(n,r){var a=this.model.getOptions(),i=b.getProperty(a,"zoomBar",W.TOP,"enabled"),o=b.getProperty(a,"toolbar","enabled");this.services.cartesianScales.determineAxisDuality(),this.services.cartesianScales.findDomainAndRangeAxes(),this.services.cartesianScales.determineOrientation();var s=this.services.cartesianScales.getMainXAxisPosition(),u=b.getProperty(a,"axes",s,"scaleType"),l=i&&s===W.BOTTOM&&u===et.TIME,c=this.services.zoom.isZoomBarLocked(W.TOP),h=!!this.model.getOptions().title,f={id:"title",components:[new ff(this.model,this.services)],growth:yt.STRETCH},p={id:"toolbar",components:[new Dy(this.model,this.services)],growth:yt.PREFERRED},d={id:"header",components:[new sr(this.model,this.services,ky([f],o?[p]:[]),{direction:Rt.ROW,alignItems:Ta.CENTER})],growth:yt.PREFERRED},m={id:"legend",components:[new vm(this.model,this.services)],growth:yt.PREFERRED};l&&!c&&n.push(new Am(this.model,this.services),new C3(this.model,this.services)),n.push(new kI(this.model,this.services)),n.push(new WI(this.model,this.services));var v={id:"graph-frame",components:n,growth:yt.STRETCH,renderType:at.SVG},_=b.getProperty(r,"legend","enabled")!==!1&&this.model.getOptions().legend.enabled!==!1,g=Rt.COLUMN;if(_){var y=b.getProperty(this.model.getOptions(),"legend","position");y===xr.LEFT?(g=Rt.ROW,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=wr.VERTICAL)):y===xr.RIGHT?(g=Rt.ROW_REVERSE,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=wr.VERTICAL)):y===xr.BOTTOM&&(g=Rt.COLUMN_REVERSE)}var O={id:"spacer",components:[new di(this.model,this.services)],growth:yt.PREFERRED},x={id:"full-frame",components:[new sr(this.model,this.services,ky(_?[m]:[],_?[O]:[],[v]),{direction:g})],growth:yt.STRETCH},w={id:"zoom-bar",components:[new F3(this.model,this.services)],growth:yt.PREFERRED,renderType:at.SVG},M=[];if(h||o){M.push(d);var T={id:"spacer",components:[new di(this.model,this.services,o?{size:15}:void 0)],growth:yt.PREFERRED};M.push(T)}return l&&M.push(w),M.push(x),[new VI(this.model,this.services),new Sm(this.model,this.services),new sr(this.model,this.services,M,{direction:Rt.COLUMN})]},e}(Ge),G3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){G3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(b.mergeDefaultChartOptions(b.clone(St.areaChart),r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ve(this.model,this.services),new ge(this.model,this.services),new Mn(this.model,this.services),new zr(this.model,this.services),new Pm(this.model,this.services),new Ve(this.model,this.services,{fadeInOnChartHolderMouseover:!0,handleThresholds:!0}),new oe(this.model,this.services,{skeleton:Bt.GRID})],r=this.getAxisChartComponents(n);return r},e})(me);var H3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){H3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(b.mergeDefaultChartOptions(St.stackedAreaChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ve(this.model,this.services),new ge(this.model,this.services),new ks(this.model,this.services),new Dm(this.model,this.services),new zr(this.model,this.services,{stacked:!0}),new Im(this.model,this.services,{fadeInOnChartHolderMouseover:!0,handleThresholds:!0,stacked:!0}),new oe(this.model,this.services,{skeleton:Bt.GRID})],r=this.getAxisChartComponents(n);return r},e})(me);var z3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){z3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(b.mergeDefaultChartOptions(St.simpleBarChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ve(this.model,this.services),new ge(this.model,this.services),new Lm(this.model,this.services),new Xr(this.model,this.services),new oe(this.model,this.services,{skeleton:Bt.VERT_OR_HORIZ})],r=this.getAxisChartComponents(n);return r},e})(me);var W3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){W3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(b.mergeDefaultChartOptions(St.groupedBarChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ve(this.model,this.services),new ge(this.model,this.services),new km(this.model,this.services),new Xr(this.model,this.services),new oe(this.model,this.services,{skeleton:Bt.VERT_OR_HORIZ})],r=this.getAxisChartComponents(n);return r},e})(me);var j3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){j3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(b.mergeDefaultChartOptions(St.stackedBarChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ve(this.model,this.services),new ge(this.model,this.services),new ks(this.model,this.services),new Rm(this.model,this.services),new oe(this.model,this.services,{skeleton:Bt.VERT_OR_HORIZ}),new Xr(this.model,this.services)],r=this.getAxisChartComponents(n);return r},e})(me);var Y3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),q3=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},K3=function(t){Y3(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getBoxQuartiles=function(n){return{q_25:rc(n,.25),q_50:rc(n,.5),q_75:rc(n,.75)}},e.prototype.getBoxplotData=function(){for(var n=this.getOptions(),r=n.data.groupMapsTo,a=this.getGroupedData(),i=[],o=function(p,d){for(var m,v=s.services.cartesianScales.getRangeIdentifier(),_=d.map(function(A){return A[v]}).sort(Lr),g=(m={},m[r]=p,m.counts=_,m.quartiles=s.getBoxQuartiles(_),m.outliers=null,m.whiskers=null,m),y=g.quartiles.q_25,O=g.quartiles.q_75,x=(O-y)*1.5,w=y-x,M=O+x,T=[],S=[],C=0,E=_;C<E.length;C++){var R=E[C];R<w||R>M?T.push(R):S.push(R)}g.outliers=T;var L=kr(S),N=Xn(S);g.whiskers={min:L||kr([g.quartiles.q_25,g.quartiles.q_50,g.quartiles.q_75]),max:N||Xn([g.quartiles.q_25,g.quartiles.q_50,g.quartiles.q_75])},i.push(g)},s=this,u=0,l=a;u<l.length;u++){var c=l[u],h=c.name,f=c.data;o(h,f)}return i},e.prototype.getTabularDataArray=function(){var n=this.getOptions(),r=n.data.groupMapsTo,a=this.getBoxplotData(),i=q3([["Group","Minimum","Q1","Median","Q3","Maximum","IQR","Outlier(s)"]],a.map(function(o){var s=b.getProperty(o,"outliers");return(s===null||s.length===0)&&(s=["&ndash;"]),[o[r],b.getProperty(o,"whiskers","min")!==null?b.getProperty(o,"whiskers","min").toLocaleString():"&ndash;",b.getProperty(o,"quartiles","q_25")!==null?b.getProperty(o,"quartiles","q_25").toLocaleString():"&ndash;",b.getProperty(o,"quartiles","q_50")!==null?b.getProperty(o,"quartiles","q_50").toLocaleString():"&ndash;",b.getProperty(o,"quartiles","q_75")!==null?b.getProperty(o,"quartiles","q_75").toLocaleString():"&ndash;",b.getProperty(o,"whiskers","max")!==null?b.getProperty(o,"whiskers","max").toLocaleString():"&ndash;",b.getProperty(o,"quartiles","q_75")!==null&&b.getProperty(o,"quartiles","q_25")!==null?(b.getProperty(o,"quartiles","q_75")-b.getProperty(o,"quartiles","q_25")).toLocaleString():"&ndash;",s.map(function(u){return u.toLocaleString()}).join(",")]}));return i},e.prototype.setColorClassNames=function(){var n=1,r=b.getProperty(this.getOptions(),"color","pairing"),a=b.getProperty(r,"option"),i=ul.pairingOptions;a=a<=i[n+"-color"]?a:1;var o=this.allDataGroups.map(function(s,u){return n+"-"+a+"-1"});this.colorClassNames=Oo().range(o).domain(this.allDataGroups)},e}(Zr),X3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){X3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new K3(a.services),a.model.setOptions(b.mergeDefaultChartOptions(St.boxplotChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ve(this.model,this.services),new ge(this.model,this.services),new JI(this.model,this.services),new Xr(this.model,this.services),new oe(this.model,this.services,{skeleton:Bt.VERT_OR_HORIZ})],r=this.getAxisChartComponents(n,{legend:{enabled:!1}});return r},e})(me);var Z3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){Z3(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(b.mergeDefaultChartOptions(St.bubbleChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ve(this.model,this.services),new ge(this.model,this.services),new Mn(this.model,this.services),new nN(this.model,this.services),new oe(this.model,this.services,{skeleton:Bt.GRID})],r=this.getAxisChartComponents(n);return r},e})(me);var Q3=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),J3=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},tG=function(t){Q3(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getMatchingRangeIndexForDatapoint=function(n){for(var r,a=n.ranges.length-1;a>0;a--){var i=n.ranges[a];if(n.value>=i)return r=a,r}return 0},e.prototype.getTabularDataArray=function(){var n=this,r=this.getDisplayData(),a=this.getOptions(),i=a.data.groupMapsTo,o=this.services.cartesianScales.getRangeIdentifier(),s=b.getProperty(a,"bullet","performanceAreaTitles"),u=J3([["Title","Group","Value","Target","Percentage","Performance"]],r.map(function(l){return[l.title,l[i],l.value===null?"&ndash;":l.value,b.getProperty(l,"marker")===null?"&ndash;":l.marker,b.getProperty(l,"marker")===null?"&ndash;":Math.floor(l[o]/l.marker*100)+"%",s[n.getMatchingRangeIndexForDatapoint(l)]]}));return u},e}(Zr),eG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){eG(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new tG(a.services),a.model.setOptions(b.mergeDefaultChartOptions(St.bulletChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ve(this.model,this.services),new ge(this.model,this.services),new aN(this.model,this.services),new oe(this.model,this.services,{skeleton:Bt.GRID})],r=this.getAxisChartComponents(n);return r},e})(me);var nG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vf=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},rG=function(t){nG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getTabularDataArray=function(){var n=this.getOptions(),r=n.data.groupMapsTo,a=this.getBinnedStackedData(),i=Vf([Vf([Ct(n,"bins.rangeLabel")||"Range"],a.map(function(o){return Ct(o,"0."+r)}))],Ct(a,0).map(function(o,s){return Vf([Ct(o,"data.x0")+" \u2013 "+Ct(o,"data.x1")],a.map(function(u){return Ct(u[s],"data."+Ct(u[s],r))}))}));return i},e}(Zr),aG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){aG(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new rG(a.services),a.model.setOptions(b.mergeDefaultChartOptions(St.histogramChart,r.options)),a.init(n,r),a.update(),a}return e.prototype.getComponents=function(){var n=[new ve(this.model,this.services),new ge(this.model,this.services),new R3(this.model,this.services),new oN(this.model,this.services)],r=this.getAxisChartComponents(n);return r},e})(me);var iG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ry=function(t){iG(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(b.mergeDefaultChartOptions(St.lineChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ve(this.model,this.services),new ge(this.model,this.services),new Mn(this.model,this.services),new zr(this.model,this.services),new Ve(this.model,this.services,{handleThresholds:!0}),new _N(this.model,this.services),new Xr(this.model,this.services)],r=this.getAxisChartComponents(n);return r},e}(me),oG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){oG(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(b.mergeDefaultChartOptions(St.lollipopChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ve(this.model,this.services),new ge(this.model,this.services),new Mn(this.model,this.services),new lN(this.model,this.services),new Ve(this.model,this.services),new oe(this.model,this.services,{skeleton:Bt.GRID})],r=this.getAxisChartComponents(n);return r},e})(me);var sG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){sG(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model.setOptions(b.mergeDefaultChartOptions(St.scatterChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new ve(this.model,this.services),new ge(this.model,this.services),new Mn(this.model,this.services),new Ve(this.model,this.services),new oe(this.model,this.services,{skeleton:Bt.GRID})],r=this.getAxisChartComponents(n);return r},e})(me);var uG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lG=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},cG=function(t){uG(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getTabularData=function(n){var r=t.prototype.getTabularData.call(this,n);return n!==r&&r.forEach(function(a){a.key&&a.key!==a.group&&(a.group=a.key)}),r},e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=this.getOptions(),a=r.data.groupMapsTo,i=lG([["Group","Value"]],n.map(function(o){return[o[a],o.value===null?"&ndash;":o.value.toLocaleString()]}));return i},e.prototype.sanitize=function(n){var r=this.getTabularData(n);return r.sort(function(a,i){return i.value-a.value})},e}(on),fG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hG=function(t){fG(e,t);function e(n,r,a){a===void 0&&(a=!1);var i=t.call(this,n,r)||this;return i.model=new cG(i.services),a||(i.model.setOptions(b.mergeDefaultChartOptions(St.pieChart,r.options)),i.init(n,r)),i}return e.prototype.getComponents=function(){var n=[new Nm(this.model,this.services),new oe(this.model,this.services,{skeleton:Bt.PIE})],r=this.getChartComponents(n);return r},e}(Ge),dG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){dG(e,t);function e(n,r){var a=t.call(this,n,r,!0)||this;return a.model.setOptions(b.mergeDefaultChartOptions(St.donutChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new gN(this.model,this.services),new oe(this.model,this.services,{skeleton:Bt.DONUT})],r=this.getChartComponents(n);return r},e})(hG);var pG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$f=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},vG=function(t){pG(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getMaximumDomain=function(n){var r=n.reduce(function(a,i){return a+i.value},0);return r},e.prototype.getFillColor=function(n){var r=this.getOptions(),a=b.getProperty(r,"color","scale"),i=this.getStatus();return a||!i?t.prototype.getFillColor.call(this,n):null},e.prototype.getStatus=function(){var n=this.getOptions(),r=b.getProperty(this.getDisplayData(),0,"value"),a=r>100?100:r,i=b.getProperty(n,"meter","status","ranges");if(i){var o=i.filter(function(s){return s.range[0]<=a&&a<=s.range[1]});if(o.length>0)return o[0].status}return null},e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=this.getOptions(),a=r.data.groupMapsTo,i=this.getStatus(),o=b.getProperty(r,"meter","proportional"),s=[],u;if(o===null){u=100;var l=n[0];s=[$f(["Group","Value"],i?["Status"]:[]),$f([l[a],l.value],i?[i]:[])]}else{var c=b.getProperty(o,"total");u=c||this.getMaximumDomain(n),s=$f([["Group","Value","Percentage of total"]],n.map(function(h){return[h[a],h.value,(h.value/u*100).toFixed(2)+" %"]}))}return s},e}(on),gG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qr=globalThis&&globalThis.__assign||function(){return Qr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Qr.apply(this,arguments)},mG=function(t){gG(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="meter",n.renderType=at.SVG,n}return e.prototype.getStackedBounds=function(n,r){var a=0,i=n.map(function(o,s){return s!==0?(a+=r(o.value),Qr(Qr({},o),{width:Math.abs(r(o.value)-ie.dividerWidth),x:a-r(o.value)})):(a=r(o.value),Qr(Qr({},o),{width:Math.abs(r(o.value)-ie.dividerWidth),x:0}))});return i},e.prototype.render=function(n){var r=this;n===void 0&&(n=!0);var a=this,i=this.getComponentContainer(),o=this.getOptions(),s=b.getProperty(o,"meter","proportional"),u=this.model.getDisplayData(),l=this.model.getStatus(),c=F.getSVGElementSize(i,{useAttrs:!0}).width,h=o.data.groupMapsTo,f;if(b.getProperty(o,"meter","proportional")===null)f=100;else{var p=b.getProperty(o,"meter","proportional","total");f=p||this.model.getMaximumDomain(this.model.getDisplayData())}var d=bn().domain([0,f]).range([0,c]),m=this.getStackedBounds(u,d),v=b.getProperty(o,"meter","height");F.appendOrSelect(i,"rect.container").attr("x",0).attr("y",0).attr("width",c).attr("height",v||(s?ie.height.proportional:ie.height.default)),F.appendOrSelect(i,"line.rangeIndicator").attr("x1",c).attr("x2",c).attr("y1",0).attr("y2",v||(s?ie.height.proportional:ie.height.default));var _=i.selectAll("rect.value").data(m),g=l!=null&&!a.model.isUserProvidedColorScaleValid()?"value status--"+l:"value";_.enter().append("rect").classed("value",!0).merge(_).attr("x",function(w){return w.x}).attr("y",0).attr("height",function(){var w=b.getProperty(o,"meter","height");return w||(s?ie.height.proportional:ie.height.default)}).attr("class",function(w){return r.model.getColorClassName({classNameTypes:[rt.FILL],dataGroupName:w[h],originalClassName:g})}).transition().call(function(w){return r.services.transitions.setupTransition({transition:w,name:"meter-bar-update",animate:n})}).attr("width",function(w,M){return w.value>f?d(f):w.width}).style("fill",function(w){return a.model.getFillColor(w[h])}).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","value").attr("aria-label",function(w){return w.value}),_.exit().remove();var y=s?null:b.getProperty(o,"meter","peak"),O=y;y!==null&&(y>f?O=f:y<u[0].value&&(O=u[0].value>f?f:u[0].value));var x=i.selectAll("line.peak").data(O==null?[]:[O]);x.enter().append("line").classed("peak",!0).merge(x).attr("y1",0).attr("y2",function(){var w=b.getProperty(o,"meter","height");return w||8}).transition().call(function(w){return r.services.transitions.setupTransition({transition:w,name:"peak-line-update",animate:n})}).attr("x1",function(w){return d(w)}).attr("x2",function(w){return d(w)}).attr("role",ct.GRAPHICS_SYMBOL).attr("aria-roledescription","peak").attr("aria-label",function(w){return w}),x.exit().remove(),this.services.domUtils.setSVGMaxHeight(),this.addEventListeners()},e.prototype.addEventListeners=function(){var n=this.getOptions(),r=n.data.groupMapsTo,a=this,i=b.getProperty(n,"meter","proportional");this.parent.selectAll("rect.value").on("mouseover",function(o,s){var u=U(this);a.services.events.dispatchEvent(P.Meter.METER_MOUSEOVER,{event:o,element:u,datum:s}),i&&(u.classed("hovered",!0),a.services.events.dispatchEvent(P.Tooltip.SHOW,{event:o,hoveredElement:u,items:[{label:s[r],value:s.value}]}))}).on("mousemove",function(o,s){var u=U(this);a.services.events.dispatchEvent(P.Meter.METER_MOUSEMOVE,{event:o,element:u,datum:s}),i&&a.services.events.dispatchEvent(P.Tooltip.MOVE,{event:o})}).on("click",function(o,s){a.services.events.dispatchEvent(P.Meter.METER_CLICK,{event:o,element:U(this),datum:s})}).on("mouseout",function(o,s){var u=U(this);a.services.events.dispatchEvent(P.Meter.METER_MOUSEOUT,{event:o,element:u,datum:s}),i&&(u.classed("hovered",!1),a.services.events.dispatchEvent(P.Tooltip.HIDE,{hoveredElement:u}))})},e.prototype.destroy=function(){this.parent.selectAll("rect.value").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("click",null)},e}(vt),yG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){yG(e,t);function e(n,r){var a=t.call(this,n,r)||this;a.model=new vG(a.services);var i=r.options.meter.proportional?b.merge(b.clone(St.proportionalMeterChart),r.options):b.merge(b.clone(St.meterChart),r.options);return a.model.setOptions(i),a.init(n,r),a}return e.prototype.getComponents=function(){var n={id:"meter-graph",components:[new mG(this.model,this.services)],growth:yt.STRETCH,renderType:at.SVG},r={id:"meter-title",components:[new NI(this.model,this.services)],growth:yt.STRETCH,renderType:at.SVG},a={id:"spacer",components:[new di(this.model,this.services,{size:8})],growth:yt.STRETCH},i=[new sr(this.model,this.services,[r,a,n],{direction:Rt.COLUMN})],o=this.getChartComponents(i,{graphFrameRenderType:at.HTML});return o},e})(Ge);var _G=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gf=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},bG=function(t){_G(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getTabularDataArray=function(){var n=this.getOptions(),r=this.getGroupedData(),a=b.getProperty(n,"radar","axes"),i=a.angle,o=a.value,s=b.getProperty(r,"0","data").map(function(l){return l[i]}),u=Gf([Gf(["Group"],s)],r.map(function(l){return Gf([l.name],s.map(function(c,h){return b.getProperty(l,"data",h,o)!==null?b.getProperty(l,"data",h,o).toLocaleString():"&ndash;"}))}));return u},e}(Zr),xG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){xG(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new bG(a.services),a.model.setOptions(b.mergeDefaultChartOptions(St.radarChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new QF(this.model,this.services)],r=this.getChartComponents(n);return r},e})(Ge);var wG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),OG=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},TG=function(t){wG(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDataGroups=function(){return t.prototype.getDataGroups.call(this).filter(function(n){return n.name!=="delta"})},e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=this.getOptions(),a=r.data.groupMapsTo,i=OG([["Group","Value"]],n.map(function(o){return[o[a],o.value===null?"&ndash;":o.value.toLocaleString()]}));return i},e}(on),SG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){SG(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new TG(a.services),a.model.setOptions(b.mergeDefaultChartOptions(St.gaugeChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new pN(this.model,this.services)],r=this.getChartComponents(n);return r},e})(Ge);var EG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),MG=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},fn,Iy=(fn={},fn[fe.LINE]=[zr,Ve],fn[fe.SCATTER]=[Ve],fn[fe.AREA]=[Pm,zr,Ve],fn[fe.STACKED_AREA]=[Dm,zr,Im,ks],fn[fe.SIMPLE_BAR]=[Lm],fn[fe.GROUPED_BAR]=[km,Xr],fn[fe.STACKED_BAR]=[Rm,ks],fn);(function(t){EG(e,t);function e(n,r){var a=t.call(this,n,r)||this,i=b.mergeDefaultChartOptions(St.comboChart,r.options);return r.options.comboChartTypes||(console.error("No comboChartTypes defined for the Combo Chart!"),i.comboChartTypes=[{type:fe.LINE,correspondingDatasets:[]}]),a.model.setOptions(i),a.init(n,r),a}return e.prototype.getGraphComponents=function(){var n=this,r=this.model.getOptions().comboChartTypes,a=0,i=r.map(function(o){var s=o.type,u;if(typeof o.type=="string"){if(!Object.keys(Iy).includes(o.type))return console.error('Invalid chart type "'+o.type+'" specified for combo chart. Please refer to the ComboChart tutorial for more guidance.'),null;var l;return u=b.merge({},St[b.camelCase(o.type)+"Chart"],n.model.getOptions(),o.options),o.type===fe.STACKED_AREA&&(l=!0),Iy[o.type].map(function(c,h){return new c(n.model,n.services,{groups:o.correspondingDatasets,id:a++,options:u,stacked:l})})}else return u=b.merge({},n.model.getOptions(),o.options),new s(n.model,n.services,{groups:o.correspondingDatasets,id:a++,options:u})}).filter(function(o){return o!==null});return b.flatten(i)},e.prototype.getComponents=function(){var n=this.model.getOptions().comboChartTypes,r=n.some(function(o){return o.type===fe.STACKED_BAR||o.type===fe.STACKED_AREA}),a=MG([new ve(this.model,this.services),new ge(this.model,this.services),new oe(this.model,this.services,{skeleton:Bt.GRID})],r?[]:[new Mn(this.model,this.services)],this.getGraphComponents()),i=this.getAxisChartComponents(a);return i},e})(me);var CG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),AG=function(t){CG(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getTabularDataArray=function(){var n=this,r=this.getDisplayData(),a=[["Child","Parent"]];return r.forEach(function(i){n.getChildrenDatums(i,a),a.push([i.name,"&ndash;"])}),a},e.prototype.getChildrenDatums=function(n,r){var a=this;r===void 0&&(r=[]),n.children&&n.children.length>0&&n.children.forEach(function(i){a.getChildrenDatums(i,r),r.push([i.name,n.name])})},e}(on),PG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){PG(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new AG(a.services),a.model.setOptions(b.mergeDefaultChartOptions(St.treeChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new yB(this.model,this.services)],r=this.getChartComponents(n,{excludeLegend:!0});return r},e})(Ge);var DG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),LG=function(t){DG(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=[["Child","Group","Value"]];return n.forEach(function(a){a.children.forEach(function(i){r.push([i.name,a.name,i.value])})}),r},e}(on),kG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){kG(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new LG(a.services),a.model.setOptions(b.mergeDefaultChartOptions(St.treemapChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new qF(this.model,this.services)],r=this.getChartComponents(n);return r},e})(Ge);var RG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jr=globalThis&&globalThis.__assign||function(){return Jr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Jr.apply(this,arguments)},IG=function(t){RG(e,t);function e(n){var r=t.call(this,n)||this;return r.parentNode=!1,r.set({depth:2},{skipUpdate:!0}),r}return e.prototype.setData=function(n){t.prototype.setData.call(this,n),this.setDataGroups(),n.length===1&&(this.parentNode=!0),this.setZoom()},e.prototype.setOptions=function(n){var r=this.getOptions(),a=b.merge({},n,this.getZoomOptions(n));b.updateLegendAdditionalItems(r,a);var i=this.getHierarchyLevel(),o=b.getProperty(r,"circlePack","hierarchyLevel");this.set({options:b.merge(r,a),depth:o&&o<4?o:i})},e.prototype.getZoomOptions=function(n){if(!this.getDisplayData())return{};var r=this.getDisplayData(),a=n||this.getOptions(),i=r.length===1&&b.getProperty(r,0,"children")?b.getProperty(r,0,"children"):r,o=this.getHierarchyLevel();return i.some(function(s){if(s.children&&s.children.some(function(u){return u.children}))return o=3,!1}),b.getProperty(a,"canvasZoom","enabled")===!0&&o>2?{legend:{additionalItems:[{type:Ut.ZOOM,name:"Click to zoom"}]}}:null},e.prototype.setZoom=function(n){this.setOptions(this.getZoomOptions(n))},e.prototype.updateHierarchyLevel=function(n){this.set({depth:n})},e.prototype.getHierarchyLevel=function(){return this.get("depth")},e.prototype.hasParentNode=function(){return this.parentNode},e.prototype.setDataGroups=function(){var n=this,r=this.getData(),a=this.getOptions(),i=a.data.groupMapsTo,o=r.map(function(s){var u=s[i];return n.setChildrenDataGroup(s,u)});this.set({data:o},{skipUpdate:!0})},e.prototype.setChildrenDataGroup=function(n,r){var a=this;return n.children?Jr(Jr({},n),{dataGroupName:r,children:n.children.map(function(i,o){return a.setChildrenDataGroup(i,r)})}):Jr(Jr({},n),{dataGroupName:r})},e.prototype.getTabularDataArray=function(){var n=this,r=this.getDisplayData(),a=[["Child","Parent","Value"]];return r.forEach(function(i){var o=i.value?i.value:0;i.children&&(o+=n.getChildrenDatums(i.children,i.name,a,0)),a.push(["&ndash;",i.name,o])}),a},e.prototype.getChildrenDatums=function(n,r,a,i){var o=this;a===void 0&&(a=[]),i===void 0&&(i=0);var s=r;return n.forEach(function(u){var l=u.name,c=0;if(u.children)u.children.length>0&&(typeof u.value=="number"&&(i+=u.value),c+=o.getChildrenDatums(u.children,l,a,c),a.push([l,s,c]),i+=c);else{var h=0;typeof u.value=="number"&&(h=u.value,i+=u.value),a.push([u.name,s,h])}}),i},e}(on),NG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){NG(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new IG(a.services),a.model.setOptions(b.mergeDefaultChartOptions(St.circlePackChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new eV(this.model,this.services)],r=this.getChartComponents(n);return r},e})(Ge);var BG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),UG=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},FG=function(t){BG(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getTabularDataArray=function(){var n=this.getDisplayData(),r=this.getOptions(),a=r.wordCloud,i=a.fontSizeMapsTo,o=a.wordMapsTo,s=r.data.groupMapsTo,u=UG([[r.tooltip.wordLabel,"Group",r.tooltip.valueLabel]],n.map(function(l){return[l[o],l[s],l[i]]}));return u},e}(on),VG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){VG(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new FG(a.services),a.model.setOptions(b.mergeDefaultChartOptions(St.wordCloudChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new OV(this.model,this.services),new oe(this.model,this.services,{skeleton:Bt.PIE})],r=this.getChartComponents(n);return r},e})(Ge);var $G=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),GG=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},HG=function(t){$G(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getTabularDataArray=function(){var n=this.getDisplayData();n.sort(function(a,i){return a.source.localeCompare(i.source)});var r=GG([["Source","Target","Value"]],n.map(function(a){return[a.source,a.target,a.value]}));return r},e}(Zr),zG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){zG(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.model=new HG(a.services),a.model.setOptions(b.mergeDefaultChartOptions(St.alluvialChart,r.options)),a.init(n,r),a}return e.prototype.getComponents=function(){var n=[new HV(this.model,this.services)],r=this.getChartComponents(n,{excludeLegend:!0});return r},e})(Ge);function WG(t){let e,n=[t[2],{id:t[1]}],r={};for(let a=0;a<n.length;a+=1)r=Cn(r,n[a]);return{c(){e=Kf("div"),this.h()},l(a){e=t0(a,"DIV",{id:!0}),Zf(e).forEach(Is),this.h()},h(){Xf(e,r)},m(a,i){Xy(a,e,i),t[7](e)},p(a,[i]){Xf(e,r=eh(n,[i&4&&a[2],i&2&&{id:a[1]}]))},i:He,o:He,d(a){a&&Is(e),t[7](null)}}}function jG(t,e,n){const r=["Chart","chart","data","options","id","ref"];let a=xi(e,r),{Chart:i=void 0}=e,{chart:o=null}=e,{data:s=[]}=e,{options:u={}}=e,{id:l="chart-"+Math.random().toString(36)}=e,{ref:c=null}=e;const h=a0();r0(()=>{const p=c||document.getElementById(l);return p&&(n(3,o=new i(p,{data:s,options:u})),h("load",o)),()=>{o&&(o.components.forEach(d=>d.destroy()),n(3,o=null),h("destroy"))}});function f(p){ra[p?"unshift":"push"](()=>{c=p,n(0,c)})}return t.$$set=p=>{e=Cn(Cn({},e),qf(p)),n(2,a=xi(e,r)),"Chart"in p&&n(4,i=p.Chart),"chart"in p&&n(3,o=p.chart),"data"in p&&n(5,s=p.data),"options"in p&&n(6,u=p.options),"id"in p&&n(1,l=p.id),"ref"in p&&n(0,c=p.ref)},t.$$.update=()=>{t.$$.dirty&104&&o&&(o.model.setData(s),o.model.setOptions(u),h("update",{data:s,options:u}))},[c,l,a,o,i,s,u,f]}class YG extends oh{constructor(e){super();ih(this,e,jG,WG,Rs,{Chart:4,chart:3,data:5,options:6,id:1,ref:0})}}function qG(t){let e,n,r,a;const i=[t[2],{Chart:Ry}];function o(l){t[3](l)}function s(l){t[4](l)}let u={};for(let l=0;l<i.length;l+=1)u=Cn(u,i[l]);return t[1]!==void 0&&(u.ref=t[1]),t[0]!==void 0&&(u.chart=t[0]),e=new YG({props:u}),ra.push(()=>nh(e,"ref",o)),ra.push(()=>nh(e,"chart",s)),e.$on("load",t[5]),e.$on("update",t[6]),e.$on("destroy",t[7]),{c(){f0(e.$$.fragment)},l(l){h0(e.$$.fragment,l)},m(l,c){rh(e,l,c),a=!0},p(l,[c]){const h=c&4?eh(i,[c&4&&c0(l[2]),c&0&&{Chart:Ry}]):{};!n&&c&2&&(n=!0,h.ref=l[1],th(()=>n=!1)),!r&&c&1&&(r=!0,h.chart=l[0],th(()=>r=!1)),e.$set(h)},i(l){a||(Ei(e.$$.fragment,l),a=!0)},o(l){Hs(e.$$.fragment,l),a=!1},d(l){ah(e,l)}}}function KG(t,e,n){const r=["chart","ref"];let a=xi(e,r),{chart:i=null}=e,{ref:o=null}=e;function s(f){o=f,n(1,o)}function u(f){i=f,n(0,i)}function l(f){Bs.call(this,t,f)}function c(f){Bs.call(this,t,f)}function h(f){Bs.call(this,t,f)}return t.$$set=f=>{e=Cn(Cn({},e),qf(f)),n(2,a=xi(e,r)),"chart"in f&&n(0,i=f.chart),"ref"in f&&n(1,o=f.ref)},[i,o,a,s,u,l,c,h]}class DH extends oh{constructor(e){super();ih(this,e,KG,qG,Rs,{chart:0,ref:1})}}export{rH as $,r0 as A,Cn as B,p0 as C,Zy as D,uH as E,eH as F,pH as G,Ky as H,He as I,yH as J,ZG as K,JG as L,tH as M,QG as N,XG as O,_H as P,bH as Q,OH as R,oh as S,wH as T,SH as U,Kh as V,nH as W,a0 as X,gH as Y,oH as Z,fH as _,Zf as a,xH as a0,Bs as a1,sH as a2,ta as a3,TH as a4,z_ as a5,CH as a6,MH as a7,AH as a8,dH as a9,Vs as aa,hH as ab,DH as ac,et as ad,Ma as ae,EH as af,PH as ag,Qy as b,t0 as c,Is as d,Kf as e,Xy as f,e0 as g,cH as h,ih as i,f0 as j,aH as k,iH as l,h0 as m,lH as n,rh as o,eh as p,c0 as q,u0 as r,Rs as s,Ns as t,Hs as u,ah as v,l0 as w,Ei as x,mH as y,vH as z};
